/*! For license information please see main.92ae2ee1.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,C={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!k.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:C.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function $(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+T(l,0):s,x(a)?(i="",null!=e&&(i=e.replace(A,"$&/")+"/"),$(a,t,i,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+T(o=e[c],c);l+=$(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=$(o=o.value,t,i,u=s+T(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function L(e,t,n){if(null==e)return e;var r=[],i=0;return $(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},N={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:N,ReactCurrentOwner:C};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:L,forEach:function(e,t,n){L(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return L(e,(function(){t++})),t},toArray:function(e){return L(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=I,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=C.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,N(_);else{var t=r(u);null!==t&&O(x,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(E),E=-1),f=!0;var s=p;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!$());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(x,d.startTime-n),l=!1}return l}finally{h=null,p=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,k=!1,S=null,E=-1,A=5,T=-1;function $(){return!(t.unstable_now()-T<A)}function L(){if(null!==S){var e=t.unstable_now();T=e;var n=!0;try{n=S(!0,e)}finally{n?C():(k=!1,S=null)}}else k=!1}if("function"===typeof b)C=function(){b(L)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=L,C=function(){P.postMessage(null)}}else C=function(){v(L,0)};function N(e){S=e,k||(k=!0,C())}function O(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,N(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(E),E=-1):g=!0,O(x,s-a))):(e.sortIndex=o,n(c,e),m||f||(m=!0,N(_))),e},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},358:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),A=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,j=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var D=!1;function F(e,t){if(!e||D)return"";D=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{D=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case _:return"Portal";case S:return"Profiler";case k:return"StrictMode";case $:return"Suspense";case L:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Z(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Y(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Ce=null,ke=null;function Se(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(s(280));var t=e.stateNode;t&&(t=xi(t),_e(e.stateNode,e.type,t))}}function Ee(e){Ce?ke?ke.push(e):ke=[e]:Ce=e}function Ae(){if(Ce){var e=Ce,t=ke;if(ke=Ce=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function $e(){}var Le=!1;function Re(e,t,n){if(Le)return e(t,n);Le=!0;try{return Te(e,t,n)}finally{Le=!1,(null!==Ce||null!==ke)&&($e(),Ae())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ne=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Ne=!1}function Ie(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,je=null,Ue=!1,De=null,Fe={onError:function(e){Me=!0,je=e}};function ze(e,t,n,r,i,s,a,o,l){Me=!1,je=null,Ie.apply(Fe,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(s(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Ze=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ye=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,_t,Ct,kt,St,Et=!1,At=[],Tt=null,$t=null,Lt=null,Rt=new Map,Pt=new Map,Nt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":$t=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void St(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Dt(e,t,n){Ut(e)&&n.delete(t)}function Ft(){Et=!1,null!==Tt&&Ut(Tt)&&(Tt=null),null!==$t&&Ut($t)&&($t=null),null!==Lt&&Ut(Lt)&&(Lt=null),Rt.forEach(Dt),Pt.forEach(Dt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function Vt(e){function t(t){return zt(t,e)}if(0<At.length){zt(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==$t&&zt($t,e),null!==Lt&&zt(Lt,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)jt(n),null===n.blockedOn&&Nt.shift()}var Bt=w.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var i=bt,s=Bt.transition;Bt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,Bt.transition=s}}function Wt(e,t,n,r){var i=bt,s=Bt.transition;Bt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,Bt.transition=s}}function Kt(e,t,n,r){if(Ht){var i=Xt(e,t,n,r);if(null===i)Hr(e,t,r,Gt,n),It(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,i),!0;case"dragenter":return $t=Mt($t,e,t,n,r,i),!0;case"mouseover":return Lt=Mt(Lt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rt.set(s,Mt(Rt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Mt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&xt(s),null===(s=Xt(e,t,n,r))&&Hr(e,t,r,Gt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Gt=null;function Xt(e,t,n,r){if(Gt=null,null!==(e=yi(e=xe(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ye:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Jt=null,Yt=null;function en(){if(Yt)return Yt;var e,t,n=Jt,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Yt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=j({},cn,{view:0,detail:0}),hn=sn(dn),pn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),fn=sn(pn),mn=sn(j({},pn,{dataTransfer:0})),gn=sn(j({},dn,{relatedTarget:0})),vn=sn(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(j({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Sn(){return kn}var En=j({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=sn(En),Tn=sn(j({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),$n=sn(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Ln=sn(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=j({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(Rn),Nn=[9,13,27,32],On=u&&"CompositionEvent"in window,In=null;u&&"documentMode"in document&&(In=document.documentMode);var Mn=u&&"TextEvent"in window&&!In,jn=u&&(!On||In&&8<In&&11>=In),Un=String.fromCharCode(32),Dn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function qn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Gn(e){Ur(e,0)}function Xn(e){if(K(wi(e)))return e}function Qn(e,t){if("change"===e)return t}var Zn=!1;if(u){var Jn;if(u){var Yn="oninput"in document;if(!Yn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Yn="function"===typeof er.oninput}Jn=Yn}else Jn=!1;Zn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Xn(Kn)){var t=[];qn(t,Kn,e,xe(e)),Re(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Kn)}function sr(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Cr={},kr={};function Sr(e){if(Cr[e])return Cr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Cr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Er=Sr("animationend"),Ar=Sr("animationiteration"),Tr=Sr("animationstart"),$r=Sr("transitionend"),Lr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Lr.set(e,t),l(t,[e])}for(var Nr=0;Nr<Rr.length;Nr++){var Or=Rr[Nr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Ar,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr($r,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(s(198));var u=je;Me=!1,je=null,Ue||(Ue=!0,De=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;jr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;jr(i,o,c),s=l}}}if(Ue)throw e=De,Ue=!1,De=null,e}function Dr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Fr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Qt(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Re((function(){var r=s,i=xe(n),a=[];e:{var o=Lr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=$n;break;case Er:case Ar:case Tr:l=vn;break;case $r:l=Ln;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Pe(f,h))&&u.push(qr(f,m,p)))),d)break;f=f.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[fi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?o:wi(l),p=null==c?o:wi(c),(o=new u(m,f+"leave",l,n,i)).target=d,o.relatedTarget=p,m=null,yi(i)===r&&((u=new u(h,f+"enter",c,n,i)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Kr(p))f++;for(p=0,m=h;m;m=Kr(m))p++;for(;0<f-p;)u=Kr(u),f--;for(;0<p-f;)h=Kr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Gr(a,o,l,u,!1),null!==c&&null!==d&&Gr(a,d,c,u,!0)}if("select"===(l=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Qn;else if(Hn(o))if(Zn)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?qn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?wi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):(Jt="value"in(Zt=i)?Zt.value:Zt.textContent,Vn=!0)),0<(v=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Dn=!0,Un);case"textInput":return(e=t.data)===Un&&Dn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!On&&Fn(e,t)?(e=en(),Yt=Jt=Zt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Ur(a,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(qr(e,s,i)),null!=(s=Pe(e,t))&&r.push(qr(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Pe(n,s))&&a.unshift(qr(n,l,o)):i||null!=(l=Pe(n,s))&&a.push(qr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(s(425))}function Yr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,pi="__reactProps$"+di,fi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xi(e){return e[pi]||null}var _i=[],Ci=-1;function ki(e){return{current:e}}function Si(e){0>Ci||(e.current=_i[Ci],_i[Ci]=null,Ci--)}function Ei(e,t){Ci++,_i[Ci]=e.current,e.current=t}var Ai={},Ti=ki(Ai),$i=ki(!1),Li=Ai;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ai;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){Si($i),Si(Ti)}function Oi(e,t,n){if(Ti.current!==Ai)throw Error(s(168));Ei(Ti,t),Ei($i,n)}function Ii(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,B(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ai,Li=Ti.current,Ei(Ti,e),Ei($i,$i.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ii(e,t,Li),r.__reactInternalMemoizedMergedChildContext=e,Si($i),Si(Ti),Ei(Ti,e)):Si($i),Ei($i,n)}var Ui=null,Di=!1,Fi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Vi(){if(!Fi&&null!==Ui){Fi=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Di=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ke(Ye,Vi),i}finally{bt=t,Fi=!1}}return null}var Bi=[],Hi=0,qi=null,Wi=0,Ki=[],Gi=0,Xi=null,Qi=1,Zi="";function Ji(e,t){Bi[Hi++]=Wi,Bi[Hi++]=qi,qi=e,Wi=t}function Yi(e,t,n){Ki[Gi++]=Qi,Ki[Gi++]=Zi,Ki[Gi++]=Xi,Xi=e;var r=Qi;e=Zi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qi=1<<32-at(t)+i|n<<i|r,Zi=s+e}else Qi=1<<s|n<<i|r,Zi=e}function es(e){null!==e.return&&(Ji(e,1),Yi(e,1,0))}function ts(e){for(;e===qi;)qi=Bi[--Hi],Bi[Hi]=null,Wi=Bi[--Hi],Bi[Hi]=null;for(;e===Xi;)Xi=Ki[--Gi],Ki[Gi]=null,Zi=Ki[--Gi],Ki[Gi]=null,Qi=Ki[--Gi],Ki[Gi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Qi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function ps(){rs=ns=null,is=!1}function fs(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===C?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Ic(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case _:return(t=Uc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=Ic(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case P:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||I(n))return null!==i?null:d(e,t,n,r,null);vs(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||I(r))return d(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(i,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(i,d),is&&Ji(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return is&&Ji(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=f(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),is&&Ji(i,m),c}function g(i,o,l,c){var u=I(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return is&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=f(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Ji(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===C&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===C){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&ys(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===C?((s=Ic(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Oc(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case _:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uc(a,r.mode,l)).return=r,r=s}return o(r);case P:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(I(a))return g(r,s,a,l);vs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=jc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ws=bs(!0),xs=bs(!1),_s=ki(null),Cs=null,ks=null,Ss=null;function Es(){Ss=ks=Cs=null}function As(e){var t=_s.current;Si(_s),e._currentValue=t}function Ts(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $s(e,t){Cs=e,Ss=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ls(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===Cs)throw Error(s(308));ks=e,Cs.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Rs=null;function Ps(e){null===Rs?Rs=[e]:Rs.push(e)}function Ns(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ps(t)):(n.next=i.next,i.next=n),t.interleaved=n,Os(e,r)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Is=!1;function Ms(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function js(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ds(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Os(e,n)}return null===(i=r.interleaved)?(t.next=t,Ps(r)):(t.next=i.next,i.next=t),r.interleaved=t,Os(e,n)}function Fs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vs(e,t,n,r){var i=e.updateQueue;Is=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,p=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,m=o;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=j({},d,h);break e;case 2:Is=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ml|=a,e.lanes=a,e.memoizedState=d}}function Bs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Hs={},qs=ki(Hs),Ws=ki(Hs),Ks=ki(Hs);function Gs(e){if(e===Hs)throw Error(s(174));return e}function Xs(e,t){switch(Ei(Ks,t),Ei(Ws,e),Ei(qs,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(qs),Ei(qs,t)}function Qs(){Si(qs),Si(Ws),Si(Ks)}function Zs(e){Gs(Ks.current);var t=Gs(qs.current),n=le(t,e.type);t!==n&&(Ei(Ws,e),Ei(qs,n))}function Js(e){Ws.current===e&&(Si(qs),Si(Ws))}var Ys=ki(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=w.ReactCurrentDispatcher,ia=w.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,la=null,ca=!1,ua=!1,da=0,ha=0;function pa(){throw Error(s(321))}function fa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(sa=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Ja:Ya,e=n(r,i),ua){a=0;do{if(ua=!1,da=0,25<=a)throw Error(s(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,i)}while(ua)}if(ra.current=Za,t=null!==oa&&null!==oa.next,sa=0,la=oa=aa=null,ca=!1,t)throw Error(s(300));return e}function ga(){var e=0!==da;return da=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function ya(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function ba(e,t){return"function"===typeof t?t(e):t}function wa(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((sa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,aa.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Ml|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xa(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function _a(){}function Ca(e,t){var n=aa,r=ya(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,Ia(Ea.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,La(9,Sa.bind(null,n,r,i,t),void 0,null),null===$l)throw Error(s(349));0!==(30&sa)||ka(n,t,i)}return i}function ka(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Sa(e,t,n,r){t.value=n,t.getSnapshot=r,Aa(t)&&Ta(e)}function Ea(e,t,n){return n((function(){Aa(t)&&Ta(e)}))}function Aa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ta(e){var t=Os(e,1);null!==t&&nc(t,e,1,-1)}function $a(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Ka.bind(null,aa,e),[t.memoizedState,e]}function La(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ra(){return ya().memoizedState}function Pa(e,t,n,r){var i=va();aa.flags|=e,i.memoizedState=La(1|t,n,void 0,void 0===r?null:r)}function Na(e,t,n,r){var i=ya();r=void 0===r?null:r;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==r&&fa(r,a.deps))return void(i.memoizedState=La(t,n,s,r))}aa.flags|=e,i.memoizedState=La(1|t,n,s,r)}function Oa(e,t){return Pa(8390656,8,e,t)}function Ia(e,t){return Na(2048,8,e,t)}function Ma(e,t){return Na(4,2,e,t)}function ja(e,t){return Na(4,4,e,t)}function Ua(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Da(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Na(4,4,Ua.bind(null,t,e),n)}function Fa(){}function za(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Va(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ba(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),aa.lanes|=n,Ml|=n,e.baseState=!0),t)}function Ha(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function qa(){return ya().memoizedState}function Wa(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ga(e))Xa(t,n);else if(null!==(n=Ns(e,t,n,r))){nc(n,e,r,ec()),Qa(n,t,r)}}function Ka(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ga(e))Xa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ps(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ns(e,t,i,r))&&(nc(n,e,r,i=ec()),Qa(n,t,r))}}function Ga(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Xa(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Za={readContext:Ls,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Ja={readContext:Ls,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Ls,useEffect:Oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4194308,4,Ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wa.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:$a,useDebugValue:Fa,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=$a(!1),t=e[0];return e=Ha.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=va();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===$l)throw Error(s(349));0!==(30&sa)||ka(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Oa(Ea.bind(null,r,a,e),[e]),r.flags|=2048,La(9,Sa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=$l.identifierPrefix;if(is){var n=Zi;t=":"+t+"R"+(n=(Qi&~(1<<32-at(Qi)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ya={readContext:Ls,useCallback:za,useContext:Ls,useEffect:Ia,useImperativeHandle:Da,useInsertionEffect:Ma,useLayoutEffect:ja,useMemo:Va,useReducer:wa,useRef:Ra,useState:function(){return wa(ba)},useDebugValue:Fa,useDeferredValue:function(e){return Ba(ya(),oa.memoizedState,e)},useTransition:function(){return[wa(ba)[0],ya().memoizedState]},useMutableSource:_a,useSyncExternalStore:Ca,useId:qa,unstable_isNewReconciler:!1},eo={readContext:Ls,useCallback:za,useContext:Ls,useEffect:Ia,useImperativeHandle:Da,useInsertionEffect:Ma,useLayoutEffect:ja,useMemo:Va,useReducer:xa,useRef:Ra,useState:function(){return xa(ba)},useDebugValue:Fa,useDeferredValue:function(e){var t=ya();return null===oa?t.memoizedState=e:Ba(t,oa.memoizedState,e)},useTransition:function(){return[xa(ba)[0],ya().memoizedState]},useMutableSource:_a,useSyncExternalStore:Ca,useId:qa,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Us(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(nc(t,e,i,r),Fs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Us(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(nc(t,e,i,r),Fs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Us(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ds(e,i,r))&&(nc(t,e,r,n),Fs(t,e,r))}};function io(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function so(e,t,n){var r=!1,i=Ai,s=t.contextType;return"object"===typeof s&&null!==s?s=Ls(s):(i=Pi(t)?Li:Ti.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ai),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ms(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ls(s):(s=Pi(t)?Li:Ti.current,i.context=Ri(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Vs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Us(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,ql=r),uo(0,t)},n}function fo(e,t,n){(n=Us(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Us(-1,1)).tag=2,Ds(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=w.ReactCurrentOwner,bo=!1;function wo(e,t,n,r){t.child=null===e?xs(t,null,n,r):ws(t,e.child,n,r)}function xo(e,t,n,r,i){n=n.render;var s=t.ref;return $s(t,i),r=ma(e,t,n,r,s,i),n=ga(),null===e||bo?(is&&n&&es(t),t.flags|=1,wo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function _o(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Pc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Co(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ho(e,t,i)}return t.flags|=1,(e=Nc(s,r)).ref=t.ref,e.return=t,t.child=e}function Co(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ho(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return Eo(e,t,n,r,i)}function ko(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Nl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Nl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ei(Nl,Pl),Pl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ei(Nl,Pl),Pl|=r;return wo(e,t,i,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Eo(e,t,n,r,i){var s=Pi(n)?Li:Ti.current;return s=Ri(t,s),$s(t,i),n=ma(e,t,n,r,s,i),r=ga(),null===e||bo?(is&&r&&es(t),t.flags|=1,wo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function Ao(e,t,n,r,i){if(Pi(n)){var s=!0;Mi(t)}else s=!1;if($s(t,i),null===t.stateNode)Bo(e,t),so(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ls(c):c=Ri(t,c=Pi(n)?Li:Ti.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&ao(t,a,r,c),Is=!1;var h=t.memoizedState;a.state=h,Vs(t,r,a,i),l=t.memoizedState,o!==r||h!==l||$i.current||Is?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Is||io(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,js(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ls(l):l=Ri(t,l=Pi(n)?Li:Ti.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ao(t,a,r,l),Is=!1,h=t.memoizedState,a.state=h,Vs(t,r,a,i);var f=t.memoizedState;o!==d||h!==f||$i.current||Is?("function"===typeof p&&(no(t,n,p,r),f=t.memoizedState),(c=Is||io(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return To(e,t,n,r,s,i)}function To(e,t,n,r,i,s){So(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&ji(t,n,!1),Ho(e,t,s);r=t.stateNode,yo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,o,s)):wo(e,t,o,s),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function $o(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Xs(e,t.containerInfo)}function Lo(e,t,n,r,i){return ps(),fs(i),t.flags|=256,wo(e,t,n,r),t.child}var Ro,Po,No,Oo,Io={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function jo(e,t,n){var r,i=t.pendingProps,a=Ys.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ei(Ys,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Mc(l,i,0,null),e=Ic(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Mo(n),t.memoizedState=Io,e):Uo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Do(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(a=Ic(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,o),t.child.memoizedState=Mo(o),t.memoizedState=Io,a);if(0===(1&t.mode))return Do(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Do(e,t,o,r=co(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=$l)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Os(e,i),nc(r,e,i,-1))}return mc(),Do(e,t,o,r=co(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ki[Gi++]=Qi,Ki[Gi++]=Zi,Ki[Gi++]=Xi,Qi=e.id,Zi=e.overflow,Xi=t),t=Uo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Nc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Nc(r,o):(o=Ic(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Mo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Io,i}return e=(o=e.child).sibling,i=Nc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uo(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Do(e,t,n,r){return null!==r&&fs(r),ws(t,e.child,null,n),(e=Uo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ts(e.return,t,n)}function zo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Vo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=Ys.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fo(e,n,t);else if(19===e.tag)Fo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(Ys,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zo(t,!0,n,null,s);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Nc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qo(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ko(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return Pi(t.type)&&Ni(),Wo(t),null;case 3:return r=t.stateNode,Qs(),Si($i),Si(Ti),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Po(e,t),Wo(t),null;case 5:Js(t);var i=Gs(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)No(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wo(t),null}if(e=Gs(qs.current),ds(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[pi]=a,e=0!==(1&t.mode),n){case"dialog":Dr("cancel",r),Dr("close",r);break;case"iframe":case"object":case"embed":Dr("load",r);break;case"video":case"audio":for(i=0;i<Ir.length;i++)Dr(Ir[i],r);break;case"source":Dr("error",r);break;case"img":case"image":case"link":Dr("error",r),Dr("load",r);break;case"details":Dr("toggle",r);break;case"input":Q(r,a),Dr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Dr("invalid",r);break;case"textarea":ie(r,a),Dr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Dr("scroll",r)}switch(n){case"input":W(r),Y(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Yr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[pi]=r,Ro(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Dr("cancel",e),Dr("close",e),i=r;break;case"iframe":case"object":case"embed":Dr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ir.length;i++)Dr(Ir[i],e);i=r;break;case"source":Dr("error",e),i=r;break;case"img":case"image":case"link":Dr("error",e),Dr("load",e),i=r;break;case"details":Dr("toggle",e),i=r;break;case"input":Q(e,r),i=X(e,r),Dr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Dr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Dr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Dr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":W(e),Y(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Yr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)Oo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Gs(Ks.current),Gs(qs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wo(t),null;case 13:if(Si(Ys),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),ps(),t.flags|=98560,a=!1;else if(a=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),a=!1}else null!==ss&&(ac(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Ys.current)?0===Ol&&(Ol=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return Qs(),Po(e,t),null===e&&Vr(t.stateNode.containerInfo),Wo(t),null;case 10:return As(t.type._context),Wo(t),null;case 19:if(Si(Ys),null===(a=t.memoizedState))return Wo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)qo(a,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,qo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(Ys,1&Ys.current|2),t.child}e=e.sibling}null!==a.tail&&Ze()>Vl&&(t.flags|=128,r=!0,qo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Wo(t),null}else 2*Ze()-a.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,qo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ze(),t.sibling=null,n=Ys.current,Ei(Ys,r?1&n|2:1&n),t):(Wo(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Go(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qs(),Si($i),Si(Ti),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Si(Ys),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(Ys),null;case 4:return Qs(),null;case 10:return As(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ro=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},No=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gs(qs.current);var s,a=null;switch(n){case"input":i=X(e,i),r=X(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Yr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Dr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Oo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xo=!1,Qo=!1,Zo="function"===typeof WeakSet?WeakSet:Set,Jo=null;function Yo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Yr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Qo||Yo(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Qo&&(Yo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){kc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qo=(r=Qo)||null!==n.memoizedState,hl(e,t,n),Qo=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));pl(a,o,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){kc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Yo(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Yo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Z(i,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(i,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(g){kc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){kc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Ze())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qo=(u=Qo)||d,ml(t,e),Qo=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Jo=e,d=e.child;null!==d;){for(h=Jo=d;null!==Jo;){switch(f=(p=Jo).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Yo(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:Yo(p,p.return);break;case 22:if(null!==p.memoizedState){xl(h);continue}}null!==f?(f.return=p,Jo=f):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(s(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Jo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Jo;){var i=Jo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Xo;var c=Qo;if(Xo=a,(Qo=l)&&!c)for(Jo=i;null!==Jo;)l=(a=Jo).child,22===a.tag&&null!==a.memoizedState?_l(i):null!==l?(l.return=a,Jo=l):_l(i);for(;null!==s;)Jo=s,bl(s,t,n),s=s.sibling;Jo=i,Xo=o,Qo=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Jo=s):wl(e)}}function wl(e){for(;null!==Jo;){var t=Jo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Bs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(s(163))}Qo||512&t.flags&&il(t)}catch(p){kc(t,t.return,p)}}if(t===e){Jo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jo=n;break}Jo=t.return}}function xl(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jo=n;break}Jo=t.return}}function _l(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var s=t.return;try{il(t)}catch(l){kc(t,s,l)}break;case 5:var a=t.return;try{il(t)}catch(l){kc(t,a,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var Cl,kl=Math.ceil,Sl=w.ReactCurrentDispatcher,El=w.ReactCurrentOwner,Al=w.ReactCurrentBatchConfig,Tl=0,$l=null,Ll=null,Rl=0,Pl=0,Nl=ki(0),Ol=0,Il=null,Ml=0,jl=0,Ul=0,Dl=null,Fl=null,zl=0,Vl=1/0,Bl=null,Hl=!1,ql=null,Wl=null,Kl=!1,Gl=null,Xl=0,Ql=0,Zl=null,Jl=-1,Yl=0;function ec(){return 0!==(6&Tl)?Ze():-1!==Jl?Jl:Jl=Ze()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Rl?Rl&-Rl:null!==ms.transition?(0===Yl&&(Yl=mt()),Yl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,Zl=null,Error(s(185));vt(e,n,r),0!==(2&Tl)&&e===$l||(e===$l&&(0===(2&Tl)&&(jl|=n),4===Ol&&oc(e,Rl)),rc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Vl=Ze()+500,Di&&Vi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=pt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===$l?Rl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Di=!0,zi(e)}(lc.bind(null,e)):zi(lc.bind(null,e)),ai((function(){0===(6&Tl)&&Vi()})),n=null;else{switch(wt(r)){case 1:n=Ye;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=$c(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Yl=0,0!==(6&Tl))throw Error(s(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===$l?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Tl;Tl|=2;var a=fc();for($l===e&&Rl===t||(Bl=null,Vl=Ze()+500,hc(e,t));;)try{yc();break}catch(l){pc(e,l)}Es(),Sl.current=a,Tl=i,null!==Ll?t=0:($l=null,Rl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=sc(e,i))),1===t)throw n=Il,hc(e,0),oc(e,r),rc(e,Ze()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=ft(e))&&(r=a,t=sc(e,a))),1===t))throw n=Il,hc(e,0),oc(e,r),rc(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:xc(e,Fl,Bl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=zl+500-Ze())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Fl,Bl),t);break}xc(e,Fl,Bl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Fl,Bl),r);break}xc(e,Fl,Bl);break;default:throw Error(s(329))}}}return rc(e,Ze()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Dl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Fl,Fl=n,null!==t&&ac(t)),e}function ac(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function oc(e,t){for(t&=~Ul,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Tl))throw Error(s(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Ze()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Il,hc(e,0),oc(e,t),rc(e,Ze()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Fl,Bl),rc(e,Ze()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Vl=Ze()+500,Di&&Vi())}}function uc(e){null!==Gl&&0===Gl.tag&&0===(6&Tl)&&_c();var t=Tl;Tl|=1;var n=Al.transition,r=bt;try{if(Al.transition=null,bt=1,e)return e()}finally{bt=r,Al.transition=n,0===(6&(Tl=t))&&Vi()}}function dc(){Pl=Nl.current,Si(Nl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ll)for(n=Ll.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:Qs(),Si($i),Si(Ti),na();break;case 5:Js(r);break;case 4:Qs();break;case 13:case 19:Si(Ys);break;case 10:As(r.type._context);break;case 22:case 23:dc()}n=n.return}if($l=e,Ll=e=Nc(e.current,null),Rl=Pl=t,Ol=0,Il=null,Ul=jl=Ml=0,Fl=Dl=null,null!==Rs){for(t=0;t<Rs.length;t++)if(null!==(r=(n=Rs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Rs=null}return e}function pc(e,t){for(;;){var n=Ll;try{if(Es(),ra.current=Za,ca){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(sa=0,la=oa=aa=null,ua=!1,da=0,El.current=null,null===n||null===n.return){Ol=1,Il=t,Ll=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=go(o);if(null!==f){f.flags&=-257,vo(f,o,l,0,t),1&f.mode&&mo(a,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(a,u,t),mc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),fs(lo(c,l));break e}}a=c=lo(c,l),4!==Ol&&(Ol=2),null===Dl?Dl=[a]:Dl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zs(a,po(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,zs(a,fo(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,Ll===n&&null!==n&&(Ll=n=n.return);continue}break}}function fc(){var e=Sl.current;return Sl.current=Za,null===e?Za:e}function mc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===$l||0===(268435455&Ml)&&0===(268435455&jl)||oc($l,Rl)}function gc(e,t){var n=Tl;Tl|=2;var r=fc();for($l===e&&Rl===t||(Bl=null,hc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(Es(),Tl=n,Sl.current=r,null!==Ll)throw Error(s(261));return $l=null,Rl=0,Ol}function vc(){for(;null!==Ll;)bc(Ll)}function yc(){for(;null!==Ll&&!Xe();)bc(Ll)}function bc(e){var t=Cl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?wc(e):Ll=t,El.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Pl)))return void(Ll=n)}else{if(null!==(n=Go(n,t)))return n.flags&=32767,void(Ll=n);if(null===e)return Ol=6,void(Ll=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ll=t);Ll=t=e}while(null!==t);0===Ol&&(Ol=5)}function xc(e,t,n){var r=bt,i=Al.transition;try{Al.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Gl);if(0!==(6&Tl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===$l&&(Ll=$l=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,$c(tt,(function(){return _c(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Al.transition,Al.transition=null;var o=bt;bt=1;var l=Tl;Tl|=4,El.current=null,function(e,t){if(ei=Ht,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=o),p===a&&++d===r&&(c=o),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(x){kc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(ti),Ht=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Qe(),Tl=l,bt=o,Al.transition=a}else e.current=n;if(Kl&&(Kl=!1,Gl=e,Xl=i),a=e.pendingLanes,0===a&&(Wl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=ql,ql=null,e;0!==(1&Xl)&&0!==e.tag&&_c(),a=e.pendingLanes,0!==(1&a)?e===Zl?Ql++:(Ql=0,Zl=e):Ql=0,Vi()}(e,t,n,r)}finally{Al.transition=i,bt=r}return null}function _c(){if(null!==Gl){var e=wt(Xl),t=Al.transition,n=bt;try{if(Al.transition=null,bt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Xl=0,0!==(6&Tl))throw Error(s(331));var i=Tl;for(Tl|=4,Jo=e.current;null!==Jo;){var a=Jo,o=a.child;if(0!==(16&Jo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Jo=u;null!==Jo;){var d=Jo;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Jo=h;else for(;null!==Jo;){var p=(d=Jo).sibling,f=d.return;if(sl(d),d===u){Jo=null;break}if(null!==p){p.return=f,Jo=p;break}Jo=f}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Jo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Jo=o;else e:for(;null!==Jo;){if(0!==(2048&(a=Jo).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Jo=y;break e}Jo=a.return}}var b=e.current;for(Jo=b;null!==Jo;){var w=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Jo=w;else e:for(o=b;null!==Jo;){if(0!==(2048&(l=Jo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){kc(l,l.return,_)}if(l===o){Jo=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Jo=x;break e}Jo=l.return}}if(Tl=i,Vi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Al.transition=t}}return!1}function Cc(e,t,n){e=Ds(e,t=po(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Ds(t,e=fo(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,$l===e&&(Rl&n)===n&&(4===Ol||3===Ol&&(130023424&Rl)===Rl&&500>Ze()-zl?hc(e,0):Ul|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Os(e,t))&&(vt(e,t,n),rc(e,n))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ec(e,n)}function $c(e,t){return Ke(e,t)}function Lc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Lc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Pc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case C:return Ic(n.children,i,a,t);case k:o=8,i|=8;break;case S:return(e=Rc(12,n,t,2|i)).elementType=S,e.lanes=a,e;case $:return(e=Rc(13,n,t,i)).elementType=$,e.lanes=a,e;case L:return(e=Rc(19,n,t,i)).elementType=L,e.lanes=a,e;case N:return Mc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:o=10;break e;case A:o=9;break e;case T:o=11;break e;case R:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Rc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ic(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,r,i,s,a,o,l){return e=new Dc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Rc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ms(s),e}function zc(e){if(!e)return Ai;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Ii(e,n,t)}return t}function Vc(e,t,n,r,i,s,a,o,l){return(e=Fc(n,r,!0,e,0,s,0,o,l)).context=zc(null),n=e.current,(s=Us(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ds(n,s,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function Bc(e,t,n,r){var i=t.current,s=ec(),a=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Us(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ds(i,t,a))&&(nc(e,i,a,s),Fs(e,i,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||$i.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:$o(t),ps();break;case 5:Zs(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:Xs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(_s,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(Ys,1&Ys.current),t.flags|=128,null):0!==(n&t.child.childLanes)?jo(e,t,n):(Ei(Ys,1&Ys.current),null!==(e=Ho(e,t,n))?e.sibling:null);Ei(Ys,1&Ys.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(Ys,Ys.current),r)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return Ho(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&Yi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bo(e,t),e=t.pendingProps;var i=Ri(t,Ti.current);$s(t,n),i=ma(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ms(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=To(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),wo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(r),e=to(r,e),i){case 0:t=Eo(null,t,r,e,n);break e;case 1:t=Ao(null,t,r,e,n);break e;case 11:t=xo(null,t,r,e,n);break e;case 14:t=_o(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Eo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ao(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if($o(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,js(e,t),Vs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Lo(e,t,r,n,i=lo(Error(s(423)),t));break e}if(r!==i){t=Lo(e,t,r,n,i=lo(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),r===i){t=Ho(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return Zs(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),So(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return jo(e,t,n);case 4:return Xs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ei(_s,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!$i.current){t=Ho(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Us(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ts(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ts(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$s(t,n),r=r(i=Ls(i)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),_o(e,t,r,i=to(r.type,i),n);case 15:return Co(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),Bo(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,$s(t,n),so(t,r,i),oo(t,r,i,n),To(null,t,r,!0,e,n);case 19:return Vo(e,t,n);case 22:return ko(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Yc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Hc(a);o.call(e)}}Bc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hc(a);s.call(e)}}var a=Vc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[fi]=a.current,Vr(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Hc(l);o.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[fi]=l.current,Vr(8===e.nodeType?e.parentNode:e),uc((function(){Bc(t,l,n,r)})),l}(n,t,e,i,r);return Hc(a)}Xc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Bc(e,t,null,null)},Xc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Bc(null,e,null,null)})),t[fi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&jt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ze()),0===(6&Tl)&&(Vl=Ze()+500,Vi()))}break;case 13:uc((function(){var t=Os(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},_t=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},Ct=function(e){if(13===e.tag){var t=tc(e),n=Os(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},kt=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(s(90));K(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,$e=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,xi,Ee,Ae,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(s(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(s(200));return Yc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,i,0,a,o),e[fi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(s(200));return Yc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc((function(){Yc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Yc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},844:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".210510fe.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="the-forms:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,a=r[0],o=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkthe_forms=self.webpackChunkthe_forms||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{ActivityBlock:()=>Cs,ActivityHeader:()=>Vl,BaseComponent:()=>tr,Block:()=>bs,BtnUi:()=>El,CameraSource:()=>Jo,CloudImageEditor:()=>Xl,CloudImageEditorActivity:()=>Nl,CloudImageEditorBlock:()=>ol,Config:()=>Ua,Copyright:()=>Hl,CropFrame:()=>ll,Data:()=>Un,DropArea:()=>so,EditorCropButtonControl:()=>ul,EditorFilterControl:()=>vl,EditorImageCropper:()=>wl,EditorImageFader:()=>Cl,EditorOperationControl:()=>yl,EditorScroller:()=>kl,EditorSlider:()=>fl,EditorToolbar:()=>Sl,ExternalSource:()=>Fl,ExternalUploadSource:()=>qs,FileItem:()=>Bo,FileUploaderInline:()=>Gl,FileUploaderMinimal:()=>Kl,FileUploaderRegular:()=>Wl,FormInput:()=>zl,Icon:()=>Da,Img:()=>Ga,LineLoaderUi:()=>Al,Modal:()=>Ho,PACKAGE_NAME:()=>js,PACKAGE_VERSION:()=>Us,PresenceToggle:()=>Rl,ProgressBar:()=>nl,ProgressBarCommon:()=>tl,Select:()=>Bl,SimpleBtn:()=>Xa,SliderUi:()=>Pl,SolutionBlock:()=>ws,SourceBtn:()=>ao,SourceList:()=>oo,Spinner:()=>ql,StartFrom:()=>Qa,UID:()=>zn,UploadCtxProvider:()=>el,UploadList:()=>qo,UploadSource:()=>Ws,UploaderBlock:()=>wa,UrlSource:()=>Wo,defineComponents:()=>In,defineLocale:()=>ss,loadFileUploaderFrom:()=>Zl,toKebabCase:()=>xa});var t=n(43),r=n(579);const i=(0,t.createContext)(),s=e=>{let{children:n}=e;const[s,a]=(0,t.useState)(localStorage.getItem("theme")||"light");(0,t.useEffect)((()=>{localStorage.setItem("theme",s),document.body.className=s}),[s]);return(0,r.jsx)(i.Provider,{value:{theme:s,toggleTheme:()=>{a((e=>"light"===e?"dark":"light"))}},children:n})},a=()=>(0,t.useContext)(i);n(844);Object.create(null);const o={},l=(e,t,n,r)=>{h(n)&&o[n]||(h(n)&&(o[n]=new Date),((e,t,n,r)=>{const i=[n,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);h(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...i):console?.warn&&console.warn(...i)})(e,t,n,r))},c=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout((()=>{e.off("initialized",n)}),0),t()};e.on("initialized",n)}},u=(e,t,n)=>{e.loadNamespaces(t,c(e,n))},d=(e,t,n,r)=>{if(h(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return u(e,n,r);n.forEach((t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)})),e.loadLanguages(t,c(e,r))},h=e=>"string"===typeof e,p=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,f={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},m=e=>f[e];let g={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(p,m)};let v;const y={type:"3rdParty",init(e){!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g={...g,...e}}(e.options.react),(e=>{v=e})(e)}},b=(0,t.createContext)();class w{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach((e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)}))}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const x=(e,t,n,r)=>e.getFixedT(t,n,r),_=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{i18n:r}=n,{i18n:i,defaultNS:s}=(0,t.useContext)(b)||{},a=r||i||v;if(a&&!a.reportNamespaces&&(a.reportNamespaces=new w),!a){l(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const e=(e,t)=>{return h(t)?t:"object"===typeof(n=t)&&null!==n&&h(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e;var n},t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}a.options.react?.wait&&l(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...g,...a.options.react,...n},{useSuspense:c,keyPrefix:p}=o;let f=e||s||a.options?.defaultNS;f=h(f)?[f]:f||["translation"],a.reportNamespaces.addUsedNamespaces?.(f);const m=(a.isInitialized||a.initializedStoreOnce)&&f.every((e=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,r)=>{if(n.bindI18n?.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):(l(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0)}(e,a,o))),y=((e,n,r,i)=>(0,t.useCallback)(x(e,n,r,i),[e,n,r,i]))(a,n.lng||null,"fallback"===o.nsMode?f:f[0],p),_=()=>y,C=()=>x(a,n.lng||null,"fallback"===o.nsMode?f:f[0],p),[k,S]=(0,t.useState)(_);let E=f.join();n.lng&&(E=`${n.lng}${E}`);const A=((e,n)=>{const r=(0,t.useRef)();return(0,t.useEffect)((()=>{r.current=n?r.current:e}),[e,n]),r.current})(E),T=(0,t.useRef)(!0);(0,t.useEffect)((()=>{const{bindI18n:e,bindI18nStore:t}=o;T.current=!0,m||c||(n.lng?d(a,n.lng,f,(()=>{T.current&&S(C)})):u(a,f,(()=>{T.current&&S(C)}))),m&&A&&A!==E&&T.current&&S(C);const r=()=>{T.current&&S(C)};return e&&a?.on(e,r),t&&a?.store.on(t,r),()=>{T.current=!1,a&&e?.split(" ").forEach((e=>a.off(e,r))),t&&a&&t.split(" ").forEach((e=>a.store.off(e,r)))}}),[a,E]),(0,t.useEffect)((()=>{T.current&&m&&S(_)}),[a,p,m]);const $=[k,a,m];if($.t=k,$.i18n=a,$.ready=m,m)return $;if(!m&&!c)return $;throw new Promise((e=>{n.lng?d(a,n.lng,f,(()=>e())):u(a,f,(()=>e()))}))};function C(e){let{i18n:n,defaultNS:r,children:i}=e;const s=(0,t.useMemo)((()=>({i18n:n,defaultNS:r})),[n,r]);return(0,t.createElement)(b.Provider,{value:s},i)}const k=()=>{const{theme:e,toggleTheme:t}=a(),{t:n,i18n:i}=_();return(0,r.jsx)("button",{onClick:t,children:n("dark"===e?"\u0414\u0435\u043d\u044c":"\u041d\u043e\u0447\u044c")})};var S=n(391);const E=e=>"string"===typeof e,A=()=>{let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n},T=e=>null==e?"":""+e,$=/###/g,L=e=>e&&e.indexOf("###")>-1?e.replace($,"."):e,R=e=>!e||E(e),P=(e,t,n)=>{const r=E(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if(R(e))return{};const t=L(r[i]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++i}return R(e)?{}:{obj:e,k:L(r[i])}},N=(e,t,n)=>{const{obj:r,k:i}=P(e,t,Object);if(void 0!==r||1===t.length)return void(r[i]=n);let s=t[t.length-1],a=t.slice(0,t.length-1),o=P(e,a,Object);for(;void 0===o.obj&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),o=P(e,a,Object),o?.obj&&"undefined"!==typeof o.obj[`${o.k}.${s}`]&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=n},O=(e,t)=>{const{obj:n,k:r}=P(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},I=(e,t,n)=>{for(const r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?E(e[r])||e[r]instanceof String||E(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):I(e[r],t[r],n):e[r]=t[r]);return e},M=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const U=e=>E(e)?e.replace(/[&<>"'\/]/g,(e=>j[e])):e;const D=[" ",",","?","!",";"],F=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),z=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const r=t.split(n);let i=e;for(let s=0;s<r.length;){if(!i||"object"!==typeof i)return;let e,t="";for(let a=s;a<r.length;++a)if(a!==s&&(t+=n),t+=r[a],e=i[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&a<r.length-1)continue;s+=a-s+1;break}i=e}return i},V=e=>e?.replace("_","-"),B={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class H{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||B,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:(E(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new H(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new H(this.logger,e)}}var q=new H;class W{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach((e=>{let[t,r]=e;for(let i=0;i<r;i++)t(...n)}))}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach((t=>{let[r,i]=t;for(let s=0;s<i;s++)r.apply(r,[e,...n])}))}}}class K extends W{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,s=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],n&&(Array.isArray(n)?a.push(...n):E(n)&&i?a.push(...n.split(i)):a.push(n)));const o=O(this.data,a);return!o&&!t&&!n&&e.indexOf(".")>-1&&(e=a[0],t=a[1],n=a.slice(2).join(".")),!o&&s&&E(n)?z(this.data?.[e]?.[t],n,i):o}addResource(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const s=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator;let a=[e,t];n&&(a=a.concat(s?n.split(s):n)),e.indexOf(".")>-1&&(a=e.split("."),r=t,t=a[1]),this.addNamespaces(t),N(this.data,a,r),i.silent||this.emit("added",e,t,n,r)}addResources(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const i in n)(E(n[i])||Array.isArray(n[i]))&&this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),r=n,n=t,t=a[1]),this.addNamespaces(t);let o=O(this.data,a)||{};s.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?I(o,n,i):o={...o,...n},N(this.data,a,o),s.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var G={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach((e=>{t=this.processors[e]?.process(t,n,r,i)??t})),t}};const X={},Q=e=>!E(e)&&"boolean"!==typeof e&&"number"!==typeof e;class Z extends W{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,n)=>{e.forEach((e=>{t[e]&&(n[e]=t[e])}))})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=q.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const n=this.resolve(e,t);return void 0!==n?.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const s=n&&e.indexOf(n)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!((e,t,n)=>{t=t||"",n=n||"";const r=D.filter((e=>t.indexOf(e)<0&&n.indexOf(e)<0));if(0===r.length)return!0;const i=F.getRegExp(`(${r.map((e=>"?"===e?"\\?":e)).join("|")})`);let s=!i.test(e);if(!s){const t=e.indexOf(n);t>0&&!i.test(e.substring(0,t))&&(s=!0)}return s})(e,n,r);if(s&&!a){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:E(i)?[i]:i};const s=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(s[0])>-1)&&(i=s.shift()),e=s.join(r)}return{key:e,namespaces:E(i)?[i]:i}}translate(e,t,n){if("object"!==typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"===typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const r=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(e[e.length-1],t),o=a[a.length-1],l=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===l?.toLowerCase()){if(c){const e=t.nsSeparator||this.options.nsSeparator;return r?{res:`${o}${e}${s}`,usedKey:s,exactUsedKey:s,usedLng:l,usedNS:o,usedParams:this.getUsedParamsDetails(t)}:`${o}${e}${s}`}return r?{res:s,usedKey:s,exactUsedKey:s,usedLng:l,usedNS:o,usedParams:this.getUsedParamsDetails(t)}:s}const u=this.resolve(e,t);let d=u?.res;const h=u?.usedKey||s,p=u?.exactUsedKey||s,f=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject,g=void 0!==t.count&&!E(t.count),v=Z.hasDefaultValue(t),y=g?this.pluralResolver.getSuffix(l,t.count,t):"",b=t.ordinal&&g?this.pluralResolver.getSuffix(l,t.count,{ordinal:!1}):"",w=g&&!t.ordinal&&0===t.count,x=w&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${y}`]||t[`defaultValue${b}`]||t.defaultValue;let _=d;m&&!d&&v&&(_=x);const C=Q(_),k=Object.prototype.toString.apply(_);if(!(m&&_&&C&&["[object Number]","[object Function]","[object RegExp]"].indexOf(k)<0)||E(f)&&Array.isArray(_))if(m&&E(f)&&Array.isArray(d))d=d.join(f),d&&(d=this.extendTranslation(d,e,t,n));else{let r=!1,a=!1;!this.isValidLookup(d)&&v&&(r=!0,d=x),this.isValidLookup(d)||(a=!0,d=s);const c=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&a?void 0:d,h=v&&x!==d&&this.options.updateMissing;if(a||r||h){if(this.logger.log(h?"updateKey":"missingKey",l,o,s,h?x:d),i){const e=this.resolve(s,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const r=(e,n,r)=>{const i=v&&r!==d?r:c;this.options.missingKeyHandler?this.options.missingKeyHandler(e,o,n,i,h,t):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(e,o,n,i,h,t),this.emit("missingKey",e,o,n,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&g?e.forEach((e=>{const n=this.pluralResolver.getSuffixes(e,t);w&&t[`defaultValue${this.options.pluralSeparator}zero`]&&n.indexOf(`${this.options.pluralSeparator}zero`)<0&&n.push(`${this.options.pluralSeparator}zero`),n.forEach((n=>{r([e],s+n,t[`defaultValue${n}`]||x)}))})):r(e,s,x))}d=this.extendTranslation(d,e,t,u,n),a&&d===s&&this.options.appendNamespaceToMissingKey&&(d=`${o}:${s}`),(a||r)&&this.options.parseMissingKeyHandler&&(d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${o}:${s}`:s,r?d:void 0))}else{if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,_,{...t,ns:a}):`key '${s} (${this.language})' returned an object instead of string.`;return r?(u.res=e,u.usedParams=this.getUsedParamsDetails(t),u):e}if(i){const e=Array.isArray(_),n=e?[]:{},r=e?p:h;for(const s in _)if(Object.prototype.hasOwnProperty.call(_,s)){const e=`${r}${i}${s}`;n[s]=v&&!d?this.translate(e,{...t,defaultValue:Q(x)?x[s]:void 0,joinArrays:!1,ns:a}):this.translate(e,{...t,joinArrays:!1,ns:a}),n[s]===e&&(n[s]=_[s])}d=n}}return r?(u.res=d,u.usedParams=this.getUsedParamsDetails(t),u):d}extendTranslation(e,t,n,r,i){var s=this;if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const a=E(e)&&(void 0!==n?.interpolation?.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let o;if(a){const t=e.match(this.interpolator.nestingRegexp);o=t&&t.length}let l=n.replace&&!E(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,n.lng||this.language||r.usedLng,n),a){const t=e.match(this.interpolator.nestingRegexp);o<(t&&t.length)&&(n.nest=!1)}!n.lng&&r&&r.res&&(n.lng=this.language||r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i?.[0]!==r[0]||n.context?s.translate(...r,t):(s.logger.warn(`It seems you are nesting recursively key: ${r[0]} in key: ${t[0]}`),null)}),n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,o=E(a)?[a]:a;return null!=e&&o?.length&&!1!==n.applyPostProcessor&&(e=G.handle(o,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t,n,r,i,s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return E(e)&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const o=this.extractFromKey(e,a),l=o.key;n=l;let c=o.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const u=void 0!==a.count&&!E(a.count),d=u&&!a.ordinal&&0===a.count,h=void 0!==a.context&&(E(a.context)||"number"===typeof a.context)&&""!==a.context,p=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);c.forEach((e=>{this.isValidLookup(t)||(s=e,X[`${p[0]}-${e}`]||!this.utils?.hasLoadedNamespace||this.utils?.hasLoadedNamespace(s)||(X[`${p[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${p.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((n=>{if(this.isValidLookup(t))return;i=n;const s=[l];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(s,l,n,e,a);else{let e;u&&(e=this.pluralResolver.getSuffix(n,a.count,a));const t=`${this.options.pluralSeparator}zero`,r=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(s.push(l+e),a.ordinal&&0===e.indexOf(r)&&s.push(l+e.replace(r,this.options.pluralSeparator)),d&&s.push(l+t)),h){const n=`${l}${this.options.contextSeparator}${a.context}`;s.push(n),u&&(s.push(n+e),a.ordinal&&0===e.indexOf(r)&&s.push(n+e.replace(r,this.options.pluralSeparator)),d&&s.push(n+t))}}let o;for(;o=s.pop();)this.isValidLookup(t)||(r=o,t=this.getResource(n,e,o,a))})))}))})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:s}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!E(e.replace);let r=n?e.replace:e;if(n&&"undefined"!==typeof e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const e of t)delete r[e]}return r}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}class J{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=q.create("languageUtils")}getScriptPartFromCode(e){if(!(e=V(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=V(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(E(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch(t){}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find((e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:e.indexOf("-")>0&&n.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===n||0===e.indexOf(n)&&n.length>1?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),E(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],i=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return E(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):E(e)&&i(this.formatLanguageCode(e)),n.forEach((e=>{r.indexOf(e)<0&&i(this.formatLanguageCode(e))})),r}}const Y={zero:0,one:1,two:2,few:3,many:4,other:5},ee={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class te{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=q.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=V("dev"===e?"en":e),r=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:r});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let s;try{s=new Intl.PluralRules(n,{type:r})}catch(a){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),ee;if(!e.match(/-|_/))return ee;const n=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(n,t)}return this.pluralRulesCache[i]=s,s}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort(((e,t)=>Y[e]-Y[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getRule(e,n);return r?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,n))}}const ne=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=((e,t,n)=>{const r=O(e,n);return void 0!==r?r:O(t,n)})(e,t,n);return!s&&i&&E(n)&&(s=z(e,n,r),void 0===s&&(s=z(t,n,r))),s},re=e=>e.replace(/\$/g,"$$$$");class ie{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=q.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:r,prefix:i,prefixEscaped:s,suffix:a,suffixEscaped:o,formatSeparator:l,unescapeSuffix:c,unescapePrefix:u,nestingPrefix:d,nestingPrefixEscaped:h,nestingSuffix:p,nestingSuffixEscaped:f,nestingOptionsSeparator:m,maxReplaces:g,alwaysFormat:v}=e.interpolation;this.escape=void 0!==t?t:U,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==r&&r,this.prefix=i?M(i):s||"{{",this.suffix=a?M(a):o||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?M(d):h||M("$t("),this.nestingSuffix=p?M(p):f||M(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=g||1e3,this.alwaysFormat=void 0!==v&&v,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e?.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,r){let i,s,a;const o=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=e=>{if(e.indexOf(this.formatSeparator)<0){const i=ne(t,o,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(i,void 0,n,{...r,...t,interpolationkey:e}):i}const i=e.split(this.formatSeparator),s=i.shift().trim(),a=i.join(this.formatSeparator).trim();return this.format(ne(t,o,s,this.options.keySeparator,this.options.ignoreJSONStructure),a,n,{...r,...t,interpolationkey:s})};this.resetRegExp();const c=r?.missingInterpolationHandler||this.options.missingInterpolationHandler,u=void 0!==r?.interpolation?.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>re(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?re(this.escape(e)):re(e)}].forEach((t=>{for(a=0;i=t.regex.exec(e);){const n=i[1].trim();if(s=l(n),void 0===s)if("function"===typeof c){const t=c(e,i,r);s=E(t)?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))s="";else{if(u){s=i[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),s=""}else E(s)||this.useRawValueToEscape||(s=T(s));const o=t.safeValue(s);if(e=e.replace(i[0],o),u?(t.regex.lastIndex+=s.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,a++,a>=this.maxReplaces)break}})),e}nest(e,t){let n,r,i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=(e,t)=>{const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const r=e.split(new RegExp(`${n}[ ]*{`));let s=`{${r[1]}`;e=r[0],s=this.interpolate(s,i);const a=s.match(/'/g),o=s.match(/"/g);((a?.length??0)%2===0&&!o||o.length%2!==0)&&(s=s.replace(/'/g,'"'));try{i=JSON.parse(s),t&&(i={...t,...i})}catch(l){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,l),`${e}${n}${s}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let o=[];i={...s},i=i.replace&&!E(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map((e=>e.trim()));n[1]=e.shift(),o=e,l=!0}if(r=t(a.call(this,n[1].trim(),i),i),r&&n[0]===e&&!E(r))return r;E(r)||(r=T(r)),r||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),r=""),l&&(r=o.reduce(((e,t)=>this.format(e,t,s.lng,{...s,interpolationkey:n[1].trim()})),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}const se=e=>{const t={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const a=r+JSON.stringify(s);let o=t[a];return o||(o=e(V(r),i),t[a]=o),o(n)}};class ae{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=q.create("formatter"),this.options=e,this.formats={number:se(((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)})),currency:se(((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)})),datetime:se(((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)})),relativetime:se(((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")})),list:se(((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)}))},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=se(t)}format(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find((e=>e.indexOf(")")>-1))){const e=i.findIndex((e=>e.indexOf(")")>-1));i[0]=[i[0],...i.splice(1,e)].join(this.formatSeparator)}return i.reduce(((e,t)=>{const{formatName:i,formatOptions:s}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((e=>{if(e){const[t,...r]=e.split(":"),i=r.join(":").trim().replace(/^'+|'+$/g,""),s=t.trim();n[s]||(n[s]=i),"false"===i&&(n[s]=!1),"true"===i&&(n[s]=!0),isNaN(i)||(n[s]=parseInt(i,10))}}))}return{formatName:t,formatOptions:n}})(t);if(this.formats[i]){let t=e;try{const a=r?.formatParams?.[r.interpolationkey]||{},o=a.locale||a.lng||r.locale||r.lng||n;t=this.formats[i](e,o,{...s,...r,...a})}catch(a){this.logger.warn(a)}return t}return this.logger.warn(`there was no format function for ${i}`),e}),e)}}class oe extends W{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=q.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,r.backend,r)}queueLoad(e,t,n,r){const i={},s={},a={},o={};return e.forEach((e=>{let r=!0;t.forEach((t=>{const a=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===s[a]&&(s[a]=!0):(this.state[a]=1,r=!1,void 0===s[a]&&(s[a]=!0),void 0===i[a]&&(i[a]=!0),void 0===o[t]&&(o[t]=!0)))})),r||(a[e]=!0)})),(Object.keys(i).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(o)}}loaded(e,t,n){const r=e.split("|"),i=r[0],s=r[1];t&&this.emit("failedLoading",i,s,t),!t&&n&&this.store.addResourceBundle(i,s,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const a={};this.queue.forEach((n=>{((e,t,n)=>{const{obj:r,k:i}=P(e,t,Object);r[i]=r[i]||[],r[i].push(n)})(n.loaded,[i],s),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((e=>{a[e]||(a[e]={});const t=n.loaded[e];t.length&&t.forEach((t=>{void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((e=>!e.done))}read(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:i,callback:s});this.readingCalls++;const a=(a,o)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}a&&o&&r<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,n,r+1,2*i,s)}),i):s(a,o)},o=this.backend[n].bind(this.backend);if(2!==o.length)return o(e,t,a);try{const n=o(e,t);n&&"function"===typeof n.then?n.then((e=>a(null,e))).catch(a):a(null,n)}catch(l){a(l)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();E(e)&&(e=this.languageUtils.toResolveHierarchy(e)),E(t)&&(t=[t]);const i=this.queueLoad(e,t,n,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),r=n[0],i=n[1];this.read(r,i,"read",void 0,void 0,((n,s)=>{n&&this.logger.warn(`${t}loading namespace ${i} for language ${r} failed`,n),!n&&s&&this.logger.log(`${t}loaded namespace ${i} for language ${r}`,s),this.loaded(e,n,s)}))}saveMissing(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(!this.services?.utils?.hasLoadedNamespace||this.services?.utils?.hasLoadedNamespace(t)){if(void 0!==n&&null!==n&&""!==n){if(this.backend?.create){const l={...s,isUpdate:i},c=this.backend.create.bind(this.backend);if(c.length<6)try{let i;i=5===c.length?c(e,t,n,r,l):c(e,t,n,r),i&&"function"===typeof i.then?i.then((e=>a(null,e))).catch(a):a(null,i)}catch(o){a(o)}else c(e,t,n,r,a,l)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}else this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const le=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"===typeof e[1]&&(t=e[1]),E(e[1])&&(t.defaultValue=e[1]),E(e[2])&&(t.tDescription=e[2]),"object"===typeof e[2]||"object"===typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach((e=>{t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),ce=e=>(E(e.ns)&&(e.ns=[e.ns]),E(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),E(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"===typeof e.initImmediate&&(e.initAsync=e.initImmediate),e),ue=()=>{};class de extends W{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=ce(e),this.services={},this.logger=q,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach((e=>{"function"===typeof n[e]&&(n[e]=n[e].bind(n))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"===typeof t&&(n=t,t={}),null==t.defaultNS&&t.ns&&(E(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=le();this.options={...r,...this.options,...ce(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const i=e=>e?"function"===typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?q.init(i(this.modules.logger),this.options):q.init(null,this.options),t=this.modules.formatter?this.modules.formatter:ae;const n=new J(this.options);this.store=new K(this.options.resources,this.options);const s=this.services;s.logger=q,s.resourceStore=this.store,s.languageUtils=n,s.pluralResolver=new te(n,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(s.formatter=i(t),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new ie(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new oe(i(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit(t,...r)})),this.modules.languageDetector&&(s.languageDetector=i(this.modules.languageDetector),s.languageDetector.init&&s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=i(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new Z(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit(t,...r)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,n||(n=ue),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const s=A(),a=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(t),n(e,t)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?a():setTimeout(a,0),s}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue;const n=E(e)?e:this.language;if("function"===typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if("cimode"===n?.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],r=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};if(n)r(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>r(e)))}this.options.preload?.forEach?.((e=>r(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,n){const r=A();return"function"===typeof e&&(n=e,e=void 0),"function"===typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=ue),this.services.backendConnector.reload(e,t,(e=>{r.resolve(),n(e)})),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&G.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const e=this.languages[t];if(!(["cimode","dev"].indexOf(e)>-1)&&this.store.hasLanguageSomeTranslations(e)){this.resolvedLanguage=e;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const r=A();this.emit("languageChanging",e);const i=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},s=(e,s)=>{s?(i(s),this.translator.changeLanguage(s),this.isLanguageChangingTo=void 0,this.emit("languageChanged",s),this.logger.log("languageChanged",s)):this.isLanguageChangingTo=void 0,r.resolve((function(){return n.t(...arguments)})),t&&t(e,(function(){return n.t(...arguments)}))},a=t=>{e||t||!this.services.languageDetector||(t=[]);const n=E(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||i(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector?.cacheUserLanguage?.(n)),this.loadResources(n,(e=>{s(e,n)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),r}getFixedT(e,t,n){var r=this;const i=function(e,t){let s;if("object"!==typeof t){for(var a=arguments.length,o=new Array(a>2?a-2:0),l=2;l<a;l++)o[l-2]=arguments[l];s=r.options.overloadTranslationOptionHandler([e,t].concat(o))}else s={...t};s.lng=s.lng||i.lng,s.lngs=s.lngs||i.lngs,s.ns=s.ns||i.ns,""!==s.keyPrefix&&(s.keyPrefix=s.keyPrefix||n||i.keyPrefix);const c=r.options.keySeparator||".";let u;return u=s.keyPrefix&&Array.isArray(e)?e.map((e=>`${s.keyPrefix}${c}${e}`)):s.keyPrefix?`${s.keyPrefix}${c}${e}`:e,r.t(u,s)};return E(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.translator?.translate(...t)}exists(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.translator?.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const s=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,s);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!s(n,e)||r&&!s(i,e)))}loadNamespaces(e,t){const n=A();return this.options.ns?(E(e)&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=A();E(e)&&(e=[e]);const r=this.options.preload||[],i=e.filter((e=>r.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e)));return i.length?(this.options.preload=r.concat(i),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services?.languageUtils||new J(le());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new de(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},i=new de(r);void 0===e.debug&&void 0===e.prefix||(i.logger=i.logger.clone(e));if(["store","services","language"].forEach((e=>{i[e]=this[e]})),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n){const e=Object.keys(this.store.data).reduce(((e,t)=>(e[t]={...this.store.data[t]},Object.keys(e[t]).reduce(((n,r)=>(n[r]={...e[t][r]},n)),{}))),{});i.store=new K(e,r),i.services.resourceStore=i.store}return i.translator=new Z(i.services,r),i.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.emit(e,...n)})),i.init(r,t),i.translator.options=r,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const he=de.createInstance();he.createInstance=de.createInstance;he.createInstance,he.dir,he.init,he.loadResources,he.reloadResources,he.use,he.changeLanguage,he.getFixedT,he.t,he.exists,he.setDefaultNamespace,he.hasLoadedNamespace,he.loadNamespaces,he.loadLanguages;he.use(y).init({resources:{en:{translation:{login:"Login",register:"Register",Home:"Home Page","Go to Profile":"Go to Profile",Login:"Login",Registration:"Registration",Password:"Password","Last Name":"Last Name","\u041c\u043e\u0439 \u043f\u043e\u0444\u0438\u043b\u044c":"My Profile","\u0424\u043e\u0440\u043c\u044b":"Forms","\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0410\u0434\u043c\u0438\u043d\u0430":"Admin Page","\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430":"Loading","\u0424\u043e\u0440\u043c\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430":"No forms","\u0412\u043e\u043f\u0440\u043e\u0441\u044b":"Questions","\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u0444\u043e\u0440\u043c\u0443":"Answer that form","\u041e\u0442\u0432\u0435\u0442\u044b \u043d\u0430 \u0444\u043e\u0440\u043c\u0443":"Answers","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"Edit","\u041d\u0430\u0437\u0430\u0434":"Go back","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0443":"Make a form","\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u0444\u043e\u0440\u043c":"You don't have any forms","\u0412\u044b\u0439\u0442\u0438":"Log out","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:":"Description:","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d":"No such user","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0435\u0433\u0438":"Select tags","\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u0442\u0435\u0433":"Select new tag","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c":"Add","\u0414\u0435\u043d\u044c":"Day","\u041d\u043e\u0447\u044c":"Night","\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f":"Profile data","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0442\u0432\u0435\u0442":"Insert the answer","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435":"Submit answers","\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0443":"Please login to create a form","\u0412\u0430\u0448\u0430 \u0444\u043e\u0440\u043c\u0430":"Your form","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u0430":"Question description","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430":"Variant description","\u0423\u0434\u0430\u043b\u0438\u0442\u044c":"Delete","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0447\u0435\u043a\u0431\u043e\u043a\u0441\u044b":"Add a checkbox","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0443":"Edit the form","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u043e\u0440\u043c\u044b":"Form title","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432\u043f\u0440\u043e\u0441\u0430":"Question title","\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u043e\u0447\u043d\u044b\u0439":"Single-line","\u041c\u043d\u043e\u0433\u043e\u0441\u0442\u0440\u043e\u0447\u043d\u044b\u0439":"Multiple-line","\u041f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e":"Positive integers","\u0424\u043b\u0430\u0436\u043e\u043a":"Checkbox","\u041d\u0435\u0442 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432":"No questions","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441":"Add a question","\u041e\u0431\u0449\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430\u044f \u0444\u043e\u0440\u043c\u0430":"Public form","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f":"Submit your edition","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email":"Insert an email","\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0444\u043e\u0440\u043c\u044b":"Form creation","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0443":"Create a form","\u0422\u0435\u043c\u0430":"Theme",Question:"Question",Register:"Register","If you want to make your form private, select the email of a user:":"If you want to make your form private, select the email of a user:","\u0421\u043a\u0440\u044b\u0442\u044c":"Hide","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c":"Show",Users:"Users",Name:"Name","Admin status":"Admin status",Action:"Action","\u0414\u0430":"Yes","\u041d\u0435\u0442":"No","\u0421\u043d\u044f\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 \u0430\u0434\u043c\u0438\u043d\u0430":"Remove admin status","\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0430\u0434\u043c\u0438\u043d\u043e\u043c":"Add admin status"}},ru:{translation:{login:"\u0412\u043e\u0439\u0442\u0438",register:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",Home:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430","Go to Profile":"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u041f\u0440\u043e\u0444\u043b\u044c",Login:"\u0412\u0445\u043e\u0434",Registration:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",Password:"\u041f\u0430\u0440\u043e\u043b\u044c","First Name":"\u0418\u043c\u044f","Last Name":"\u0424\u0430\u043c\u0438\u043b\u0438\u044f","\u041c\u043e\u0439 \u043f\u043e\u0444\u0438\u043b\u044c":"\u041c\u043e\u0439 \u043f\u043e\u0444\u0438\u043b\u044c","\u0424\u043e\u0440\u043c\u044b":"\u0424\u043e\u0440\u043c\u044b","\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0410\u0434\u043c\u0438\u043d\u0430":"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0410\u0434\u043c\u0438\u043d\u0430","\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430","\u0424\u043e\u0440\u043c\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430":"\u0424\u043e\u0440\u043c\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430","\u0412\u043e\u043f\u0440\u043e\u0441\u044b":"\u0412\u043e\u043f\u0440\u043e\u0441\u044b","\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u0444\u043e\u0440\u043c\u0443":"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u0444\u043e\u0440\u043c\u0443","\u041e\u0442\u0432\u0435\u0442\u044b \u043d\u0430 \u0444\u043e\u0440\u043c\u0443":"\u041e\u0442\u0432\u0435\u0442\u044b \u043d\u0430 \u0444\u043e\u0440\u043c\u0443","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","\u041d\u0430\u0437\u0430\u0434":"\u041d\u0430\u0437\u0430\u0434","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0443":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0443","\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u0444\u043e\u0440\u043c":"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u0444\u043e\u0440\u043c","\u0412\u044b\u0439\u0442\u0438":"\u0412\u044b\u0439\u0442\u0438","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0435\u0433\u0438":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0435\u0433\u0438","\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u0442\u0435\u0433":"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u0442\u0435\u0433","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c","\u0414\u0435\u043d\u044c":"\u0414\u0435\u043d\u044c","\u041d\u043e\u0447\u044c":"\u041d\u043e\u0447\u044c","\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f":"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0442\u0432\u0435\u0442":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0442\u0432\u0435\u0442","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435","\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0443":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0443","\u0412\u0430\u0448\u0430 \u0444\u043e\u0440\u043c\u0430":"\u0412\u0430\u0448\u0430 \u0444\u043e\u0440\u043c\u0430","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u0430":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u0430","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430","\u0423\u0434\u0430\u043b\u0438\u0442\u044c":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0447\u0435\u043a\u0431\u043e\u043a\u0441\u044b":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0447\u0435\u043a\u0431\u043e\u043a\u0441\u044b","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0443":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0443","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u043e\u0440\u043c\u044b":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u043e\u0440\u043c\u044b","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432\u043f\u0440\u043e\u0441\u0430":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432\u043f\u0440\u043e\u0441\u0430","\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u043e\u0447\u043d\u044b\u0439":"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u043e\u0447\u043d\u044b\u0439","\u041c\u043d\u043e\u0433\u043e\u0441\u0442\u0440\u043e\u0447\u043d\u044b\u0439":"\u041c\u043d\u043e\u0433\u043e\u0441\u0442\u0440\u043e\u0447\u043d\u044b\u0439","\u041f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e":"\u041f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e","\u0424\u043b\u0430\u0436\u043e\u043a":"\u0424\u043b\u0430\u0436\u043e\u043a","\u041d\u0435\u0442 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432":"\u041d\u0435\u0442 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441","\u041e\u0431\u0449\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430\u044f \u0444\u043e\u0440\u043c\u0430":"\u041e\u0431\u0449\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430\u044f \u0444\u043e\u0440\u043c\u0430","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email","\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0444\u043e\u0440\u043c\u044b":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0444\u043e\u0440\u043c\u044b","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0443":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0443","\u0422\u0435\u043c\u0430":"\u0422\u0435\u043c\u0430",Question:"\u0412\u043e\u043f\u0440\u043e\u0441",Register:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f","If you want to make your form private, select the email of a user:":"\u0415\u0441\u043b\u0438 \u0412\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0432\u043e\u044e \u0444\u043e\u0440\u043c\u0443 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0439, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:","\u0421\u043a\u0440\u044b\u0442\u044c":"\u0421\u043a\u0440\u044b\u0442\u044c","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c",Users:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",Name:"\u0418\u043c\u044f","Admin status":"\u0421\u0442\u0430\u0442\u0443\u0441 \u0430\u0434\u043c\u0438\u043d\u0430",Action:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435","\u0414\u0430":"\u0414\u0430","\u041d\u0435\u0442":"\u041d\u0435\u0442","\u0421\u043d\u044f\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 \u0430\u0434\u043c\u0438\u043d\u0430":"\u0421\u043d\u044f\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 \u0430\u0434\u043c\u0438\u043d\u0430","\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0430\u0434\u043c\u0438\u043d\u043e\u043c":"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0430\u0434\u043c\u0438\u043d\u043e\u043c"}}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});const pe=he;n(358);var fe="popstate";function me(){return _e((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=xe(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),be("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:we(t))}),(function(e,t){ve("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)}),arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function ge(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function ve(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function ye(e,t){return{usr:e.state,key:e.key,idx:t}}function be(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?xe(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function we(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function xe(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function _e(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,c=u();function u(){return(a.state||{idx:null}).idx}function d(){o="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:o,location:p.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:we(e);return n=n.replace(/ $/,"%20"),ge(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==c&&(c=0,a.replaceState({...a.state,idx:c},""));let p={get action(){return o},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(fe,d),l=e,()=>{i.removeEventListener(fe,d),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=be(p.location,e,t);n&&n(r,e),c=u()+1;let d=ye(r,c),h=p.createHref(r);try{a.pushState(d,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(h)}s&&l&&l({action:o,location:p.location,delta:1})},replace:function(e,t){o="REPLACE";let r=be(p.location,e,t);n&&n(r,e),c=u();let i=ye(r,c),d=p.createHref(r);a.replaceState(i,"",d),s&&l&&l({action:o,location:p.location,delta:0})},go:e=>a.go(e)};return p}function Ce(e,t){return ke(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function ke(e,t,n,r){let i=Ue(("string"===typeof t?xe(t):t).pathname||"/",n);if(null==i)return null;let s=Se(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=je(i);a=Ie(s[o],e,r)}return a}function Se(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(ge(a.relativePath.startsWith(r),`Absolute route path "${a.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(r.length));let o=Be([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(ge(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${o}".`),Se(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:Oe(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of Ee(e.path))i(e,t,n);else i(e,t)})),t}function Ee(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=Ee(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var Ae=/^:[\w-]+$/,Te=3,$e=2,Le=1,Re=10,Pe=-2,Ne=e=>"*"===e;function Oe(e,t){let n=e.split("/"),r=n.length;return n.some(Ne)&&(r+=Pe),t&&(r+=$e),n.filter((e=>!Ne(e))).reduce(((e,t)=>e+(Ae.test(t)?Te:""===t?Le:Re)),r)}function Ie(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=Me({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=Me({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:Be([s,u.pathname]),pathnameBase:He(Be([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=Be([s,u.pathnameBase]))}return a}function Me(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];ve("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function je(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return ve(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ue(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function De(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fe(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function ze(e){let t=Fe(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function Ve(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=xe(e):(r={...e},ge(!r.pathname||!r.pathname.includes("?"),De("?","pathname","search",r)),ge(!r.pathname||!r.pathname.includes("#"),De("#","pathname","hash",r)),ge(!r.search||!r.search.includes("#"),De("#","search","hash",r)));let s,a=""===e||""===r.pathname,o=a?"/":r.pathname;if(null==o)s=n;else{let e=t.length-1;if(!i&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?xe(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:qe(r),hash:We(i)}}(r,s),c=o&&"/"!==o&&o.endsWith("/"),u=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var Be=e=>e.join("/").replace(/\/\/+/g,"/"),He=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qe=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",We=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Ke(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Ge=["POST","PUT","PATCH","DELETE"],Xe=(new Set(Ge),["GET",...Ge]);new Set(Xe),Symbol("ResetLoaderData");var Qe=t.createContext(null);Qe.displayName="DataRouter";var Ze=t.createContext(null);Ze.displayName="DataRouterState";var Je=t.createContext({isTransitioning:!1});Je.displayName="ViewTransition";var Ye=t.createContext(new Map);Ye.displayName="Fetchers";var et=t.createContext(null);et.displayName="Await";var tt=t.createContext(null);tt.displayName="Navigation";var nt=t.createContext(null);nt.displayName="Location";var rt=t.createContext({outlet:null,matches:[],isDataRoute:!1});rt.displayName="Route";var it=t.createContext(null);it.displayName="RouteError";function st(){return null!=t.useContext(nt)}function at(){return ge(st(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(nt).location}var ot="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lt(e){t.useContext(tt).static||t.useLayoutEffect(e)}function ct(){let{isDataRoute:e}=t.useContext(rt);return e?function(){let{router:e}=bt("useNavigate"),n=xt("useNavigate"),r=t.useRef(!1);lt((()=>{r.current=!0}));let i=t.useCallback((async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ve(r.current,ot),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,{fromRouteId:n,...i}))}),[e,n]);return i}():function(){ge(st(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(Qe),{basename:n,navigator:r}=t.useContext(tt),{matches:i}=t.useContext(rt),{pathname:s}=at(),a=JSON.stringify(ze(i)),o=t.useRef(!1);lt((()=>{o.current=!0}));let l=t.useCallback((function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ve(o.current,ot),!o.current)return;if("number"===typeof t)return void r.go(t);let l=Ve(t,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:Be([n,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)}),[n,r,a,s,e]);return l}()}t.createContext(null);function ut(){let{matches:e}=t.useContext(rt),n=e[e.length-1];return n?n.params:{}}function dt(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(rt),{pathname:i}=at(),s=JSON.stringify(ze(r));return t.useMemo((()=>Ve(e,JSON.parse(s),i,"path"===n)),[e,s,i,n])}function ht(e,n,r,i){ge(st(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=t.useContext(tt),{matches:o}=t.useContext(rt),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let e=h&&h.path||"";kt(u,!h||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let p,f=at();if(n){let e="string"===typeof n?xe(n):n;ge("/"===d||e.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${e.pathname}" was given in the \`location\` prop.`),p=e}else p=f;let m=p.pathname||"/",g=m;if("/"!==d){let e=d.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=!a&&r&&r.matches&&r.matches.length>0?r.matches:Ce(e,{pathname:g});ve(h||null!=v,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),ve(null==v||void 0!==v[v.length-1].route.element||void 0!==v[v.length-1].route.Component||void 0!==v[v.length-1].route.lazy,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=vt(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Be([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:Be([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,r,i);return n&&y?t.createElement(nt.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},y):y}function pt(){let e=_t(),n=Ke(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:a},"ErrorBoundary")," or"," ",t.createElement("code",{style:a},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,o)}var ft=t.createElement(pt,null),mt=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(rt.Provider,{value:this.props.routeContext},t.createElement(it.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gt(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(Qe);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(rt.Provider,{value:n},i)}function vt(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let i=e,s=r?.errors;if(null!=s){let e=i.findIndex((e=>e.route.id&&void 0!==s?.[e.route.id]));ge(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let a=!1,o=-1;if(r)for(let t=0;t<i.length;t++){let e=i[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=t),e.route.id){let{loaderData:t,errors:n}=r,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||s){a=!0,i=o>=0?i.slice(0,o+1):[i[0]];break}}}return i.reduceRight(((e,l,c)=>{let u,d=!1,h=null,p=null;r&&(u=s&&l.route.id?s[l.route.id]:void 0,h=l.route.errorElement||ft,a&&(o<0&&0===c?(kt("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):o===c&&(d=!0,p=l.route.hydrateFallbackElement||null)));let f=n.concat(i.slice(0,c+1)),m=()=>{let n;return n=u?h:d?p:l.route.Component?t.createElement(l.route.Component,null):l.route.element?l.route.element:e,t.createElement(gt,{match:l,routeContext:{outlet:e,matches:f,isDataRoute:null!=r},children:n})};return r&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?t.createElement(mt,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()}),null)}function yt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bt(e){let n=t.useContext(Qe);return ge(n,yt(e)),n}function wt(e){let n=t.useContext(Ze);return ge(n,yt(e)),n}function xt(e){let n=function(e){let n=t.useContext(rt);return ge(n,yt(e)),n}(e),r=n.matches[n.matches.length-1];return ge(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function _t(){let e=t.useContext(it),n=wt("useRouteError"),r=xt("useRouteError");return void 0!==e?e:n.errors?.[r]}var Ct={};function kt(e,t,n){t||Ct[e]||(Ct[e]=!0,ve(!1,n))}t.memo((function(e){let{routes:t,future:n,state:r}=e;return ht(t,void 0,r,n)}));function St(e){let{to:n,replace:r,state:i,relative:s}=e;ge(st(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=t.useContext(tt);ve(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=t.useContext(rt),{pathname:l}=at(),c=ct(),u=Ve(n,ze(o),l,"path"===s),d=JSON.stringify(u);return t.useEffect((()=>{c(JSON.parse(d),{replace:r,state:i,relative:s})}),[c,d,s,r,i]),null}function Et(e){ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function At(e){let{basename:n="/",children:r=null,location:i,navigationType:s="POP",navigator:a,static:o=!1}=e;ge(!st(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=t.useMemo((()=>({basename:l,navigator:a,static:o,future:{}})),[l,a,o]);"string"===typeof i&&(i=xe(i));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:f="default"}=i,m=t.useMemo((()=>{let e=Ue(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:p,key:f},navigationType:s}}),[l,u,d,h,p,f,s]);return ve(null!=m,`<Router basename="${l}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),null==m?null:t.createElement(tt.Provider,{value:c},t.createElement(nt.Provider,{children:r,value:m}))}function Tt(e){let{children:t,location:n}=e;return ht($t(t),n)}t.Component;function $t(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,$t(e.props.children,s));ge(e.type===Et,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ge(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=$t(e.props.children,s)),r.push(a)})),r}var Lt="get",Rt="application/x-www-form-urlencoded";function Pt(e){return null!=e&&"string"===typeof e.tagName}var Nt=null;var Ot=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function It(e){return null==e||Ot.has(e)?e:(ve(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rt}"`),null)}function Mt(e,t){let n,r,i,s,a;if(Pt(o=e)&&"form"===o.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?Ue(a,t):null,n=e.getAttribute("method")||Lt,i=It(e.getAttribute("enctype"))||Rt,s=new FormData(e)}else if(function(e){return Pt(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Pt(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(r=o?Ue(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Lt,i=It(e.getAttribute("formenctype"))||It(a.getAttribute("enctype"))||Rt,s=new FormData(a,e),!function(){if(null===Nt)try{new FormData(document.createElement("form"),0),Nt=!1}catch(e){Nt=!0}return Nt}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";s.append(`${e}x`,"0"),s.append(`${e}y`,"0")}else t&&s.append(t,r)}}else{if(Pt(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Lt,r=null,i=Rt,a=e}var o;return s&&"text/plain"===i&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}function jt(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Ut(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Dt(e){return null!=e&&"string"===typeof e.page}function Ft(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function zt(e,t,n,r,i,s){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===s?t.filter(((e,t)=>a(e,t)||o(e,t))):"data"===s?t.filter(((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Vt(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function Bt(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!Dt(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e}),[])}function Ht(e){return{__html:e}}Symbol("SingleFetchRedirect");function qt(e){let t="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===t.pathname?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}t.Component;function Wt(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let i,s=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(Ke(n))return t.createElement(Kt,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),s);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(Kt,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),s)}function Kt(e){let{title:n,renderScripts:r,isOutsideRemixApp:i,children:s}=e,{routeModules:a}=Jt();return a.root?.Layout&&!i?s:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,n)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,r?t.createElement(an,null):null)))}function Gt(e){return!0===e}function Xt(){let e=t.useContext(Qe);return jt(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Qt(){let e=t.useContext(Ze);return jt(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Zt=t.createContext(void 0);function Jt(){let e=t.useContext(Zt);return jt(e,"You must render this element inside a <HydratedRouter> element"),e}function Yt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function en(e,t,n){if(n&&!sn)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function tn(e){let{page:n,...r}=e,{router:i}=Xt(),s=t.useMemo((()=>Ce(i.routes,n,i.basename)),[i.routes,n,i.basename]);return s?t.createElement(rn,{page:n,matches:s,...r}):null}function nn(e){let{manifest:n,routeModules:r}=Jt(),[i,s]=t.useState([]);return t.useEffect((()=>{let t=!1;return async function(e,t,n){return Bt((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Ut(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Ft).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,n,r).then((e=>{t||s(e)})),()=>{t=!0}}),[e,n,r]),i}function rn(e){let{page:n,matches:r,...i}=e,s=at(),{manifest:a,routeModules:o}=Jt(),{loaderData:l,matches:c}=Qt(),u=t.useMemo((()=>zt(n,r,c,a,s,"data")),[n,r,c,a,s]),d=t.useMemo((()=>zt(n,r,c,a,s,"assets")),[n,r,c,a,s]),h=t.useMemo((()=>{if(n===s.pathname+s.search+s.hash)return[];let e=new Set,t=!1;if(r.forEach((n=>{let r=a.routes[n.route.id];r&&r.hasLoader&&(!u.some((e=>e.route.id===n.route.id))&&n.route.id in l&&o[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))})),0===e.size)return[];let i=qt(n);return t&&e.size>0&&i.searchParams.set("_routes",r.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[l,s,a,u,r,n,o]),p=t.useMemo((()=>Vt(d,a)),[d,a]),f=nn(d);return t.createElement(t.Fragment,null,h.map((e=>t.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...i}))),p.map((e=>t.createElement("link",{key:e,rel:"modulepreload",href:e,...i}))),f.map((e=>{let{key:n,link:r}=e;return t.createElement("link",{key:n,...r})})))}Zt.displayName="FrameworkContext";var sn=!1;function an(e){let{manifest:n,serverHandoffString:r,isSpaMode:i,ssr:s,renderMeta:a}=Jt(),{router:o,static:l,staticContext:c}=Xt(),{matches:u}=Qt(),d=Gt(s);a&&(a.didRenderScripts=!0);let h=en(u,null,i);t.useEffect((()=>{0}),[]);let p=t.useMemo((()=>{let i=c?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",s=l?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${d?"":`import ${JSON.stringify(n.url)}`};\n${h.map(((e,t)=>{let r=`route${t}`,i=n.routes[e.route.id];jt(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:s,clientLoaderModule:a,hydrateFallbackModule:o,module:l}=i,c=[...s?[{module:s,varName:`${r}_clientAction`}]:[],...a?[{module:a,varName:`${r}_clientLoader`}]:[],...o?[{module:o,varName:`${r}_HydrateFallback`}]:[],{module:l,varName:`${r}_main`}];return 1===c.length?`import * as ${r} from ${JSON.stringify(l)};`:[c.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${c.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${d?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let n=new Set(t.state.matches.map((e=>e.route.id))),r=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(r.pop();r.length>0;)i.push(`/${r.join("/")}`),r.pop();i.forEach((e=>{let r=Ce(t.routes,e,t.basename);r&&r.forEach((e=>n.add(e.route.id)))}));let s=[...n].reduce(((t,n)=>Object.assign(t,{[n]:e.routes[n]})),{});return{...e,routes:s}}(n,o),null,2)};`:""}\n  window.__reactRouterRouteModules = {${h.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return t.createElement(t.Fragment,null,t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ht(i),type:void 0}),t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ht(s),type:"module",async:!0}))}),[]),f=sn?[]:n.entry.imports.concat(Vt(h,n,{includeHydrateFallback:!0}));return sn?null:t.createElement(t.Fragment,null,d?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin}),[...new Set(m)].map((n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin}))),p);var m}function on(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var ln="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ln&&(window.__reactRouterVersion="7.2.0")}catch(wc){}function cn(e){let{basename:n,children:r,window:i}=e,s=t.useRef();null==s.current&&(s.current=me({window:i,v5Compat:!0}));let a=s.current,[o,l]=t.useState({action:a.action,location:a.location}),c=t.useCallback((e=>{t.startTransition((()=>l(e)))}),[l]);return t.useLayoutEffect((()=>a.listen(c)),[a,c]),t.createElement(At,{basename:n,children:r,location:o.location,navigationType:o.action,navigator:a})}var un=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dn=t.forwardRef((function(e,n){let r,{onClick:i,discover:s="render",prefetch:a="none",relative:o,reloadDocument:l,replace:c,state:u,target:d,to:h,preventScrollReset:p,viewTransition:f,...m}=e,{basename:g}=t.useContext(tt),v="string"===typeof h&&un.test(h),y=!1;if("string"===typeof h&&v&&(r=h,ln))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=Ue(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:y=!0}catch(wc){ve(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ge(st(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=t.useContext(tt),{hash:s,pathname:a,search:o}=dt(e,{relative:n}),l=a;return"/"!==r&&(l="/"===a?r:Be([r,a])),i.createHref({pathname:l,search:o,hash:s})}(h,{relative:o}),[w,x,_]=function(e,n){let r=t.useContext(Zt),[i,s]=t.useState(!1),[a,o]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,p=t.useRef(null);t.useEffect((()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}}),[e]),t.useEffect((()=>{if(i){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let f=()=>{s(!0)},m=()=>{s(!1),o(!1)};return r?"intent"!==e?[a,p,{}]:[a,p,{onFocus:Yt(l,f),onBlur:Yt(c,m),onMouseEnter:Yt(u,f),onMouseLeave:Yt(d,m),onTouchStart:Yt(h,f)}]:[!1,p,{}]}(a,m),C=function(e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ct(),c=at(),u=dt(e,{relative:a});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:we(c)===we(u);l(e,{replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o})}}),[c,l,u,r,i,n,e,s,a,o])}(h,{replace:c,state:u,target:d,preventScrollReset:p,relative:o,viewTransition:f});let k=t.createElement("a",{...m,..._,href:r||b,onClick:y||l?i:function(e){i&&i(e),e.defaultPrevented||C(e)},ref:on(n,x),target:d,"data-discover":v||"render"!==s?void 0:"true"});return w&&!v?t.createElement(t.Fragment,null,k,t.createElement(tn,{page:b})):k}));dn.displayName="Link";var hn=t.forwardRef((function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:c,children:u,...d}=e,h=dt(l,{relative:d.relative}),p=at(),f=t.useContext(Ze),{navigator:m,basename:g}=t.useContext(tt),v=null!=f&&function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(Je);ge(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=mn("useViewTransitionState"),s=dt(e,{relative:n.relative});if(!r.isTransitioning)return!1;let a=Ue(r.currentLocation.pathname,i)||r.currentLocation.pathname,o=Ue(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=Me(s.pathname,o)||null!=Me(s.pathname,a)}(h)&&!0===c,y=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,b=p.pathname,w=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;i||(b=b.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase()),w&&g&&(w=Ue(w,g)||w);const x="/"!==y&&y.endsWith("/")?y.length-1:y.length;let _,C=b===y||!a&&b.startsWith(y)&&"/"===b.charAt(x),k=null!=w&&(w===y||!a&&w.startsWith(y)&&"/"===w.charAt(y.length)),S={isActive:C,isPending:k,isTransitioning:v},E=C?r:void 0;_="function"===typeof s?s(S):[s,C?"active":null,k?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof o?o(S):o;return t.createElement(dn,{...d,"aria-current":E,className:_,ref:n,style:A,to:l,viewTransition:c},"function"===typeof u?u(S):u)}));hn.displayName="NavLink";var pn=t.forwardRef(((e,n)=>{let{discover:r="render",fetcherKey:i,navigate:s,reloadDocument:a,replace:o,state:l,method:c=Lt,action:u,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:f,...m}=e,g=yn(),v=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(tt),i=t.useContext(rt);ge(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...dt(e||".",{relative:n})},o=at();if(null==e){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();a.search=n?`?${n}`:""}}e&&"."!==e||!s.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(a.pathname="/"===a.pathname?r:Be([r,a.pathname]));return we(a)}(u,{relative:h}),y="get"===c.toLowerCase()?"get":"post",b="string"===typeof u&&un.test(u);return t.createElement("form",{ref:n,method:y,action:v,onSubmit:a?d:e=>{if(d&&d(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||c;g(t||e.currentTarget,{fetcherKey:i,method:n,navigate:s,replace:o,state:l,relative:h,preventScrollReset:p,viewTransition:f})},...m,"data-discover":b||"render"!==r?void 0:"true"})}));function fn(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mn(e){let n=t.useContext(Qe);return ge(n,fn(e)),n}pn.displayName="Form";var gn=0,vn=()=>`__${String(++gn)}__`;function yn(){let{router:e}=mn("useSubmit"),{basename:n}=t.useContext(tt),r=xt("useRouteId");return t.useCallback((async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:a,encType:o,formData:l,body:c}=Mt(t,n);if(!1===i.navigate){let t=i.fetcherKey||vn();await e.fetch(t,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,n,r])}new TextEncoder;const bn=()=>{const{t:e,i18n:t}=_();return(0,r.jsx)("div",{})},wn=e=>{let{setIsAuthenticated:n}=e;const[i,s]=(0,t.useState)(""),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),h=ct(),{t:p,i18n:f}=_();return(0,r.jsxs)("div",{className:"register-container",children:[(0,r.jsx)("button",{className:"back-button",onClick:()=>h(-1),children:p("\u041d\u0430\u0437\u0430\u0434")}),(0,r.jsx)("h2",{style:{fontFamily:"Calibri"},children:p("Registration")}),(0,r.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=(new Date).toISOString().slice(0,19).replace("T"," ");try{const e=await fetch("http://localhost:5000/api/register",{method:"POST",body:JSON.stringify({email:i,password:a,firstName:l,lastName:u,registrationTime:t}),headers:{"Content-Type":"application/json"}});if(!e.ok){const t=await e.json();throw new Error(t.message||"Registration failed. Please try again.")}const r=await e.json();"Successfully"===r.message&&(n(!0),localStorage.setItem("userId",r.id),h(`/Apa/${r.id}`))}catch(r){console.error("Error:",r),alert("An error occurred: "+r.message)}},children:[(0,r.jsx)("input",{type:"email",value:i,onChange:e=>s(e.target.value),placeholder:"Email",required:!0}),(0,r.jsx)("input",{type:"password",value:a,onChange:e=>o(e.target.value),placeholder:p("Password"),required:!0}),(0,r.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),placeholder:p("First Name"),required:!0}),(0,r.jsx)("input",{type:"text",value:u,onChange:e=>d(e.target.value),placeholder:p("Last Name"),required:!0}),(0,r.jsx)("button",{type:"submit",children:p("Register")})]})]})},xn=e=>{let{setIsAuthenticated:n,handleLogin:i}=e;const[s,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),c=ct(),{t:u,i18n:d}=_();return(0,r.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await fetch("http://localhost:5000/api/login",{method:"POST",body:JSON.stringify({email:s,password:o}),headers:{"Content-Type":"application/json"}});if(!e.ok){const t=await e.json();throw new Error(t.message||"Login failed. Please try again.")}const t=await e.json();console.log("Response data:",t),"Successfully"===t.message&&(i(t.user),n(!0),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userId",t.user.id),localStorage.setItem("isAdmin",t.user.isAdmin?"true":"false"),c(t.user.isAdmin?`/Ap/${t.user.id}`:`/Apa/${t.user.id}`))}catch(t){console.error("Error:",t),alert("An error occurred: "+t.message)}},className:"register-container",children:[(0,r.jsx)("h2",{style:{fontFamily:"Calibri"},children:u("Login")}),(0,r.jsx)("input",{type:"email",value:s,onChange:e=>a(e.target.value),placeholder:"Email",required:!0}),(0,r.jsx)("input",{type:"password",value:o,onChange:e=>l(e.target.value),placeholder:u("Password"),required:!0}),(0,r.jsx)("button",{type:"submit",children:u("Login")}),(0,r.jsx)("button",{onClick:()=>{c(-1)},className:"back-button",children:u("\u041d\u0430\u0437\u0430\u0434")})]})},_n=e=>{let{userId:n}=e;const[i,s]=(0,t.useState)([]),[a,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),{t:u}=_();if((0,t.useEffect)((()=>{(async()=>{try{const e=await fetch("http://localhost:5000/api/forms");if(!e.ok)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u043e\u0440\u043c");const t=await e.json();s(t)}catch(e){console.error("Fetch error:",e),c(e.message)}finally{o(!1)}})()}),[n]),a)return(0,r.jsx)("div",{children:u("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430")});if(l)return(0,r.jsxs)("div",{children:[u("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430:")," ",l]});const d=i.filter((e=>e.is_public)).slice(-5);return(0,r.jsx)("div",{style:{marginLeft:"80px"},children:d.length>0?(0,r.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:d.map((e=>(0,r.jsx)(dn,{to:`/FormDetailsAnonim/${e.id}`,style:{textDecoration:"none"},children:(0,r.jsxs)("div",{style:{border:"1px rgb(220, 220, 220) solid",width:"300px",height:"350px",textAlign:"justify",margin:"10px",backgroundColor:"rgb(255, 250, 250)",borderRadius:"5px"},children:[(0,r.jsx)("img",{src:e.image_url,alt:e.form_title,style:{width:"100%",height:"80%",objectFit:"cover",borderRadius:"5px"}}),(0,r.jsx)("div",{style:{textAlign:"center",color:"black"},children:e.form_title})]})},e.id)))}):(0,r.jsx)("div",{children:u("\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0444\u043e\u0440\u043c")})})};const Cn=function(e){let{setIsAuthenticated:n}=e;const[i,s]=(0,t.useState)(!1),o=ct(),{theme:l}=a();t.useEffect((()=>{document.documentElement.className=l}),[l]);const{t:c,i18n:u}=_(),d=e=>{let{onChange:t,placeholder:n}=e;return(0,r.jsxs)("div",{className:"Search",children:[(0,r.jsx)("span",{className:"SearchSpan"}),(0,r.jsx)("input",{className:"SearchInput",type:"text",onChange:t,placeholder:n})]})},h=t.forwardRef(((e,t)=>{let{onClose:n}=e;return(0,r.jsx)("div",{className:"settings-popup",ref:t,children:(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:(0,r.jsx)(dn,{to:"/comp/login",style:{fontSize:"18px",fontFamily:"Calibri"},children:c("Login")})}),(0,r.jsx)("li",{children:(0,r.jsx)(dn,{to:"/comp/register",style:{fontSize:"18px",fontFamily:"Calibri"},children:c("Register")})})]})})})),[p,f]=(0,t.useState)(!1),m=(0,t.useRef)(null),g=e=>{m.current&&!m.current.contains(e.target)&&f(!1)};return(0,t.useEffect)((()=>(p?document.addEventListener("click",g):document.removeEventListener("click",g),()=>{document.removeEventListener("click",g)})),[p]),(0,r.jsx)("div",{className:"wrapper",children:(0,r.jsxs)("div",{className:"App",children:[(0,r.jsxs)("div",{className:"toolbar",children:[(0,r.jsx)("img",{src:"e.jpg",alt:"Settings Icon",className:"set",onClick:e=>{e.stopPropagation(),f((e=>!e))}}),p&&(0,r.jsx)(h,{ref:m,onClose:()=>f(!1)})]}),(0,r.jsxs)("header",{className:"App-header",children:[(0,r.jsxs)("div",{className:"search",children:[(0,r.jsx)(d,{placeholder:" Search",onChange:e=>console.log(e.target.value)})," "]}),(0,r.jsx)("button",{onClick:()=>{s(!0)},style:{marginLeft:"80px"},children:c("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0443")}),i&&(0,r.jsx)("div",{className:"modal",children:(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsx)("p",{style:{fontFamily:"Calibri",border:"1px grey solid",borderRadius:"5px",padding:"8px"},children:c("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0443")}),(0,r.jsx)("div",{children:(0,r.jsx)(dn,{to:"/comp/login",style:{textDecoration:"none",color:"hsl(0, 0%, 20%)",fontFamily:"Calibri"},children:c("Login")})}),(0,r.jsx)("div",{children:(0,r.jsx)(dn,{to:"/comp/register",style:{textDecoration:"none",color:"hsl(0, 0%, 20%)",fontFamily:"Calibri"},children:c("Register")})}),(0,r.jsx)("button",{onClick:()=>{o(-1)},className:"back-button",style:{marginTop:"15px"},children:c("\u041d\u0430\u0437\u0430\u0434")}),(0,r.jsx)("button",{onClick:()=>{s(!1)},className:"close-button",children:c("\u0417\u0430\u043a\u0440\u044b\u0442\u044c")})]})}),(0,r.jsx)(_n,{}),(0,r.jsx)("nav",{}),(0,r.jsxs)(Tt,{children:[(0,r.jsx)(Et,{path:"*",element:(0,r.jsx)(bn,{})}),(0,r.jsx)(Et,{path:"/comp/register",element:(0,r.jsx)(wn,{setIsAuthenticated:n})}),(0,r.jsx)(Et,{path:"/comp/login",element:(0,r.jsx)(xn,{})})]})]}),(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"content"})})]})})},kn=e=>{let{user:n}=e;const{t:i}=_(),[s,a]=(0,t.useState)({first_name:n.first_name,last_name:n.last_name,email:n.email,password:n.password}),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1);(0,t.useEffect)((()=>{a({first_name:n.first_name,last_name:n.last_name,email:n.email,password:n.password})}),[n]);const p=e=>{const{name:t,value:n}=e.target;a({...s,[t]:n})};return(0,r.jsxs)("div",{style:{fontFamily:"Calibri",width:"400px",margin:"0 auto"},children:[(0,r.jsx)("h1",{children:i("\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")}),(0,r.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(!0),l(null);try{if(!(await fetch(`http://localhost:5000/users/${n.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445");alert(i("Success!"))}catch(o){l(o.message)}finally{u(!1)}},style:{display:"flex",flexDirection:"column"},children:[(0,r.jsxs)("p",{children:["ID: ",n.id]}),(0,r.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,r.jsxs)("label",{children:[i("First Name"),":"]}),(0,r.jsx)("input",{style:{width:"100%",padding:"8px",marginTop:"5px"},type:"text",name:"first_name",value:s.first_name,onChange:p,required:!0})]}),(0,r.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,r.jsxs)("label",{children:[i("Last Name"),":"]}),(0,r.jsx)("input",{style:{width:"100%",padding:"8px",marginTop:"5px"},type:"text",name:"last_name",value:s.last_name,onChange:p,required:!0})]}),(0,r.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,r.jsxs)("label",{children:[i("Password"),":"]}),(0,r.jsx)("input",{type:d?"text":"password",name:"password",value:s.password,onChange:p,required:!0,style:{width:"100%",padding:"7px",marginTop:"5px"}}),(0,r.jsx)("button",{type:"button",onClick:()=>{h(!d)},style:{cursor:"pointer"},children:i(d?"\u0421\u043a\u0440\u044b\u0442\u044c":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c")})]}),(0,r.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,r.jsx)("label",{children:"Email:"}),(0,r.jsx)("input",{style:{width:"100%",padding:"8px",marginTop:"5px"},type:"email",name:"email",value:s.email,onChange:p,required:!0})]}),(0,r.jsx)("button",{type:"submit",disabled:c,children:i(c?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f")}),o&&(0,r.jsx)("p",{style:{color:"red"},children:o})]})]})};const Sn=function(){const e=ct(),{id:n}=ut(),{t:i,i18n:s}=_(),[a,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{(async()=>{try{const e=await(async e=>{const t=await fetch(`http://localhost:5000/users/${e}`);if(!t.ok){const e=await t.text();throw new Error(`\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: ${e}`)}return await t.json()})(n);o(e)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:",e)}finally{c(!1)}})()}),[n]),l?(0,r.jsx)("div",{children:i("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430")}):a?(0,r.jsxs)("div",{className:"register-container",children:[(0,r.jsx)(kn,{user:a}),(0,r.jsx)("button",{onClick:()=>{e(-1)},children:i("\u041d\u0430\u0437\u0430\u0434")})]}):(0,r.jsx)("div",{children:i("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")})},En=()=>{const e=ct(),{t:t,i18n:n}=_();return(0,r.jsx)("span",{onClick:()=>{localStorage.removeItem("userId"),e("/Home")},style:{cursor:"pointer",color:"blue",textDecoration:"underline"},children:t("\u0412\u044b\u0439\u0442\u0438")})},An=e=>{let{userId:n}=e;const[i,s]=(0,t.useState)([]),[a,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),{t:u,i18n:d}=_();if((0,t.useEffect)((()=>{(async()=>{try{const e=await fetch("http://localhost:5000/api/forms");if(!e.ok)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u043e\u0440\u043c");const t=await e.json();s(t)}catch(e){console.error("Fetch error:",e),c(e.message)}finally{o(!1)}})()}),[n]),a)return(0,r.jsx)("div",{children:u("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430")});const h=i.filter((e=>e.is_public||e.user_id===n)).slice(-5);return(0,r.jsxs)("div",{style:{marginLeft:"80px"},children:[(0,r.jsx)(dn,{to:"/create-form",children:(0,r.jsx)("button",{children:u("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0443")})}),h.length>0?(0,r.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:h.map((e=>(0,r.jsx)(dn,{to:`/FormDetails/${e.id}`,style:{textDecoration:"none"},children:(0,r.jsxs)("div",{style:{border:"1px rgb(220, 220, 220) solid",width:"300px",height:"350px",textAlign:"justify",margin:"10px",backgroundColor:"rgb(255, 250, 250)",borderRadius:"5px"},children:[(0,r.jsx)("img",{src:e.image_url,alt:e.form_title,style:{width:"100%",height:"80%",objectFit:"cover",borderRadius:"5px"}}),(0,r.jsx)("div",{style:{textAlign:"center",color:"black"},children:e.form_title})]})},e.id)))}):(0,r.jsx)("div",{children:u("\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u0444\u043e\u0440\u043c")})]})},Tn=e=>{let{onChange:t,placeholder:n}=e;return(0,r.jsxs)("div",{className:"Search",children:[(0,r.jsx)("span",{className:"SearchSpan"}),(0,r.jsx)("input",{className:"SearchInput",type:"text",onChange:t,placeholder:n})]})};const $n=function(){const{t:e,i18n:n}=_(),{id:i}=ut(),s=t.forwardRef(((t,n)=>{let{onClose:s}=t;return(0,r.jsx)("div",{className:"settings-popup",ref:n,children:(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:(0,r.jsx)(dn,{to:`/comp/profile/${i}`,children:e("\u041c\u043e\u0439 \u043f\u043e\u0444\u0438\u043b\u044c")})}),(0,r.jsx)("li",{children:(0,r.jsx)(dn,{to:"/comp/forms",children:e("\u0424\u043e\u0440\u043c\u044b")})}),(0,r.jsx)("li",{children:(0,r.jsx)(dn,{to:"/comp/UsersTable",children:e("\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0410\u0434\u043c\u0438\u043d\u0430")})}),(0,r.jsx)("li",{children:(0,r.jsx)(En,{})})]})})})),[a,o]=(0,t.useState)(!1),l=(0,t.useRef)(null),c=e=>{l.current&&!l.current.contains(e.target)&&o(!1)};return(0,t.useEffect)((()=>(a?document.addEventListener("click",c):document.removeEventListener("click",c),()=>{document.removeEventListener("click",c)})),[a]),(0,r.jsx)("div",{className:"wrapper",children:(0,r.jsxs)("div",{className:"App",children:[(0,r.jsxs)("div",{className:"toolbar",children:[(0,r.jsx)("img",{src:"/e.jpg",alt:"Settings Icon",className:"set",onClick:e=>{e.stopPropagation(),o((e=>!e))}}),a&&(0,r.jsx)(s,{ref:l,onClose:()=>o(!1)})]}),(0,r.jsxs)("header",{className:"App-header",children:[(0,r.jsxs)("div",{className:"search",children:[(0,r.jsx)(Tn,{placeholder:" Search",onChange:e=>console.log(e.target.value)})," "]}),(0,r.jsx)(An,{}),(0,r.jsx)("nav",{}),(0,r.jsx)(Tt,{children:(0,r.jsx)(Et,{path:"/comp/profile/:id",element:(0,r.jsx)(Sn,{})})})]}),(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"content"})})]})})},Ln=e=>{let{onChange:t,placeholder:n}=e;return(0,r.jsxs)("div",{className:"Search",children:[(0,r.jsx)("span",{className:"SearchSpan"}),(0,r.jsx)("input",{className:"SearchInput",type:"text",onChange:t,placeholder:n})]})};const Rn=function(){const{t:e,i18n:n}=_(),{id:i}=ut(),s=t.forwardRef(((t,n)=>{let{onClose:s}=t;return(0,r.jsx)("div",{className:"settings-popup",ref:n,children:(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:(0,r.jsx)(dn,{to:`/comp/profile/${i}`,children:e("\u041c\u043e\u0439 \u043f\u043e\u0444\u0438\u043b\u044c")})}),(0,r.jsx)("li",{children:(0,r.jsx)(dn,{to:"/comp/forms",children:e("\u0424\u043e\u0440\u043c\u044b")})}),(0,r.jsx)("li",{children:(0,r.jsx)(En,{})})]})})})),[a,o]=(0,t.useState)(!1),l=(0,t.useRef)(null),c=e=>{l.current&&!l.current.contains(e.target)&&o(!1)};return(0,t.useEffect)((()=>(a?document.addEventListener("click",c):document.removeEventListener("click",c),()=>{document.removeEventListener("click",c)})),[a]),(0,t.useEffect)((()=>{localStorage.getItem("isAuthenticated")})),(0,r.jsx)("div",{className:"wrapper",children:(0,r.jsxs)("div",{className:"App",children:[(0,r.jsxs)("div",{className:"toolbar",children:[(0,r.jsx)("img",{src:"/e.jpg",alt:"Settings Icon",className:"set",onClick:e=>{e.stopPropagation(),o((e=>!e))}}),a&&(0,r.jsx)(s,{ref:l,onClose:()=>o(!1)})]}),(0,r.jsxs)("header",{className:"App-header",children:[(0,r.jsxs)("div",{className:"search",children:[(0,r.jsx)(Ln,{placeholder:" Search",onChange:e=>console.log(e.target.value)})," "]}),(0,r.jsx)(An,{}),(0,r.jsx)("nav",{}),(0,r.jsxs)(Tt,{children:[(0,r.jsx)(Et,{path:"/comp/profile/:id",element:(0,r.jsx)(Sn,{})}),(0,r.jsx)(Et,{path:"/comp/forms",element:(0,r.jsx)(An,{})})]})]}),(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"content"})})]})})},Pn=e=>{e&&e instanceof Function&&n.e(488).then(n.bind(n,488)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)}))},Nn=()=>{const[e,n]=(0,t.useState)([]),[i,s]=(0,t.useState)(!0),[a,o]=(0,t.useState)(null),{t:l,i18n:c}=_();return(0,t.useEffect)((()=>{(async()=>{const e=localStorage.getItem("userId");if(e)try{const t=await fetch(`http://localhost:5000/api/forms/${e}`);if(!t.ok)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u043e\u0440\u043c");const r=await t.json();r&&Array.isArray(r)?n(r):o("\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435")}catch(t){console.error("Fetch error:",t),o(t.message)}finally{s(!1)}else s(!1)})()}),[]),i?(0,r.jsx)("div",{children:l("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430")}):(0,r.jsxs)("div",{style:{padding:"20px",border:"1px solid #ccc",borderRadius:"5px",width:"900px",textAlign:"center",marginLeft:"300px"},children:[(0,r.jsx)(dn,{to:"/create-form",children:(0,r.jsx)("button",{children:l("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0443")})}),e.length>0?(0,r.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:e.map((e=>(0,r.jsx)(dn,{to:`/FormDetails/${e.id}`,style:{textDecoration:"none"},children:(0,r.jsxs)("div",{style:{border:"1px rgb(220, 220, 220) solid",width:"300px",height:"350px",textAlign:"justify",margin:"10px",backgroundColor:"rgb(255, 250, 250)",borderRadius:"5px"},children:[(0,r.jsx)("img",{src:e.image_url,alt:e.form_title,style:{width:"100%",height:"80%",objectFit:"cover",borderRadius:"5px"}}),(0,r.jsx)("div",{style:{textAlign:"center",color:"black"},children:e.form_title})]},e.id)})))}):(0,r.jsx)("div",{children:(0,r.jsx)("p",{style:{fontSize:"25px"},children:l("\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u0444\u043e\u0440\u043c")})})]})},On=e=>{let{formDescription:n,onDescriptionChange:i}=e;const[s,a]=(0,t.useState)(n),o=(0,t.useRef)(null),{t:l,i18n:c}=_();(0,t.useEffect)((()=>{a(s)}),[s]);const u=()=>{const e=o.current.innerHTML;console.log(e),a(e),i(e)},d=e=>{const t=window.getSelection();if(!t.rangeCount)return;const n=t.getRangeAt(0),r=n.toString();if(""===r)return;const i=document.createElement("div");i.className=e,i.textContent=r,n.deleteContents(),n.insertNode(i),u();const s=document.createRange();s.setStartAfter(i),s.collapse(!0),t.removeAllRanges(),t.addRange(s)},h=e=>{const t=window.getSelection();if(!t.rangeCount)return;const n=t.getRangeAt(0),r=n.toString();if(r){const i=n.startContainer.parentElement;if(i.tagName.toLowerCase()===e){const e=document.createTextNode(r);i.parentNode.removeChild(i),n.insertNode(e);const s=document.createRange();s.setStartAfter(e),s.collapse(!0),t.removeAllRanges(),t.addRange(s)}else{const i=document.createElement(e);i.textContent=r,n.deleteContents(),n.insertNode(i);const s=document.createRange();s.setStartAfter(i),s.collapse(!0),t.removeAllRanges(),t.addRange(s)}a(o.current.innerHTML)}},p=e=>{const t=window.getSelection();if(!t.rangeCount)return;const n=t.getRangeAt(0),r=n.toString();if(""===r)return;const i=n.startContainer.parentElement.closest("li");if(i){const e=i.textContent,t=document.createElement("div");t.textContent=e;const n=document.createRange();n.selectNode(i),n.deleteContents(),n.insertNode(t)}else{const i=document.createElement("li");let s;i.textContent=r,s=e?document.createElement("ol"):document.createElement("ul"),n.startContainer.parentElement.tagName===(e?"OL":"UL")?s=n.startContainer.parentElement:(n.deleteContents(),n.insertNode(s)),s.appendChild(i);const a=document.createRange();a.setStartAfter(i),a.collapse(!0),t.removeAllRanges(),t.addRange(a),u()}};return(0,r.jsx)("div",{className:"container mt-5",children:(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:l("\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:")}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("button",{type:"button",className:"btn btn-outline-secondary me-2",onClick:()=>h("strong"),children:"b"}),(0,r.jsx)("button",{type:"button",className:"btn btn-outline-secondary me-2",onClick:()=>h("em"),children:"i"}),(0,r.jsx)("button",{type:"button",className:"btn btn-outline-secondary me-2",onClick:()=>h("h1"),children:"h1"}),(0,r.jsx)("button",{type:"button",className:"btn btn-outline-secondary me-2",onClick:()=>h("h2"),children:"h2"}),(0,r.jsx)("button",{type:"button",className:"btn btn-outline-secondary me-2",onClick:()=>h("h3"),children:"h3"}),(0,r.jsx)("button",{type:"button",className:"btn btn-outline-secondary me-2",onClick:()=>p(!1),children:"ul"}),(0,r.jsx)("button",{type:"button",className:"btn btn-outline-secondary me-2",onClick:()=>p(!0),children:"ol"}),(0,r.jsx)("button",{type:"button",className:"btn btn-outline-secondary me-2",onClick:()=>d("left"),children:"L"}),(0,r.jsx)("button",{type:"button",className:"btn btn-outline-secondary me-2",onClick:()=>d("center"),children:"C"}),(0,r.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>d("right"),children:"R"})]}),(0,r.jsx)("div",{contentEditable:!0,onChange:u,ref:o,value:s,onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();const t=o.current.innerText.split("\n").pop();if(t.startsWith("- ")||t.startsWith("1. ")){const e=t.startsWith("- ")?"- ":"1. ";document.execCommand("insertText",!1,"\n"+e)}else document.execCommand("insertText",!1,"\n")}},onInput:u,style:{border:"1px solid #ccc",padding:"10px",minHeight:"200px"}})]})})};function In(e){for(let t in e){let n=[...t].reduce(((e,t)=>(t.toUpperCase()===t&&(t="-"+t.toLowerCase()),e+t)),"");n.startsWith("-")&&(n=n.replace("-","")),n.startsWith("uc-")||(n="uc-"+n),e[t].reg&&e[t].reg(n)}}var Mn=Object.defineProperty,jn=(e,t,n)=>(((e,t,n)=>{t in e?Mn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n);var Un=class{constructor(e){e.constructor===Object?this.store=function(e){let t=e=>{var n;for(let r in e)(null==(n=e[r])?void 0:n.constructor)===Object&&(e[r]=t(e[r]));return{...e}};return t(e)}(e):(this._storeIsProxy=!0,this.store=e),this.callbackMap=Object.create(null)}static warn(e,t){console.warn(`Symbiote Data: cannot ${e}. Prop name: `+t)}read(e){return this._storeIsProxy||this.store.hasOwnProperty(e)?this.store[e]:(Un.warn("read",e),null)}has(e){return this._storeIsProxy?void 0!==this.store[e]:this.store.hasOwnProperty(e)}add(e,t){!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&Object.keys(this.store).includes(e)||(this.store[e]=t,this.notify(e))}pub(e,t){this._storeIsProxy||this.store.hasOwnProperty(e)?(this.store[e]=t,this.notify(e)):Un.warn("publish",e)}multiPub(e){for(let t in e)this.pub(t,e[t])}notify(e){this.callbackMap[e]&&this.callbackMap[e].forEach((t=>{t(this.store[e])}))}sub(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this._storeIsProxy||this.store.hasOwnProperty(e)?(this.callbackMap[e]||(this.callbackMap[e]=new Set),this.callbackMap[e].add(t),n&&t(this.store[e]),{remove:()=>{this.callbackMap[e].delete(t),this.callbackMap[e].size||delete this.callbackMap[e]},callback:t}):(Un.warn("subscribe",e),null)}static registerCtx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Symbol(),n=Un.globalStore.get(t);return n?console.warn('State: context UID "'+t+'" already in use'):(n=new Un(e),Un.globalStore.set(t,n)),n}static deleteCtx(e){Un.globalStore.delete(e)}static getCtx(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Un.globalStore.get(e)||(t&&console.warn('State: wrong context UID - "'+e+'"'),null)}};Un.globalStore=new Map;var Dn=Object.freeze({BIND_ATTR:"set",ATTR_BIND_PRFX:"@",EXT_DATA_CTX_PRFX:"*",NAMED_DATA_CTX_SPLTR:"/",CTX_NAME_ATTR:"ctx-name",CTX_OWNER_ATTR:"ctx-owner",CSS_CTX_PROP:"--ctx-name",EL_REF_ATTR:"ref",AUTO_TAG_PRFX:"sym",REPEAT_ATTR:"repeat",REPEAT_ITEM_TAG_ATTR:"repeat-item-tag",SET_LATER_KEY:"__toSetLater__",USE_TPL:"use-template",ROOT_STYLE_ATTR_NAME:"sym-component"}),Fn="1234567890QWERTYUIOPASDFGHJKLZXCVBNMqwertyuiopasdfghjklzxcvbnm",zn=class{static generate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"XXXXXXXXX-XXX",t="";for(let n=0;n<e.length;n++)t+="-"===e[n]?e[n]:Fn.charAt(61*Math.random());return t}};function Vn(e,t,n){let r,i=!0,s=t.split(".");return s.forEach(((t,n)=>{n<s.length-1?e=e[t]:r=t})),e?e[r]=n:i=!1,i}var Bn="__default__";var Hn="{{",qn="}}";var Wn=[function(e,t){[...e.querySelectorAll(`[${Dn.REPEAT_ATTR}]`)].forEach((e=>{let n,r=e.getAttribute(Dn.REPEAT_ITEM_TAG_ATTR);if(r&&(n=window.customElements.get(r)),!n){n=class extends t.BaseComponent{constructor(){super(),r||(this.style.display="contents")}};let i=e.innerHTML;n.template=i,n.reg(r)}for(;e.firstChild;)e.firstChild.remove();let i=e.getAttribute(Dn.REPEAT_ATTR);t.sub(i,(t=>{if(!t){for(;e.firstChild;)e.firstChild.remove();return}let r,i=[...e.children],s=t=>{t.forEach(((e,t)=>{if(i[t])if(i[t].set$)setTimeout((()=>{i[t].set$(e)}));else for(let n in e)i[t][n]=e[n];else{r||(r=new DocumentFragment);let t=new n;Object.assign(t.init$,e),r.appendChild(t)}})),r&&e.appendChild(r);let s=i.slice(t.length,i.length);for(let e of s)e.remove()};if(t.constructor===Array)s(t);else if(t.constructor===Object){let e=[];for(let n in t){let r=t[n];Object.defineProperty(r,"_KEY_",{value:n,enumerable:!0}),e.push(r)}s(e)}else console.warn("Symbiote repeat data type error:"),console.log(t)})),e.removeAttribute(Dn.REPEAT_ATTR),e.removeAttribute(Dn.REPEAT_ITEM_TAG_ATTR)}))},function(e,t){if(t.shadowRoot)return;let n=[...e.querySelectorAll("slot")];if(!n.length)return;let r={};n.forEach((e=>{let t=e.getAttribute("name")||Bn;r[t]={slot:e,fr:document.createDocumentFragment()}})),t.initChildren.forEach((e=>{var t;let n=Bn;e instanceof Element&&e.hasAttribute("slot")&&(n=e.getAttribute("slot"),e.removeAttribute("slot")),null==(t=r[n])||t.fr.appendChild(e)})),Object.values(r).forEach((e=>{if(e.fr.childNodes.length)e.slot.parentNode.replaceChild(e.fr,e.slot);else if(e.slot.childNodes.length){let t=document.createDocumentFragment();t.append(...e.slot.childNodes),e.slot.parentNode.replaceChild(t,e.slot)}else e.slot.remove()}))},function(e,t){[...e.querySelectorAll(`[${Dn.EL_REF_ATTR}]`)].forEach((e=>{let n=e.getAttribute(Dn.EL_REF_ATTR);t.ref[n]=e,e.removeAttribute(Dn.EL_REF_ATTR)}))},function(e,t){[...e.querySelectorAll(`[${Dn.BIND_ATTR}]`)].forEach((e=>{let n=e.getAttribute(Dn.BIND_ATTR).split(";");[...e.attributes].forEach((t=>{if(t.name.startsWith("-")&&t.value){let r=t.name.replace("-","").split("-").map(((e,t)=>e&&t?e[0].toUpperCase()+e.slice(1):e)).join("").split("_").map(((e,t)=>e&&t?e.toUpperCase():e)).join("");n.push(r+":"+t.value),e.removeAttribute(t.name)}})),n.forEach((n=>{if(!n)return;let r,i=n.split(":").map((e=>e.trim())),s=i[0];0===s.indexOf(Dn.ATTR_BIND_PRFX)&&(r=!0,s=s.replace(Dn.ATTR_BIND_PRFX,""));let a=i[1].split(",").map((e=>e.trim()));for(let o of a){let n;o.startsWith("!!")?(n="double",o=o.replace("!!","")):o.startsWith("!")&&(n="single",o=o.replace("!","")),t.sub(o,(t=>{"double"===n?t=!!t:"single"===n&&(t=!t),r?(null==t?void 0:t.constructor)===Boolean?t?e.setAttribute(s,""):e.removeAttribute(s):e.setAttribute(s,t):Vn(e,s,t)||(e[Dn.SET_LATER_KEY]||(e[Dn.SET_LATER_KEY]=Object.create(null)),e[Dn.SET_LATER_KEY][s]=t)}))}})),e.removeAttribute(Dn.BIND_ATTR)}))},function(e,t){(function(e){let t,n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode:e=>{var t;return!(null==(t=e.parentElement)?void 0:t.hasAttribute("skip-text"))&&e.textContent.includes(Hn)&&e.textContent.includes(qn)&&1}});for(;t=r.nextNode();)n.push(t);return n})(e).forEach((e=>{let n,r=[];for(;e.textContent.includes(qn);)e.textContent.startsWith(Hn)?(n=e.textContent.indexOf(qn)+2,e.splitText(n),r.push(e)):(n=e.textContent.indexOf(Hn),e.splitText(n)),e=e.nextSibling;r.forEach((e=>{let n=e.textContent.replace(Hn,"").replace(qn,"");e.textContent="",t.sub(n,(t=>{e.textContent=t}))}))}))}],Kn="'",Gn='"',Xn=/\\([0-9a-fA-F]{1,6} ?)/g;function Qn(e){let t=e;var n;(n=e)[0]!==Gn&&n[0]!==Kn||n[n.length-1]!==Gn&&n[n.length-1]!==Kn||(t=function(e){return e[0]!==Gn&&e[0]!==Kn||(e=e.slice(1)),e[e.length-1]!==Gn&&e[e.length-1]!==Kn||(e=e.slice(0,-1)),e}(t),t=t.replace(Xn,((e,t)=>String.fromCodePoint(parseInt(t.trim(),16)))),t=t.replaceAll("\\\n","\\n"),t=function(e){let t="",n="";for(var r=0;r<e.length;r++){const i=e[r+1];"\\"===e[r]&&'"'===i?(t+='\\"',r++):'"'===e[r]&&"\\"!==n?t+='\\"':t+=e[r],n=e[r]}return t}(t),t=Gn+t+Gn);try{return JSON.parse(t)}catch(r){throw new Error(`Failed to parse CSS property value: ${t}. Original input: ${e}`)}}var Zn=0,Jn=null,Yn=null,er=class extends HTMLElement{constructor(){super(),jn(this,"updateCssData",(()=>{var e;this.dropCssDataCache(),null==(e=this.__boundCssProps)||e.forEach((e=>{let t=this.getCssData(this.__extractCssName(e),!0);null!==t&&this.$[e]!==t&&(this.$[e]=t)}))})),this.init$=Object.create(null),this.cssInit$=Object.create(null),this.tplProcessors=new Set,this.ref=Object.create(null),this.allSubs=new Set,this.pauseRender=!1,this.renderShadow=!1,this.readyToDestroy=!0,this.processInnerHtml=!1,this.allowCustomTemplate=!1,this.ctxOwner=!1}get BaseComponent(){return er}initCallback(){}__initCallback(){var e;this.__initialized||(this.__initialized=!0,null==(e=this.initCallback)||e.call(this))}render(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.renderShadow;if(!n&&!this.constructor.__shadowStylesUrl||this.shadowRoot||this.attachShadow({mode:"open"}),this.allowCustomTemplate){let t=this.getAttribute(Dn.USE_TPL);if(t){let n=this.getRootNode(),r=(null==n?void 0:n.querySelector(t))||document.querySelector(t);r?e=r.content.cloneNode(!0):console.warn(`Symbiote template "${t}" is not found...`)}}if(this.processInnerHtml)for(let i of this.tplProcessors)i(this,this);if(e||this.constructor.template){if(this.constructor.template&&!this.constructor.__tpl&&(this.constructor.__tpl=document.createElement("template"),this.constructor.__tpl.innerHTML=this.constructor.template),(null==e?void 0:e.constructor)===DocumentFragment)t=e;else if((null==e?void 0:e.constructor)===String){let n=document.createElement("template");n.innerHTML=e,t=n.content.cloneNode(!0)}else this.constructor.__tpl&&(t=this.constructor.__tpl.content.cloneNode(!0));for(let e of this.tplProcessors)e(t,this)}let r=()=>{t&&(n&&this.shadowRoot.appendChild(t)||this.appendChild(t)),this.__initCallback()};if(this.constructor.__shadowStylesUrl){n=!0;let e=document.createElement("link");e.rel="stylesheet",e.href=this.constructor.__shadowStylesUrl,e.onload=r,this.shadowRoot.prepend(e)}else r()}addTemplateProcessor(e){this.tplProcessors.add(e)}get autoCtxName(){return this.__autoCtxName||(this.__autoCtxName=zn.generate(),this.style.setProperty(Dn.CSS_CTX_PROP,`'${this.__autoCtxName}'`)),this.__autoCtxName}get cssCtxName(){return this.getCssData(Dn.CSS_CTX_PROP,!0)}get ctxName(){var e;let t=(null==(e=this.getAttribute(Dn.CTX_NAME_ATTR))?void 0:e.trim())||this.cssCtxName||this.__cachedCtxName||this.autoCtxName;return this.__cachedCtxName=t,t}get localCtx(){return this.__localCtx||(this.__localCtx=Un.registerCtx({},this)),this.__localCtx}get nodeCtx(){return Un.getCtx(this.ctxName,!1)||Un.registerCtx({},this.ctxName)}static __parseProp(e,t){let n,r;if(e.startsWith(Dn.EXT_DATA_CTX_PRFX))n=t.nodeCtx,r=e.replace(Dn.EXT_DATA_CTX_PRFX,"");else if(e.includes(Dn.NAMED_DATA_CTX_SPLTR)){let t=e.split(Dn.NAMED_DATA_CTX_SPLTR);n=Un.getCtx(t[0]),r=t[1]}else n=t.localCtx,r=e;return{ctx:n,name:r}}sub(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e=>{this.isConnected&&t(e)},i=er.__parseProp(e,this);i.ctx.has(i.name)?this.allSubs.add(i.ctx.sub(i.name,r,n)):window.setTimeout((()=>{this.allSubs.add(i.ctx.sub(i.name,r,n))}))}notify(e){let t=er.__parseProp(e,this);t.ctx.notify(t.name)}has(e){let t=er.__parseProp(e,this);return t.ctx.has(t.name)}add(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=er.__parseProp(e,this);r.ctx.add(r.name,t,n)}add$(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(let n in e)this.add(n,e[n],t)}get $(){if(!this.__stateProxy){let e=Object.create(null);this.__stateProxy=new Proxy(e,{set:(e,t,n)=>{let r=er.__parseProp(t,this);return r.ctx.pub(r.name,n),!0},get:(e,t)=>{let n=er.__parseProp(t,this);return n.ctx.read(n.name)}})}return this.__stateProxy}set$(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(let n in e){let r=e[n],i=[String,Number,Boolean];(t||!i.includes(null==r?void 0:r.constructor)||this.$[n]!==r)&&(this.$[n]=r)}}get __ctxOwner(){return this.ctxOwner||this.hasAttribute(Dn.CTX_OWNER_ATTR)&&"false"!==this.getAttribute(Dn.CTX_OWNER_ATTR)}__initDataCtx(){let e=this.constructor.__attrDesc;if(e)for(let t of Object.values(e))Object.keys(this.init$).includes(t)||(this.init$[t]="");for(let t in this.init$)if(t.startsWith(Dn.EXT_DATA_CTX_PRFX))this.nodeCtx.add(t.replace(Dn.EXT_DATA_CTX_PRFX,""),this.init$[t],this.__ctxOwner);else if(t.includes(Dn.NAMED_DATA_CTX_SPLTR)){let e=t.split(Dn.NAMED_DATA_CTX_SPLTR),n=e[0].trim(),r=e[1].trim();if(n&&r){let e=Un.getCtx(n,!1);e||(e=Un.registerCtx({},n)),e.add(r,this.init$[t])}}else this.localCtx.add(t,this.init$[t]);for(let t in this.cssInit$)this.bindCssData(t,this.cssInit$[t]);this.__dataCtxInitialized=!0}connectedCallback(){var e;if(this.isConnected){if(this.__disconnectTimeout&&window.clearTimeout(this.__disconnectTimeout),!this.connectedOnce){let t=null==(e=this.getAttribute(Dn.CTX_NAME_ATTR))?void 0:e.trim();if(t&&this.style.setProperty(Dn.CSS_CTX_PROP,`'${t}'`),this.__initDataCtx(),this[Dn.SET_LATER_KEY]){for(let e in this[Dn.SET_LATER_KEY])Vn(this,e,this[Dn.SET_LATER_KEY][e]);delete this[Dn.SET_LATER_KEY]}this.initChildren=[...this.childNodes];for(let e of Wn)this.addTemplateProcessor(e);if(this.pauseRender)this.__initCallback();else if(this.constructor.__rootStylesLink){let e=this.getRootNode();if(!e)return;if(null==e?void 0:e.querySelector(`link[${Dn.ROOT_STYLE_ATTR_NAME}="${this.constructor.is}"]`))return void this.render();let t=this.constructor.__rootStylesLink.cloneNode(!0);t.setAttribute(Dn.ROOT_STYLE_ATTR_NAME,this.constructor.is),t.onload=()=>{this.render()},e.nodeType===Node.DOCUMENT_NODE?e.head.appendChild(t):e.prepend(t)}else this.render()}this.connectedOnce=!0}}destroyCallback(){}disconnectedCallback(){this.connectedOnce&&(this.dropCssDataCache(),this.readyToDestroy&&(this.__disconnectTimeout&&window.clearTimeout(this.__disconnectTimeout),this.__disconnectTimeout=window.setTimeout((()=>{this.destroyCallback();for(let e of this.allSubs)e.remove(),this.allSubs.delete(e);for(let e of this.tplProcessors)this.tplProcessors.delete(e);null==Yn||Yn.delete(this.updateCssData),(null==Yn?void 0:Yn.size)||(null==Jn||Jn.disconnect(),Jn=null,Yn=null)}),100)))}static reg(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e||(Zn++,e=`${Dn.AUTO_TAG_PRFX}-${Zn}`),this.__tag=e;let n=window.customElements.get(e);n?t||n===this||console.warn([`Element with tag name "${e}" already registered.`,`You're trying to override it with another class "${this.name}".`,"This is most likely a mistake.","New element will not be registered."].join("\n")):window.customElements.define(e,t?class extends(this){}:this)}static get is(){return this.__tag||this.reg(),this.__tag}static bindAttributes(e){this.observedAttributes=Object.keys(e),this.__attrDesc=e}attributeChangedCallback(e,t,n){var r;if(t===n)return;let i=null==(r=this.constructor.__attrDesc)?void 0:r[e];i?this.__dataCtxInitialized?this.$[i]=n:this.init$[i]=n:this[e]=n}getCssData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.__cssDataCache||(this.__cssDataCache=Object.create(null)),!Object.keys(this.__cssDataCache).includes(e)){this.__computedStyle||(this.__computedStyle=window.getComputedStyle(this));let n=this.__computedStyle.getPropertyValue(e).trim();try{this.__cssDataCache[e]=Qn(n)}catch(wc){!t&&console.warn(`CSS Data error: ${e}`),this.__cssDataCache[e]=null}}return this.__cssDataCache[e]}__extractCssName(e){return e.split("--").map(((e,t)=>0===t?"":e)).join("--")}__initStyleAttrObserver(){Yn||(Yn=new Set),Yn.add(this.updateCssData),Jn||(Jn=new MutationObserver((e=>{"attributes"===e[0].type&&Yn.forEach((e=>{e()}))}))).observe(document,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style"]})}bindCssData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.__boundCssProps||(this.__boundCssProps=new Set),this.__boundCssProps.add(e);let n=this.getCssData(this.__extractCssName(e),!0);null===n&&(n=t),this.add(e,n),this.__initStyleAttrObserver()}dropCssDataCache(){this.__cssDataCache=null,this.__computedStyle=null}defineAccessor(e,t,n){let r="__"+e;this[r]=this[e],Object.defineProperty(this,e,{set:e=>{this[r]=e,n?window.setTimeout((()=>{null==t||t(e)})):null==t||t(e)},get:()=>this[r]}),this[e]=this[r]}static set shadowStyles(e){let t=new Blob([e],{type:"text/css"});this.__shadowStylesUrl=URL.createObjectURL(t)}static set rootStyles(e){if(!this.__rootStylesLink){let t=new Blob([e],{type:"text/css"}),n=URL.createObjectURL(t),r=document.createElement("link");r.href=n,r.rel="stylesheet",this.__rootStylesLink=r}}},tr=er;jn(tr,"template");var nr=class{static _print(e){console.warn(e)}static setDefaultTitle(e){this.defaultTitle=e}static setRoutingMap(e){Object.assign(this.appMap,e);for(let t in this.appMap)this.defaultRoute||!0!==this.appMap[t].default?this.errorRoute||!0!==this.appMap[t].error||(this.errorRoute=t):this.defaultRoute=t}static set routingEventName(e){this.__routingEventName=e}static get routingEventName(){return this.__routingEventName||"sym-on-route"}static readAddressBar(){let e={route:null,options:{}};return window.location.search.split(this.separator).forEach((t=>{if(t.includes("?"))e.route=t.replace("?","");else if(t.includes("=")){let n=t.split("=");e.options[n[0]]=decodeURI(n[1])}else e.options[t]=!0})),e}static notify(){let e=this.readAddressBar(),t=this.appMap[e.route];if(t&&t.title&&(document.title=t.title),null===e.route&&this.defaultRoute)return void this.applyRoute(this.defaultRoute);if(!t&&this.errorRoute)return void this.applyRoute(this.errorRoute);if(!t&&this.defaultRoute)return void this.applyRoute(this.defaultRoute);if(!t)return void this._print(`Route "${e.route}" not found...`);let n=new CustomEvent(nr.routingEventName,{detail:{route:e.route,options:Object.assign(t||{},e.options)}});window.dispatchEvent(n)}static reflect(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.appMap[e];if(!n)return void this._print("Wrong route: "+e);let r="?"+e;for(let s in t)!0===t[s]?r+=this.separator+s:r+=this.separator+s+`=${t[s]}`;let i=n.title||this.defaultTitle||"";window.history.pushState(null,i,r),document.title=i}static applyRoute(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.reflect(e,t),this.notify()}static setSeparator(e){this._separator=e}static get separator(){return this._separator||"&"}static createRouterData(e,t){this.setRoutingMap(t);let n=Un.registerCtx({route:null,options:null,title:null},e);return window.addEventListener(this.routingEventName,(e=>{var t;n.multiPub({route:e.detail.route,options:e.detail.options,title:(null==(t=e.detail.options)?void 0:t.title)||this.defaultTitle||""})})),nr.notify(),this.initPopstateListener(),n}static initPopstateListener(){this.__onPopstate||(this.__onPopstate=()=>{this.notify()},window.addEventListener("popstate",this.__onPopstate))}static removePopstateListener(){window.removeEventListener("popstate",this.__onPopstate),this.__onPopstate=null}};function rr(e,t){for(let n in t)n.includes("-")?e.style.setProperty(n,t[n]):e.style[n]=t[n]}function ir(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tag:"div"},t=document.createElement(e.tag);if(e.attributes&&function(e,t){for(let n in t)t[n].constructor===Boolean?t[n]?e.setAttribute(n,""):e.removeAttribute(n):e.setAttribute(n,t[n])}(t,e.attributes),e.styles&&rr(t,e.styles),e.properties)for(let n in e.properties)t[n]=e.properties[n];return e.processors&&e.processors.forEach((e=>{e(t)})),e.children&&e.children.forEach((e=>{let n=ir(e);t.appendChild(n)})),t}nr.appMap=Object.create(null);var sr="idb-store-ready",ar=class{_notifyWhenReady(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;window.dispatchEvent(new CustomEvent(sr,{detail:{dbName:this.name,storeName:this.storeName,event:e}}))}get _updEventName(){return"symbiote-idb-update_"+this.name}_getUpdateEvent(e){return new CustomEvent(this._updEventName,{detail:{key:this.name,newValue:e}})}_notifySubscribers(e){window.localStorage.removeItem(this.name),window.localStorage.setItem(this.name,e),window.dispatchEvent(this._getUpdateEvent(e))}constructor(e,t){this.name=e,this.storeName=t,this.version=1,this.request=window.indexedDB.open(this.name,this.version),this.request.onupgradeneeded=e=>{this.db=e.target.result,this.objStore=this.db.createObjectStore(t,{keyPath:"_key"}),this.objStore.transaction.oncomplete=e=>{this._notifyWhenReady(e)}},this.request.onsuccess=e=>{this.db=e.target.result,this._notifyWhenReady(e)},this.request.onerror=e=>{console.error(e)},this._subscriptionsMap={},this._updateHandler=e=>{if(e.key===this.name&&this._subscriptionsMap[e.newValue]){this._subscriptionsMap[e.newValue].forEach((async t=>{t(await this.read(e.newValue))}))}},this._localUpdateHandler=e=>{this._updateHandler(e.detail)},window.addEventListener("storage",this._updateHandler),window.addEventListener(this._updEventName,this._localUpdateHandler)}read(e){let t=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).get(e);return new Promise(((n,r)=>{t.onsuccess=t=>{var r;(null==(r=t.target.result)?void 0:r._value)?n(t.target.result._value):(n(null),console.warn(`IDB: cannot read "${e}"`))},t.onerror=e=>{r(e)}}))}write(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={_key:e,_value:t},i=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(r);return new Promise(((t,r)=>{i.onsuccess=r=>{n||this._notifySubscribers(e),t(r.target.result)},i.onerror=e=>{r(e)}}))}delete(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(e);return new Promise(((r,i)=>{n.onsuccess=n=>{t||this._notifySubscribers(e),r(n)},n.onerror=e=>{i(e)}}))}getAll(){let e=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).getAll();return new Promise(((t,n)=>{e.onsuccess=e=>{let n=e.target.result;t(n.map((e=>e._value)))},e.onerror=e=>{n(e)}}))}subscribe(e,t){this._subscriptionsMap[e]||(this._subscriptionsMap[e]=new Set);let n=this._subscriptionsMap[e];return n.add(t),{remove:()=>{n.delete(t),n.size||delete this._subscriptionsMap[e]}}}stop(){window.removeEventListener("storage",this._updateHandler),this._subscriptionsMap=null,or.clear(this.name)}},or=class{static get readyEventName(){return sr}static open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"symbiote-db",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"store",n=e+"/"+t;return this._reg[n]||(this._reg[n]=new ar(e,t)),this._reg[n]}static clear(e){window.indexedDB.deleteDatabase(e);for(let t in this._reg)t.split("/")[0]===e&&delete this._reg[t]}};jn(or,"_reg",Object.create(null));const lr=e=>{if("string"!==typeof e||!e)return"";let t=e.trim();return t.startsWith("-/")?t=t.slice(2):t.startsWith("/")&&(t=t.slice(1)),t.endsWith("/")&&(t=t.slice(0,t.length-1)),t},cr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e=>"string"===typeof e&&e)).map((e=>lr(e))).join("/-/")},ur=function(){let e=cr(...arguments);return e?`-/${e}/`:""};function dr(e){let t=new URL(e),n=t.pathname+t.search+t.hash,r=n.lastIndexOf("http"),i=n.lastIndexOf("/"),s="";return r>=0?s=n.slice(r):i>=0&&(s=n.slice(i+1)),s}function hr(e){let t=new URL(e),{pathname:n}=t;const r=n.indexOf("/"),i=n.indexOf("/",r+1);return n.substring(r+1,i)}function pr(e){let t=fr(e),n=new URL(t),r=n.pathname.indexOf("/-/");return-1===r?"":n.pathname.substring(r).slice(1)}function fr(e){let t=new URL(e),n=dr(e),r=mr(n)?gr(n).pathname:n;return t.pathname=t.pathname.replace(r,""),t.search="",t.hash="",t.toString()}function mr(e){return e.startsWith("http")}function gr(e){let t=new URL(e);return{pathname:t.origin+t.pathname||"",search:t.search||"",hash:t.hash||""}}const vr=(e,t,n)=>{let r=new URL(fr(e));if(n=n||dr(e),r.pathname.startsWith("//")&&(r.pathname=r.pathname.replace("//","/")),mr(n)){let e=gr(n);r.pathname=r.pathname+(t||"")+(e.pathname||""),r.search=e.search,r.hash=e.hash}else r.pathname=r.pathname+(t||"")+(n||"");return r.toString()},yr=(e,t)=>{let n=new URL(e);return n.pathname=t+"/",n.toString()},br=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return e.trim().split(t).map((e=>e.trim())).filter((e=>e.length>0))},wr=Object.freeze({brightness:0,exposure:0,gamma:100,contrast:0,saturation:0,vibrance:0,warmth:0,enhance:0,filter:0,rotate:0,mirror:!1,flip:!1,crop:void 0}),xr=["enhance","brightness","exposure","gamma","contrast","saturation","vibrance","warmth","filter","mirror","flip","rotate","crop"];function _r(e){return cr(...xr.filter((t=>"undefined"!==typeof e[t]&&null!==e[t])).map((t=>function(e,t){if("number"===typeof t){const n=t;return wr[e]!==n?`${e}/${n}`:""}if("boolean"===typeof t){const n=t;return wr[e]!==n?`${e}`:""}if("filter"===e&&t){const{name:n,amount:r}=t;return wr.filter===r?"":`${e}/${n}/${r}`}if("crop"===e&&t){let{dimensions:n,coords:r}=t;return`${e}/${n.join("x")}/${r.join(",")}`}return""}(t,e[t]))).filter((e=>!!e)))}const Cr=cr("format/auto","progressive/yes"),kr=e=>{let[t]=e;return"undefined"!==typeof t?Number(t):void 0},Sr=()=>!0,Er=Object.freeze({enhance:kr,brightness:kr,exposure:kr,gamma:kr,contrast:kr,saturation:kr,vibrance:kr,warmth:kr,filter:e=>{let[t,n]=e;return{name:t,amount:"undefined"!==typeof n?Number(n):100}},mirror:Sr,flip:Sr,rotate:kr,crop:e=>{let[t,n]=e;if(!/\d+x\d+/.test(t)||!/\d+,\d+/.test(n))throw new Error("Crop by aspect ratio, percentage or alignment shortcuts is not supported.");return{dimensions:br(t,"x").map(Number),coords:br(n).map(Number)}}});const Ar=Object.freeze({CROP:"crop",TUNING:"tuning",FILTERS:"filters"}),Tr=[Ar.CROP,Ar.TUNING,Ar.FILTERS],$r=["brightness","exposure","gamma","contrast","saturation","vibrance","warmth","enhance"],Lr=["adaris","briaril","calarel","carris","cynarel","cyren","elmet","elonni","enzana","erydark","fenralan","ferand","galen","gavin","gethriel","iorill","iothari","iselva","jadis","lavra","misiara","namala","nerion","nethari","pamaya","sarnar","sedis","sewen","sorahel","sorlen","tarian","thellassan","varriel","varven","vevera","virkas","yedis","yllara","zatvel","zevcen"],Rr=["rotate","mirror","flip"],Pr=Object.freeze({brightness:{zero:wr.brightness,range:[-100,100],keypointsNumber:2},exposure:{zero:wr.exposure,range:[-500,500],keypointsNumber:2},gamma:{zero:wr.gamma,range:[0,1e3],keypointsNumber:2},contrast:{zero:wr.contrast,range:[-100,500],keypointsNumber:2},saturation:{zero:wr.saturation,range:[-100,500],keypointsNumber:1},vibrance:{zero:wr.vibrance,range:[-100,500],keypointsNumber:1},warmth:{zero:wr.warmth,range:[-100,100],keypointsNumber:1},enhance:{zero:wr.enhance,range:[0,100],keypointsNumber:1},filter:{zero:wr.filter,range:[0,100],keypointsNumber:1}}),Nr=e=>e?e.split(",").map((e=>e.trim())).filter(Boolean):[],Or=e=>e?e.join(","):"",Ir={pubkey:"",multiple:!0,multipleMin:0,multipleMax:Number.MAX_SAFE_INTEGER,confirmUpload:!1,imgOnly:!1,accept:"",externalSourcesPreferredTypes:"",externalSourcesEmbedCss:"",store:"auto",cameraMirror:!1,cameraCapture:"",sourceList:"local, url, camera, dropbox, gdrive",cloudImageEditorTabs:Or(Tr),maxLocalFileSizeBytes:0,thumbSize:76,showEmptyList:!1,useLocalImageEditor:!1,useCloudImageEditor:!0,removeCopyright:!1,cropPreset:"",imageShrink:"",modalScrollLock:!0,modalBackdropStrokes:!1,sourceListWrap:!0,remoteTabSessionKey:"",cdnCname:"https://ucarecdn.com",baseUrl:"https://upload.uploadcare.com",socialBaseUrl:"https://social.uploadcare.com",secureSignature:"",secureExpire:"",secureDeliveryProxy:"",retryThrottledRequestMaxTimes:1,multipartMinFileSize:26214400,multipartChunkSize:5242880,maxConcurrentRequests:10,multipartMaxConcurrentRequests:4,multipartMaxAttempts:3,checkForUrlDuplicates:!1,saveUrlForRecurrentUploads:!1,groupOutput:!1,userAgentIntegration:"",debug:!1,metadata:null,localeName:"en",localeDefinitionOverride:null,secureUploadsExpireThreshold:6e5,secureUploadsSignatureResolver:null,secureDeliveryProxyUrlResolver:null,iconHrefResolver:null,fileValidators:[],collectionValidators:[],cameraModes:"photo, video",defaultCameraMode:null,enableAudioRecording:!0,enableVideoRecording:null,maxVideoRecordingDuration:null,mediaRecorderOptions:null},Mr=Object.freeze({FILE_ADDED:"file-added",FILE_REMOVED:"file-removed",FILE_UPLOAD_START:"file-upload-start",FILE_UPLOAD_PROGRESS:"file-upload-progress",FILE_UPLOAD_SUCCESS:"file-upload-success",FILE_UPLOAD_FAILED:"file-upload-failed",FILE_URL_CHANGED:"file-url-changed",MODAL_OPEN:"modal-open",MODAL_CLOSE:"modal-close",DONE_CLICK:"done-click",UPLOAD_CLICK:"upload-click",ACTIVITY_CHANGE:"activity-change",COMMON_UPLOAD_START:"common-upload-start",COMMON_UPLOAD_PROGRESS:"common-upload-progress",COMMON_UPLOAD_SUCCESS:"common-upload-success",COMMON_UPLOAD_FAILED:"common-upload-failed",CHANGE:"change",GROUP_CREATED:"group-created"});class jr{_timeoutStore=(()=>new Map)();_targets=(()=>new Set)();_debugPrint=null;constructor(e){this._debugPrint=e}bindTarget(e){this._targets.add(e)}unbindTarget(e){this._targets.delete(e)}_dispatch(e,t){for(const n of this._targets)n.dispatchEvent(new CustomEvent(e,{detail:t}));this._debugPrint?.((()=>{const n=t&&"object"===typeof t?{...t}:t;return[`event "${e}"`,n]}))}emit(e,t){let{debounce:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("number"!==typeof n&&!n)return void this._dispatch(e,"function"===typeof t?t():t);this._timeoutStore.has(e)&&window.clearTimeout(this._timeoutStore.get(e));const r="number"===typeof n?n:20,i=window.setTimeout((()=>{this._dispatch(e,"function"===typeof t?t():t),this._timeoutStore.delete(e)}),r);this._timeoutStore.set(e,i)}}function Ur(e,t){let n;const r=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];clearTimeout(n),n=setTimeout((()=>e(...i)),t)};return r.cancel=()=>{clearTimeout(n)},r}const Dr="--uploadcare-blocks-window-height";class Fr{static clientsRegistry=(()=>new Set)();static flush=(()=>Ur((()=>{document.documentElement.style.setProperty(Dr,`${window.innerHeight}px`)}),100))();static registerClient(e){0===this.clientsRegistry.size&&this.attachTracker(),this.clientsRegistry.add(e)}static unregisterClient(e){this.clientsRegistry.delete(e),0===this.clientsRegistry.size&&this.detachTracker()}static attachTracker(){window.addEventListener("resize",this.flush,{passive:!0,capture:!0}),this.flush()}static detachTracker(){window.removeEventListener("resize",this.flush,{capture:!0}),document.documentElement.style.removeProperty(Dr)}}const zr=(e,t)=>new Intl.PluralRules(e).select(t),Vr=e=>e,Br="{{",Hr="}}",qr="plural:";function Wr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{openToken:r=Br,closeToken:i=Hr,transform:s=Vr}=n;for(let a in t){let n=t[a]?.toString();e=e.replaceAll(r+a+i,"string"===typeof n?s(n):n)}return e}function Kr(e){return"[object Object]"===Object.prototype.toString.call(e)}const Gr=/\W|_/g;function Xr(e){let{ignoreKeys:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ignoreKeys:[]};return Array.isArray(e)?e.map((e=>Qr(e,{ignoreKeys:t}))):e}function Qr(e){let{ignoreKeys:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ignoreKeys:[]};if(Array.isArray(e))return Xr(e,{ignoreKeys:t});if(!Kr(e))return e;const n={};for(const i of Object.keys(e)){let s=e[i];t.includes(i)?n[i]=s:(Kr(s)?s=Qr(s,{ignoreKeys:t}):Array.isArray(s)&&(s=Xr(s,{ignoreKeys:t})),n[(r=i,r.split(Gr).map(((e,t)=>e.charAt(0)[t>0?"toUpperCase":"toLowerCase"]()+e.slice(1))).join(""))]=s)}var r;return n}function Zr(e){let{libraryName:t,libraryVersion:n,userAgent:r,publicKey:i="",integration:s=""}=e;const a="JavaScript";if("string"===typeof r)return r;if("function"===typeof r)return r({publicKey:i,libraryName:t,libraryVersion:n,languageName:a,integration:s});return`${[t,n,i].filter(Boolean).join("/")} (${[a,s].filter(Boolean).join("; ")})`}const Jr={factor:2,time:100};function Yr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jr,n=0;return function e(r){const i=Math.round(t.time*t.factor**n);return r({attempt:n,retry:t=>(e=>new Promise((t=>setTimeout(t,e))))(t??i).then((()=>(n+=1,e(r))))})}(e)}class ei extends Error{}class ti extends ei{originalProgressEvent;constructor(e){super(),this.name="NetworkError",this.message="Network error",Object.setPrototypeOf(this,ti.prototype),this.originalProgressEvent=e}}const ni=(e,t)=>{e&&(e.aborted?Promise.resolve().then(t):e.addEventListener("abort",(()=>t()),{once:!0}))};class ri extends ei{isCancel=!0;constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Request canceled"),this.name="CancelError",Object.setPrototypeOf(this,ri.prototype)}}const ii=500,si=e=>{let{check:t,interval:n=ii,timeout:r,signal:i}=e;return new Promise(((e,s)=>{let a,o;ni(i,(()=>{a&&clearTimeout(a),s(new ri("Poll cancelled"))})),r&&(o=setTimeout((()=>{a&&clearTimeout(a),s(new ri("Timed out"))}),r));const l=()=>{try{Promise.resolve(t(i)).then((t=>{t?(o&&clearTimeout(o),e(t)):a=setTimeout(l,n)})).catch((e=>{o&&clearTimeout(o),s(e)}))}catch(r){o&&clearTimeout(o),s(r)}};a=setTimeout(l,0)}))},ai={baseCDN:"https://ucarecdn.com",baseURL:"https://upload.uploadcare.com",maxContentLength:52428800,retryThrottledRequestMaxTimes:1,retryNetworkErrorMaxTimes:3,multipartMinFileSize:26214400,multipartChunkSize:5242880,multipartMinLastPartSize:1048576,maxConcurrentRequests:4,pollingTimeoutMilliseconds:1e4,pusherKey:"79ae88bd931ea68464d9"},oi="application/octet-stream",li="original",ci=e=>{let{method:t,url:n,data:r,headers:i={},signal:s,onProgress:a}=e;return new Promise(((e,o)=>{const l=new XMLHttpRequest,c=t?.toUpperCase()||"GET";let u=!1;l.open(c,n,!0),i&&Object.entries(i).forEach((e=>{const[t,n]=e;"undefined"!==typeof n&&!Array.isArray(n)&&l.setRequestHeader(t,n)})),l.responseType="text",ni(s,(()=>{u=!0,l.abort(),o(new ri)})),l.onload=()=>{if(200!=l.status)o(new Error(`Error ${l.status}: ${l.statusText}`));else{const t={method:c,url:n,data:r,headers:i||void 0,signal:s,onProgress:a},o=l.getAllResponseHeaders().trim().split(/[\r\n]+/),u={};o.forEach((function(e){const t=e.split(": "),n=t.shift(),r=t.join(": ");n&&"undefined"!==typeof n&&(u[n]=r)}));const d=l.response,h=l.status;e({request:t,data:d,headers:u,status:h})}},l.onerror=e=>{u||o(new ti(e))},a&&"function"===typeof a&&(l.upload.onprogress=e=>{e.lengthComputable?a({isComputable:!0,value:e.loaded/e.total}):a({isComputable:!1})}),r?l.send(r):l.send()}))};const ui=function(e){return e};const di=e=>"undefined"!==typeof Blob&&e instanceof Blob,hi=e=>"undefined"!==typeof File&&e instanceof File,pi=e=>!!e&&"object"===typeof e&&!Array.isArray(e)&&"uri"in e&&"string"===typeof e.uri,fi=e=>di(e)||hi(e)||pi(e);function mi(e,t,n){if(Array.isArray(n))for(const i of n)mi(e,`${t}[]`,i);else if((r=n)&&"object"===typeof r&&"data"in r&&fi(r.data)){const{name:r,contentType:i}=n,s=ui(n.data,r,i??oi),a=(e=>{let{name:t}=e;return t?[t]:[]})({name:r,contentType:i});e.push([t,s,...a])}else if((e=>!!e&&"object"===typeof e&&!Array.isArray(e))(n))for(const[i,s]of Object.entries(n))"undefined"!==typeof s&&e.push([`${t}[${i}]`,String(s)]);else(e=>"string"===typeof e||"number"===typeof e||"undefined"===typeof e)(n)&&n&&e.push([t,n.toString()]);var r}function gi(e){const t=new FormData,n=function(e){const t=[];for(const[n,r]of Object.entries(e))mi(t,n,r);return t}(e);for(const r of n){const[e,n,...i]=r;t.append(e,n,...i)}return t}class vi extends ei{code;request;response;headers;constructor(e,t,n,r,i){super(),this.name="UploadError",this.message=e,this.code=t,this.request=n,this.response=r,this.headers=i,Object.setPrototypeOf(this,vi.prototype)}}const yi=(e,t,n)=>{const r=new URL(e);return r.pathname=(r.pathname+t).replace("//","/"),n&&(r.search=(e=>{const t=new URLSearchParams;for(const[n,r]of Object.entries(e))r&&"object"===typeof r&&!Array.isArray(r)?Object.entries(r).filter((e=>e[1]??!1)).forEach((e=>t.set(`${n}[${e[0]}]`,String(e[1])))):Array.isArray(r)?r.forEach((e=>{t.append(`${n}[]`,e)})):"string"===typeof r&&r?t.set(n,r):"number"===typeof r&&t.set(n,r.toString());return t.toString()})(n)),r.toString()};function bi(e){return Zr({libraryName:"UploadcareUploadClient",libraryVersion:"6.14.2",...e})}function wi(e,t){const{retryThrottledRequestMaxTimes:n,retryNetworkErrorMaxTimes:r}=t;return Yr((t=>{let{attempt:i,retry:s}=t;return e().catch((e=>{if("response"in e&&"RequestThrottledError"===e?.code&&i<n)return s(function(e){const{headers:t}=e||{};if(!t||"string"!==typeof t["retry-after"])return 15e3;const n=parseInt(t["retry-after"],10);return Number.isFinite(n)?1e3*n:15e3}(e));if(e instanceof ti&&i<r)return s(1e3*(i+1));throw e}))}))}const xi=e=>{let t="";return(di(e)||hi(e)||pi(e))&&(t=e.type),t||oi},_i=e=>{let t="";return hi(e)&&e.name?t=e.name:di(e)?t="":pi(e)&&e.name&&(t=e.name),t||li};function Ci(e){return"undefined"===typeof e||"auto"===e?"auto":e?"1":"0"}function ki(e,t){let{publicKey:n,fileName:r,contentType:i,baseURL:s=ai.baseURL,secureSignature:a,secureExpire:o,store:l,signal:c,onProgress:u,source:d="local",integration:h,userAgent:p,retryThrottledRequestMaxTimes:f=ai.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:m=ai.retryNetworkErrorMaxTimes,metadata:g}=t;return wi((()=>ci({method:"POST",url:yi(s,"/base/",{jsonerrors:1}),headers:{"X-UC-User-Agent":bi({publicKey:n,integration:h,userAgent:p})},data:gi({file:{data:e,name:r||_i(e),contentType:i||xi(e)},UPLOADCARE_PUB_KEY:n,UPLOADCARE_STORE:Ci(l),signature:a,expire:o,source:d,metadata:g}),signal:c,onProgress:u}).then((e=>{let{data:t,headers:n,request:r}=e;const i=Qr(JSON.parse(t));if("error"in i)throw new vi(i.error.content,i.error.errorCode,r,i,n);return i}))),{retryNetworkErrorMaxTimes:m,retryThrottledRequestMaxTimes:f})}var Si,Ei;function Ai(e,t){let{publicKey:n,baseURL:r=ai.baseURL,store:i,fileName:s,checkForUrlDuplicates:a,saveUrlForRecurrentUploads:o,secureSignature:l,secureExpire:c,source:u="url",signal:d,integration:h,userAgent:p,retryThrottledRequestMaxTimes:f=ai.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:m=ai.retryNetworkErrorMaxTimes,metadata:g}=t;return wi((()=>ci({method:"POST",headers:{"X-UC-User-Agent":bi({publicKey:n,integration:h,userAgent:p})},url:yi(r,"/from_url/",{jsonerrors:1,pub_key:n,source_url:e,store:Ci(i),filename:s,check_URL_duplicates:a?1:void 0,save_URL_duplicates:o?1:void 0,signature:l,expire:c,source:u,metadata:g}),signal:d}).then((e=>{let{data:t,headers:n,request:r}=e;const i=Qr(JSON.parse(t));if("error"in i)throw new vi(i.error.content,i.error.errorCode,r,i,n);return i}))),{retryNetworkErrorMaxTimes:m,retryThrottledRequestMaxTimes:f})}!function(e){e.Token="token",e.FileInfo="file_info"}(Si||(Si={})),function(e){e.Unknown="unknown",e.Waiting="waiting",e.Progress="progress",e.Error="error",e.Success="success"}(Ei||(Ei={}));function Ti(e){let{publicKey:t,baseURL:n=ai.baseURL,signal:r,integration:i,userAgent:s,retryThrottledRequestMaxTimes:a=ai.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:o=ai.retryNetworkErrorMaxTimes}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return wi((()=>ci({method:"GET",headers:t?{"X-UC-User-Agent":bi({publicKey:t,integration:i,userAgent:s})}:void 0,url:yi(n,"/from_url/status/",{jsonerrors:1,token:e}),signal:r}).then((e=>{let{data:t,headers:n,request:r}=e;const i=Qr(JSON.parse(t));if("error"in i&&!(e=>"status"in e&&e.status===Ei.Error)(i))throw new vi(i.error.content,i.error.errorCode,r,i,n);return i}))),{retryNetworkErrorMaxTimes:o,retryThrottledRequestMaxTimes:a})}function $i(e,t){let{publicKey:n,baseURL:r=ai.baseURL,jsonpCallback:i,secureSignature:s,secureExpire:a,signal:o,source:l,integration:c,userAgent:u,retryThrottledRequestMaxTimes:d=ai.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:h=ai.retryNetworkErrorMaxTimes}=t;return wi((()=>ci({method:"POST",headers:{"X-UC-User-Agent":bi({publicKey:n,integration:c,userAgent:u})},url:yi(r,"/group/",{jsonerrors:1}),data:gi({files:e,callback:i,pub_key:n,signature:s,expire:a,source:l}),signal:o}).then((e=>{let{data:t,headers:n,request:r}=e;const i=Qr(JSON.parse(t));if("error"in i)throw new vi(i.error.content,i.error.errorCode,r,i,n);return i}))),{retryNetworkErrorMaxTimes:h,retryThrottledRequestMaxTimes:d})}function Li(e,t){let{publicKey:n,baseURL:r=ai.baseURL,signal:i,source:s,integration:a,userAgent:o,retryThrottledRequestMaxTimes:l=ai.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:c=ai.retryNetworkErrorMaxTimes}=t;return wi((()=>ci({method:"GET",headers:{"X-UC-User-Agent":bi({publicKey:n,integration:a,userAgent:o})},url:yi(r,"/info/",{jsonerrors:1,pub_key:n,file_id:e,source:s}),signal:i}).then((e=>{let{data:t,headers:n,request:r}=e;const i=Qr(JSON.parse(t));if("error"in i)throw new vi(i.error.content,i.error.errorCode,r,i,n);return i}))),{retryThrottledRequestMaxTimes:l,retryNetworkErrorMaxTimes:c})}function Ri(e,t){let{publicKey:n,contentType:r,fileName:i,multipartChunkSize:s=ai.multipartChunkSize,baseURL:a="",secureSignature:o,secureExpire:l,store:c,signal:u,source:d="local",integration:h,userAgent:p,retryThrottledRequestMaxTimes:f=ai.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:m=ai.retryNetworkErrorMaxTimes,metadata:g}=t;return wi((()=>ci({method:"POST",url:yi(a,"/multipart/start/",{jsonerrors:1}),headers:{"X-UC-User-Agent":bi({publicKey:n,integration:h,userAgent:p})},data:gi({filename:i||li,size:e,content_type:r||oi,part_size:s,UPLOADCARE_STORE:Ci(c),UPLOADCARE_PUB_KEY:n,signature:o,expire:l,source:d,metadata:g}),signal:u}).then((e=>{let{data:t,headers:n,request:r}=e;const i=Qr(JSON.parse(t));if("error"in i)throw new vi(i.error.content,i.error.errorCode,r,i,n);return i.parts=Object.keys(i.parts).map((e=>i.parts[Number(e)])),i}))),{retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:m})}function Pi(e,t,n){let{contentType:r,signal:i,onProgress:s,retryThrottledRequestMaxTimes:a=ai.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:o=ai.retryNetworkErrorMaxTimes}=n;return wi((()=>ci({method:"PUT",url:t,data:e,onProgress:s,signal:i,headers:{"Content-Type":r||oi}}).then((e=>(s&&s({isComputable:!0,value:1}),e))).then((e=>{let{status:t}=e;return{code:t}}))),{retryThrottledRequestMaxTimes:a,retryNetworkErrorMaxTimes:o})}function Ni(e,t){let{publicKey:n,baseURL:r=ai.baseURL,source:i="local",signal:s,integration:a,userAgent:o,retryThrottledRequestMaxTimes:l=ai.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:c=ai.retryNetworkErrorMaxTimes}=t;return wi((()=>ci({method:"POST",url:yi(r,"/multipart/complete/",{jsonerrors:1}),headers:{"X-UC-User-Agent":bi({publicKey:n,integration:a,userAgent:o})},data:gi({uuid:e,UPLOADCARE_PUB_KEY:n,source:i}),signal:s}).then((e=>{let{data:t,headers:n,request:r}=e;const i=Qr(JSON.parse(t));if("error"in i)throw new vi(i.error.content,i.error.errorCode,r,i,n);return i}))),{retryThrottledRequestMaxTimes:l,retryNetworkErrorMaxTimes:c})}function Oi(e,t){let{publicKey:n,baseURL:r,source:i,integration:s,userAgent:a,retryThrottledRequestMaxTimes:o,retryNetworkErrorMaxTimes:l,signal:c,onProgress:u}=t;return si({check:t=>Li(e,{publicKey:n,baseURL:r,signal:t,source:i,integration:s,userAgent:a,retryThrottledRequestMaxTimes:o,retryNetworkErrorMaxTimes:l}).then((e=>e.isReady?e:(u&&u({isComputable:!0,value:1}),!1))),signal:c})}class Ii{uuid;name;size;isStored;isImage;mimeType;cdnUrl;s3Url;originalFilename;imageInfo;videoInfo;contentInfo;metadata;s3Bucket;defaultEffects=null;constructor(e){let{baseCDN:t=ai.baseCDN,fileName:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{uuid:r,s3Bucket:i}=e,s=yi(t,`${r}/`),a=i?yi(`https://${i}.s3.amazonaws.com/`,`${r}/${e.filename}`):null;this.uuid=r,this.name=n||e.filename,this.size=e.size,this.isStored=e.isStored,this.isImage=e.isImage,this.mimeType=e.mimeType,this.cdnUrl=s,this.originalFilename=e.originalFilename,this.imageInfo=e.imageInfo,this.videoInfo=e.videoInfo,this.contentInfo=e.contentInfo,this.metadata=e.metadata||null,this.s3Bucket=i||null,this.s3Url=a,function(e){return"defaultEffects"in e}(e)&&(this.defaultEffects=e.defaultEffects)}}const Mi=function(e){let{signal:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;const i=e.map((()=>new AbortController));return ni(t,(()=>{i.forEach((e=>e.abort()))})),Promise.all(e.map(((e,t)=>{const s=(e=>()=>{r=e,i.forEach(((t,n)=>n!==e&&t.abort()))})(t);return Promise.resolve().then((()=>e({stopRace:s,signal:i[t].signal}))).then((e=>(s(),e))).catch((e=>(n=e,null)))}))).then((e=>{if(null===r)throw n;return e[r]}))};var ji=window.WebSocket;class Ui{events=(()=>Object.create({}))();emit(e,t){this.events[e]?.forEach((e=>e(t)))}on(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)}off(e,t){this.events[e]=t?this.events[e].filter((e=>e!==t)):[]}}class Di{key;disconnectTime;ws=void 0;queue=[];isConnected=!1;subscribers=0;emmitter=(()=>new Ui)();disconnectTimeoutId=null;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4;this.key=e,this.disconnectTime=t}connect(){if(this.disconnectTimeoutId&&clearTimeout(this.disconnectTimeoutId),!this.isConnected&&!this.ws){const e=`wss://ws.pusherapp.com/app/${this.key}?protocol=5&client=js&version=1.12.2`;this.ws=new ji(e),this.ws.addEventListener("error",(e=>{this.emmitter.emit("error",new Error(e.message))})),this.emmitter.on("connected",(()=>{this.isConnected=!0,this.queue.forEach((e=>this.send(e.event,e.data))),this.queue=[]})),this.ws.addEventListener("message",(e=>{const t=JSON.parse(e.data.toString());switch(t.event){case"pusher:connection_established":this.emmitter.emit("connected",void 0);break;case"pusher:ping":this.send("pusher:pong",{});break;case"progress":case"success":case"fail":this.emmitter.emit(t.channel,((e,t)=>"success"===e?{status:Ei.Success,...t}:"progress"===e?{status:Ei.Progress,...t}:{status:Ei.Error,...t})(t.event,JSON.parse(t.data)))}}))}}disconnect(){const e=()=>{this.ws?.close(),this.ws=void 0,this.isConnected=!1};this.disconnectTime?this.disconnectTimeoutId=setTimeout((()=>{e()}),this.disconnectTime):e()}send(e,t){const n=JSON.stringify({event:e,data:t});this.ws?.send(n)}subscribe(e,t){this.subscribers+=1,this.connect();const n=`task-status-${e}`,r={event:"pusher:subscribe",data:{channel:n}};this.emmitter.on(n,t),this.isConnected?this.send(r.event,r.data):this.queue.push(r)}unsubscribe(e){this.subscribers-=1;const t=`task-status-${e}`,n={event:"pusher:unsubscribe",data:{channel:t}};this.emmitter.off(t),this.isConnected?this.send(n.event,n.data):this.queue=this.queue.filter((e=>e.data.channel!==t)),0===this.subscribers&&this.disconnect()}onError(e){return this.emmitter.on("error",e),()=>this.emmitter.off("error",e)}}let Fi=null;const zi=e=>{if(!Fi){const t="undefined"===typeof window?0:3e4;Fi=new Di(e,t)}return Fi};const Vi=(e,t)=>{let{publicKey:n,fileName:r,baseURL:i,baseCDN:s,checkForUrlDuplicates:a,saveUrlForRecurrentUploads:o,secureSignature:l,secureExpire:c,store:u,signal:d,onProgress:h,source:p,integration:f,userAgent:m,retryThrottledRequestMaxTimes:g,pusherKey:v=ai.pusherKey,metadata:y}=t;return Promise.resolve((b=v,void zi(b).connect())).then((()=>Ai(e,{publicKey:n,fileName:r,baseURL:i,checkForUrlDuplicates:a,saveUrlForRecurrentUploads:o,secureSignature:l,secureExpire:c,store:u,signal:d,source:p,integration:f,userAgent:m,retryThrottledRequestMaxTimes:g,metadata:y}))).catch((e=>{const t=zi(v);return t?.disconnect(),Promise.reject(e)})).then((e=>e.type===Si.FileInfo?e:Mi([t=>{let{signal:r}=t;return function(e){let{token:t,publicKey:n,baseURL:r,integration:i,userAgent:s,retryThrottledRequestMaxTimes:a,retryNetworkErrorMaxTimes:o,onProgress:l,signal:c}=e;return si({check:e=>Ti(t,{publicKey:n,baseURL:r,integration:i,userAgent:s,retryThrottledRequestMaxTimes:a,retryNetworkErrorMaxTimes:o,signal:e}).then((e=>{switch(e.status){case Ei.Error:return new vi(e.error,e.errorCode);case Ei.Waiting:return!1;case Ei.Unknown:return new vi(`Token "${t}" was not found.`);case Ei.Progress:return l&&("unknown"===e.total?l({isComputable:!1}):l({isComputable:!0,value:e.done/e.total})),!1;case Ei.Success:return l&&l({isComputable:!0,value:e.done/e.total}),e;default:throw new Error("Unknown status")}})),signal:c})}({token:e.token,publicKey:n,baseURL:i,integration:f,userAgent:m,retryThrottledRequestMaxTimes:g,onProgress:h,signal:r})},t=>{let{signal:n}=t;return(e=>{let{token:t,pusherKey:n,signal:r,onProgress:i}=e;return new Promise(((e,s)=>{const a=zi(n),o=a.onError(s),l=()=>{o(),a.unsubscribe(t)};ni(r,(()=>{l(),s(new ri("pusher cancelled"))})),a.subscribe(t,(t=>{switch(t.status){case Ei.Progress:i&&("unknown"===t.total?i({isComputable:!1}):i({isComputable:!0,value:t.done/t.total}));break;case Ei.Success:l(),i&&i({isComputable:!0,value:t.done/t.total}),e(t);break;case Ei.Error:l(),s(new vi(t.msg,t.error_code))}}))}))})({token:e.token,pusherKey:v,signal:n,onProgress:h})}],{signal:d}))).then((e=>{if(e instanceof vi)throw e;return e})).then((e=>Oi(e.uuid,{publicKey:n,baseURL:i,integration:f,userAgent:m,retryThrottledRequestMaxTimes:g,onProgress:h,signal:d}))).then((e=>new Ii(e,{baseCDN:s})));var b},Bi=new WeakMap,Hi=async e=>{if(hi(e)||di(e))return e.size;if(pi(e)){return(await(async e=>{if(Bi.has(e))return Bi.get(e);const t=await fetch(e.uri).then((e=>e.blob()));return Bi.set(e,t),t})(e)).size}throw new Error("Unknown file type. Cannot determine file size.")},qi=e=>{const t=new RegExp("[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}");return!fi(e)&&t.test(e)},Wi=e=>{const t=new RegExp("^(?:\\w+:)?\\/\\/([^\\s\\.]+\\.\\S{2}|localhost[\\:?\\d]*)\\S*$");return!fi(e)&&t.test(e)},Ki=async(e,t,n)=>r=>((e,t,n,r)=>{const i=r*t,s=Math.min(i+r,n);return e.slice(i,s)})(e,r,t,n),Gi=async(e,t)=>{let{publicKey:n,fileName:r,fileSize:i,baseURL:s,secureSignature:a,secureExpire:o,store:l,signal:c,onProgress:u,source:d,integration:h,userAgent:p,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:m,contentType:g,multipartChunkSize:v=ai.multipartChunkSize,maxConcurrentRequests:y=ai.maxConcurrentRequests,baseCDN:b,metadata:w}=t;const x=i??await Hi(e);let _;const C=(e,t)=>{if(!u)return;_||(_=Array(e).fill(0));return n=>{var r;n.isComputable&&(_[t]=n.value,u({isComputable:!0,value:(r=_,r.reduce(((e,t)=>e+t),0)/e)}))}};return g||=xi(e),Ri(x,{publicKey:n,contentType:g,fileName:r||_i(e),baseURL:s,secureSignature:a,secureExpire:o,store:l,signal:c,source:d,integration:h,userAgent:p,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:m,metadata:w}).then((async t=>{let{uuid:r,parts:i}=t;const s=await Ki(e,x,v);return Promise.all([r,(a=y,o=i.map(((e,t)=>()=>((e,t,n)=>{let{publicKey:r,contentType:i,onProgress:s,signal:a,integration:o,retryThrottledRequestMaxTimes:l,retryNetworkErrorMaxTimes:c}=n;return Pi(e,t,{publicKey:r,contentType:i,onProgress:s,signal:a,integration:o,retryThrottledRequestMaxTimes:l,retryNetworkErrorMaxTimes:c})})(s(t),e,{publicKey:n,contentType:g,onProgress:C(i.length,t),signal:c,integration:h,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:m}))),new Promise(((e,t)=>{const n=[];let r=!1,i=o.length;const s=[...o],l=()=>{const a=o.length-s.length,c=s.shift();c&&c().then((t=>{r||(n[a]=t,i-=1,i?l():e(n))})).catch((e=>{r=!0,t(e)}))};for(let o=0;o<a;o++)l()})))]);var a,o})).then((e=>{let[t]=e;return Ni(t,{publicKey:n,baseURL:s,source:d,integration:h,userAgent:p,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:m})})).then((e=>e.isReady?e:Oi(e.uuid,{publicKey:n,baseURL:s,source:d,integration:h,userAgent:p,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:m,onProgress:u,signal:c}))).then((e=>new Ii(e,{baseCDN:b})))};async function Xi(e,t){let{publicKey:n,fileName:r,baseURL:i=ai.baseURL,secureSignature:s,secureExpire:a,store:o,signal:l,onProgress:c,source:u,integration:d,userAgent:h,retryThrottledRequestMaxTimes:p,retryNetworkErrorMaxTimes:f,contentType:m,multipartMinFileSize:g,multipartChunkSize:v,maxConcurrentRequests:y,baseCDN:b=ai.baseCDN,checkForUrlDuplicates:w,saveUrlForRecurrentUploads:x,pusherKey:_,metadata:C}=t;if(fi(e)){const t=await Hi(e);return function(e){return e>=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:ai.multipartMinFileSize)}(t,g)?Gi(e,{publicKey:n,contentType:m,multipartChunkSize:v,fileSize:t,fileName:r,baseURL:i,secureSignature:s,secureExpire:a,store:o,signal:l,onProgress:c,source:u,integration:d,userAgent:h,maxConcurrentRequests:y,retryThrottledRequestMaxTimes:p,retryNetworkErrorMaxTimes:f,baseCDN:b,metadata:C}):((e,t)=>{let{publicKey:n,fileName:r,baseURL:i,secureSignature:s,secureExpire:a,store:o,contentType:l,signal:c,onProgress:u,source:d,integration:h,userAgent:p,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:m,baseCDN:g,metadata:v}=t;return ki(e,{publicKey:n,fileName:r,contentType:l,baseURL:i,secureSignature:s,secureExpire:a,store:o,signal:c,onProgress:u,source:d,integration:h,userAgent:p,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:m,metadata:v}).then((e=>{let{file:t}=e;return Oi(t,{publicKey:n,baseURL:i,source:d,integration:h,userAgent:p,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:m,onProgress:u,signal:c})})).then((e=>new Ii(e,{baseCDN:g})))})(e,{publicKey:n,fileName:r,contentType:m,baseURL:i,secureSignature:s,secureExpire:a,store:o,signal:l,onProgress:c,source:u,integration:d,userAgent:h,retryThrottledRequestMaxTimes:p,retryNetworkErrorMaxTimes:f,baseCDN:b,metadata:C})}if(Wi(e))return Vi(e,{publicKey:n,fileName:r,baseURL:i,baseCDN:b,checkForUrlDuplicates:w,saveUrlForRecurrentUploads:x,secureSignature:s,secureExpire:a,store:o,signal:l,onProgress:c,source:u,integration:d,userAgent:h,retryThrottledRequestMaxTimes:p,retryNetworkErrorMaxTimes:f,pusherKey:_,metadata:C});if(qi(e))return((e,t)=>{let{publicKey:n,fileName:r,baseURL:i,signal:s,onProgress:a,source:o,integration:l,userAgent:c,retryThrottledRequestMaxTimes:u,retryNetworkErrorMaxTimes:d,baseCDN:h}=t;return Li(e,{publicKey:n,baseURL:i,signal:s,source:o,integration:l,userAgent:c,retryThrottledRequestMaxTimes:u,retryNetworkErrorMaxTimes:d}).then((e=>new Ii(e,{baseCDN:h,fileName:r}))).then((e=>(a&&a({isComputable:!0,value:1}),e)))})(e,{publicKey:n,fileName:r,baseURL:i,signal:l,onProgress:c,source:u,integration:d,userAgent:h,retryThrottledRequestMaxTimes:p,retryNetworkErrorMaxTimes:f,baseCDN:b});throw new TypeError(`File uploading from "${e}" is not supported`)}class Qi{uuid;filesCount;totalSize;isStored;isImage;cdnUrl;files;createdAt;storedAt=null;constructor(e){let{baseCDN:t=ai.baseCDN}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.uuid=e.id,this.filesCount=e.filesCount;const n=e.files.filter(Boolean);this.totalSize=Object.values(n).reduce(((e,t)=>e+t.size),0),this.isStored=!!e.datetimeStored,this.isImage=!!Object.values(n).filter((e=>e.isImage)).length,this.cdnUrl=e.cdnUrl,this.files=n.map((e=>new Ii(e,{baseCDN:t}))),this.createdAt=e.datetimeCreated,this.storedAt=e.datetimeStored}}function Zi(e,t){let n,{publicKey:r,fileName:i,baseURL:s=ai.baseURL,secureSignature:a,secureExpire:o,store:l,signal:c,onProgress:u,source:d,integration:h,userAgent:p,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:m,contentType:g,multipartChunkSize:v=ai.multipartChunkSize,baseCDN:y=ai.baseCDN,checkForUrlDuplicates:b,saveUrlForRecurrentUploads:w,jsonpCallback:x}=t;if(!(e=>{for(const t of e)if(!fi(t))return!1;return!0})(e)&&!(e=>{for(const t of e)if(!Wi(t))return!1;return!0})(e)&&!(e=>{for(const t of e)if(!qi(t))return!1;return!0})(e))throw new TypeError(`Group uploading from "${e}" is not supported`);let _=!0;const C=e.length,k=(e,t)=>{if(!u)return;n||(n=Array(e).fill(0));return r=>{if(!r.isComputable||!_)return _=!1,void u({isComputable:!1});var i;n[t]=r.value,u({isComputable:!0,value:(i=n,i.reduce(((e,t)=>e+t))/e)})}};return Promise.all(e.map(((e,t)=>fi(e)||Wi(e)?Xi(e,{publicKey:r,fileName:i,baseURL:s,secureSignature:a,secureExpire:o,store:l,signal:c,onProgress:k(C,t),source:d,integration:h,userAgent:p,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:m,contentType:g,multipartChunkSize:v,baseCDN:y,checkForUrlDuplicates:b,saveUrlForRecurrentUploads:w}).then((e=>e.uuid)):e))).then((e=>$i(e,{publicKey:r,baseURL:s,jsonpCallback:x,secureSignature:a,secureExpire:o,signal:c,source:d,integration:h,userAgent:p,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:m}).then((e=>new Qi(e,{baseCDN:y}))).then((e=>(u&&u({isComputable:!0,value:1}),e)))))}class Ji{_concurrency=1;_pending=[];_running=0;_resolvers=(()=>new Map)();_rejectors=(()=>new Map)();constructor(e){this._concurrency=e}_run(){const e=this._concurrency-this._running;for(let t=0;t<e;t++){const e=this._pending.shift();if(!e)return;const t=this._resolvers.get(e),n=this._rejectors.get(e);if(!t||!n)throw new Error("Unexpected behavior: resolver or rejector is undefined");this._running+=1,e().finally((()=>{this._resolvers.delete(e),this._rejectors.delete(e),this._running-=1,this._run()})).then((e=>t(e))).catch((e=>n(e)))}}add(e){return new Promise(((t,n)=>{this._resolvers.set(e,t),this._rejectors.set(e,n),this._pending.push(e),this._run()}))}get pending(){return this._pending.length}get running(){return this._running}set concurrency(e){this._concurrency=e,this._run()}get concurrency(){return this._concurrency}}const Yi=e=>({"*currentActivity":null,"*currentActivityParams":{},"*history":[],"*historyBack":null,"*closeModal":()=>{e.set$({"*currentActivity":null,"*modalActive":!1})}}),es=e=>({...Yi(e),"*commonProgress":0,"*uploadList":[],"*uploadQueue":new Ji(1),"*collectionErrors":[],"*collectionState":null,"*groupInfo":null,"*uploadTrigger":new Set,"*secureUploadsManager":null}),ts={"locale-id":"en","social-source-lang":"en","upload-file":"Upload file","upload-files":"Upload files","choose-file":"Choose file","choose-files":"Choose files","drop-files-here":"Drop files here","select-file-source":"Select file source",selected:"Selected",upload:"Upload","add-more":"Add more",cancel:"Cancel","start-from-cancel":"Cancel",clear:"Clear","camera-shot":"Shot","upload-url":"Import","upload-url-placeholder":"Paste link here","edit-image":"Edit image","edit-detail":"Details",back:"Back",done:"Done",ok:"Ok","remove-from-list":"Remove",no:"No",yes:"Yes","confirm-your-action":"Confirm your action","are-you-sure":"Are you sure?","selected-count":"{{count}} of {{total}} selected","select-all":"Select all","deselect-all":"Deselect all","upload-error":"Upload error","validation-error":"Validation error","no-files":"No files selected",browse:"Browse","not-uploaded-yet":"Not uploaded yet...",file__one:"file",file__other:"files",error__one:"error",error__other:"errors","header-uploading":"Uploading {{count}} {{plural:file(count)}}","header-failed":"{{count}} {{plural:error(count)}}","header-succeed":"{{count}} {{plural:file(count)}} uploaded","header-total":"{{count}} {{plural:file(count)}} selected","src-type-local":"From device","src-type-from-url":"From link","src-type-camera":"Camera","src-type-draw":"Draw","src-type-facebook":"Facebook","src-type-dropbox":"Dropbox","src-type-gdrive":"Google Drive","src-type-gphotos":"Google Photos","src-type-flickr":"Flickr","src-type-vk":"VK","src-type-evernote":"Evernote","src-type-box":"Box","src-type-onedrive":"Onedrive","src-type-huddle":"Huddle","src-type-other":"Other","caption-from-url":"Import from link","caption-camera":"Camera","caption-draw":"Draw","caption-edit-file":"Edit file","file-no-name":"No name...","toggle-fullscreen":"Toggle fullscreen","toggle-guides":"Toggle guides",rotate:"Rotate","flip-vertical":"Flip vertical","flip-horizontal":"Flip horizontal",apply:"Apply",brightness:"Brightness",contrast:"Contrast",saturation:"Saturation",exposure:"Exposure",gamma:"Gamma",vibrance:"Vibrance",warmth:"Warmth",enhance:"Enhance",original:"Original",resize:"Resize image",crop:"Crop","select-color":"Select color",text:"Text",draw:"Draw","cancel-edit":"Cancel edit","tab-view":"Preview","tab-details":"Details","file-name":"Name","file-size":"Size","cdn-url":"CDN URL","file-size-unknown":"Unknown","camera-permissions-denied":"Camera access denied","camera-permissions-prompt":"Please allow access to the camera","camera-permissions-request":"Request access","files-count-limit-error-title":"Files count limit overflow","files-count-limit-error-too-few":"You\u2019ve chosen {{total}} {{plural:file(total)}}. At least {{min}} {{plural:file(min)}} required.","files-count-limit-error-too-many":"You\u2019ve chosen too many files. {{max}} {{plural:file(max)}} is maximum.","files-max-size-limit-error":"File is too big. Max file size is {{maxFileSize}}.","has-validation-errors":"File validation error occurred. Please, check your files before upload.","images-only-accepted":"Only image files are accepted.","file-type-not-allowed":"Uploading of these file types is not allowed.","some-files-were-not-uploaded":"Some files were not uploaded.","file-item-edit-button":"Edit","file-item-remove-button":"Remove","a11y-editor-tab-filters":"Filters","a11y-editor-tab-tuning":"Tuning","a11y-editor-tab-crop":"Crop","a11y-activity-header-button-close":"Close",flip:"Flip",mirror:"Mirror","a11y-cloud-editor-apply-filter":"Apply {{name}} filter","a11y-cloud-editor-apply-crop":"Apply {{name}} operation","a11y-cloud-editor-apply-tuning":"Apply {{name}} tuning",finished:"Finished",failed:"Failed",uploading:"Uploading",idle:"Idle","a11y-file-item-status":"File {{fileName}} in status {{status}}","waiting-for":"Waiting for {{source}}"},ns=new Map,rs=new Map,is=(e,t)=>{ns.has(e)&&console.log(`Locale ${e} is already defined. Overwriting...`),ns.set(e,{...ts,...t})},ss=(e,t)=>{"function"===typeof t?((e,t)=>{rs.set(e,t)})(e,t):is(e,t)};ss("en",ts);const as=e=>`*l10n/${e}`;class os{_blockInstance=null;_localeName="";_callbacks=(()=>new Set)();_boundBlocks=(()=>new Map)();constructor(e){this._blockInstance=e;for(let[t,n]of Object.entries(ts))this._blockInstance.add(as(t),n,!1);setTimeout((()=>{e.subConfigValue("localeName",(async e=>{if(!this._blockInstance||!e)return;this._localeName=e;const t=await(async e=>{if(!ns.has(e)){if(!rs.has(e))throw new Error(`Locale ${e} is not defined`);const t=rs.get(e),n=await t();is(e,n)}return ns.get(e)})(e);if("en"!==e&&this._localeName!==e)return;const n=this._blockInstance.cfg.localeDefinitionOverride?.[e];for(const[r,i]of Object.entries(t)){const e=n?.[r];this._blockInstance.add(as(r),e??i,!0);for(const t of this._callbacks)t()}})),e.subConfigValue("localeDefinitionOverride",(e=>{if(!e)return;const t=e[this._localeName];if(t)for(const[n,r]of Object.entries(t)){this._blockInstance?.add(as(n),r,!0);for(const e of this._callbacks)e()}}))}))}onLocaleChange(e){const t=Ur(e,0);return this._callbacks.add(t),()=>{this._callbacks.delete(t)}}bindL10n(e,t,n){e.$[t]=n(),this._boundBlocks.has(e)||this._boundBlocks.set(e,new Map),this._boundBlocks.get(e)?.get(t)?.();const r=this.onLocaleChange((()=>{e.$[t]=n()}));this._boundBlocks.get(e)?.set(t,r)}destroyL10nBindings(e){const t=this._boundBlocks.get(e);if(t){for(const e of t.values())e();this._boundBlocks.delete(e)}}destroy(){this._callbacks.clear()}}function ls(e,t){[...e.querySelectorAll("[l10n]")].forEach((e=>{let n=e.getAttribute("l10n");if(!n)return;const r=n.split(";");for(const i of r)i&&cs(e,i,t)}))}const cs=(e,t,n)=>{let r="textContent",i=!1;if(t.includes(":")){const e=t.split(":");r=e[0],t=e[1],r.startsWith("@")&&(r=r.slice(1),i=!0)}const s=t;n.has(s)&&n.sub(s,(t=>{if(!t)return;n.l10nProcessorSubs.has(s)||n.l10nProcessorSubs.set(s,new Set);const i=n.l10nProcessorSubs.get(s);i?.forEach((e=>{e.remove(),i.delete(e),n.allSubs.delete(e)}));const a=as(t).replace("*","");n.nodeCtx.has(a)||n.nodeCtx.add(a,t);const o=n.nodeCtx.sub(a,(()=>{e[r]=n.l10n(t)}));i?.add(o),n.allSubs.add(o),e.removeAttribute("l10n")}));const a=as(t);n.has(a)||n.add(a,""),n.sub(a,(()=>{i?e.setAttribute(r,n.l10n(t)):e[r]=n.l10n(t)})),e.removeAttribute("l10n")},us=e=>`*cfg/${e}`;const ds={button:["toolbar"],checkbox:["toolbar"],menuitem:["menu","menubar"],option:["listbox"],tab:["tablist"]};function hs(e,t){t.tabIndex=0,t.focus(),e.tabIndex=-1}function ps(e){let t=e.role||e.type||e.tagName;if(!t)return null;let n=ds[t.toLowerCase()];if(!n)return null;for(let r of n){let t=e.closest(`[role=${r}]`);if(t)return t}}function fs(e,t){return"toolbar"===t.role?function(e){let t=[...e.querySelectorAll("*")];return t.filter((e=>"button"===e.role||"button"===e.type||"checkbox"===e.role||"checkbox"===e.type))}(t):t.querySelectorAll(`[role=${e.role}]`)}function ms(e){let t,n,r=e.split(" ");function i(e){"Enter"!==e.key||"BUTTON"!==e.target.tagName&&"A"!==e.target.tagName||(s(),e.target.classList.add(...r),t=e.target,n=e.target)}function s(){t&&t.classList.remove(...r),n=null}function a(e){0===e.clientX&&0===e.clientY&&n!==e.target&&(s(),e.target.classList.add(...r),t=e.target)}return e=>(e.addEventListener("click",a),e.addEventListener("keydown",i),e.addEventListener("keyup",s),()=>{e.removeEventListener("click",a),e.removeEventListener("keydown",i),e.removeEventListener("keyup",s)})}function gs(){return e=>{let t=[];function n(){let r=t.pop();if(!r)return void e.document.activeElement.blur();let i=r.deref();i&&i.isConnected?i.focus():n()}let r,i=0;function s(n){clearInterval(r);let s=n.getAttribute("aria-controls");r=setInterval((()=>{if(i++>50)return void clearInterval(r);let n=e.document.getElementById(s);if(n){let i=n.querySelector('a, button, select, textarea, input:not([type=radio]), [type=radio]:checked, [tabindex]:not([tabindex="-1"])');i&&(clearInterval(r),n.dispatchEvent(new e.CustomEvent("keyuxJump",{bubbles:!0})),function(n){let r=e.document.activeElement;r&&r!==e.document.body&&t.push(new WeakRef(r)),n.focus({focusVisible:!0})}(i))}}),50)}function a(e){e.target.getAttribute("aria-controls")&&"Enter"===e.key&&s(e.target),"Escape"===e.key&&n()}return e.addEventListener("keydown",a),()=>{e.removeEventListener("keydown",a)}}}class vs{_listeners=(()=>new Map)();_scope=[];addEventListener(e,t){const n=e=>{const n=e.target;n&&this._scope.some((t=>t===e.target||t.contains(n)))&&t(e)};this._listeners.set(t,n),window.addEventListener(e,n)}removeEventListener(e,t){const n=this._listeners.get(t);n&&window.removeEventListener(e,n),this._listeners.delete(t)}get CustomEvent(){return window.CustomEvent}get document(){return window.document}get navigator(){return window.navigator}registerScope(e){this._scope.push(e)}destroy(){this._scope=[],this._listeners.forEach(((e,t)=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",e),this._listeners.delete(t)}))}}class ys{_destroyKeyUX;_scopedWindow;constructor(){var e;this._scopedWindow=new vs,this._destroyKeyUX=function(e,t){let n=t.map((t=>t(e)));return()=>{n.forEach((e=>e()))}}(this._scopedWindow,[t=>{let n=!1,r=e?.searchDelayMs||300,i=0,s="";function a(e){let n=ps(e.target);if(!n)return void o();let a=fs(e.target,n),l=Array.from(a).indexOf(e.target),c="ArrowDown",u="ArrowUp";if(function(e){let t=e.getAttribute("aria-orientation");if("vertical"===t)return!1;if("horizontal"===t)return!0;let n=e.role;return"menubar"===n||"tablist"===n||"toolbar"===n}(n)&&("rtl"===t.document.dir?(c="ArrowLeft",u="ArrowRight"):(c="ArrowRight",u="ArrowLeft")),e.key===c)e.preventDefault(),hs(e.target,a[l+1]||a[0]);else if(e.key===u)e.preventDefault(),hs(e.target,a[l-1]||a[a.length-1]);else if("Home"===e.key)e.preventDefault(),hs(e.target,a[0]);else if("End"===e.key)e.preventDefault(),hs(e.target,a[a.length-1]);else if(1===e.key.length&&"tablist"!==n.role){let t=Date.now();t-i<=r?s+=e.key.toLowerCase():s=e.key.toLowerCase(),i=t;let n=Array.from(a).find((e=>e.textContent?.trim()?.toLowerCase()?.startsWith(s)));n&&(e.preventDefault(),hs(e.target,n))}}function o(){n=!1,t.removeEventListener("keydown",a)}function l(e){let r=ps(e.target);if(r){n||(n=!0,t.addEventListener("keydown",a));let i=fs(e.target,r);for(let t of i)t!==e.target&&t.setAttribute("tabindex",-1)}else n&&o()}function c(e){e.relatedTarget&&e.relatedTarget!==t.document||o()}function u(e){let t=ps(e.target);if(t){let n=fs(e.target,t);for(let t of n)t!==e.target&&t.setAttribute("tabindex",-1);e.target.setAttribute("tabindex",0)}}return t.addEventListener("click",u),t.addEventListener("focusin",l),t.addEventListener("focusout",c),()=>{o(),t.removeEventListener("click",u),t.removeEventListener("focusin",l),t.removeEventListener("focusout",c)}},ms("is-pressed"),gs(),e=>{let t,n;function r(e){if("true"===e.target.getAttribute("aria-hidden")){t=e.target,t.setAttribute("aria-hidden","false"),n=t.hidden,n&&(t.hidden=!1);let r=e.target.querySelector('a, button, select, textarea, input:not([type=radio]), [type=radio]:checked, [tabindex]:not([tabindex="-1"])');r&&(r.tabIndex=0)}}function i(e){!t||!t.contains(e.target)||e.relatedTarget&&t.contains(e.relatedTarget)||(e.target.tabIndex=-1,t.setAttribute("aria-hidden","true"),n&&(t.hidden=!0),t=null)}return e.addEventListener("keyuxJump",r),e.addEventListener("focusout",i),()=>{e.removeEventListener("keyuxJump",r),e.removeEventListener("focusout",i)}}])}registerBlock(e){this._scopedWindow.registerScope(e)}destroy(){this._destroyKeyUX?.(),this._scopedWindow.destroy()}}class bs extends tr{static StateConsumerScope=null;static styleAttrs=[];requireCtxName=!1;activityType=null;init$={};l10n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"";let n=this.$[as(e)]||e,r=function(e){const t=[];let n=e.indexOf(Br);for(;-1!==n;){const r=e.indexOf(Hr,n),i=e.substring(n+2,r);if(i.startsWith(qr)){const s=e.substring(n+2,r).replace(qr,""),a=s.substring(0,s.indexOf("(")),o=s.substring(s.indexOf("(")+1,s.indexOf(")"));t.push({variable:i,pluralKey:a,countVariable:o})}n=e.indexOf(Br,r)}return t}(n);for(let i of r)t[i.variable]=this.pluralize(i.pluralKey,Number(t[i.countVariable]));return Wr(n,t)}pluralize(e,t){const n=this.l10n("locale-id")||"en",r=zr(n,t);return this.l10n(`${e}__${r}`)}bindL10n(e,t){this.localeManager?.bindL10n(this,e,t)}constructor(){super(),this.l10nProcessorSubs=new Map,this.addTemplateProcessor(ls)}emit(e,t,n){const r=this.has("*eventEmitter")&&this.$["*eventEmitter"];r&&r.emit(e,t,n)}hasBlockInCtx(e){for(let t of this.blocksRegistry)if(e(t))return!0;return!1}setOrAddState(e,t){this.add$({[e]:t},!0)}connectedCallback(){this.constructor.styleAttrs.forEach((e=>{this.setAttribute(e,"")})),this.hasAttribute("retpl")&&(this.constructor.template=null,this.processInnerHtml=!0),this.requireCtxName?(e=>{let{element:t,attribute:n,onSuccess:r,onTimeout:i,timeout:s=300}=e;const a=t.getAttribute(n);if(null!==a)return void r(a);const o=new MutationObserver((e=>{const t=e[e.length-1];c(t)}));o.observe(t,{attributes:!0,attributeFilter:[n]});const l=setTimeout((()=>{o.disconnect(),i()}),s),c=e=>{const i=t.getAttribute(n);"attributes"===e.type&&e.attributeName===n&&null!==i&&(clearTimeout(l),o.disconnect(),r(i))}})({element:this,attribute:"ctx-name",onSuccess:()=>{super.connectedCallback()},onTimeout:()=>{console.error("Attribute `ctx-name` is required and it is not set.")}}):super.connectedCallback(),Fr.registerClient(this)}disconnectedCallback(){super.disconnectedCallback(),Fr.unregisterClient(this)}initCallback(){this.has("*blocksRegistry")||this.add("*blocksRegistry",new Set),this.$["*blocksRegistry"].add(this),this.has("*eventEmitter")||this.add("*eventEmitter",new jr(this.debugPrint.bind(this))),this.has("*localeManager")||this.add("*localeManager",new os(this)),this.has("*a11y")||this.add("*a11y",new ys),this.sub(as("locale-id"),(e=>{const t=(e=>{const t=new Intl.Locale(e);let n="ltr";return"function"===typeof t.getTextInfo&&t.getTextInfo().direction?n=t.getTextInfo().direction:"textInfo"in t&&t.textInfo?.direction&&(n=t.textInfo.direction),n})(e);this.style.direction="ltr"===t?"":t}))}get localeManager(){return this.has("*localeManager")?this.$["*localeManager"]:null}get a11y(){return this.has("*a11y")?this.$["*a11y"]:null}get blocksRegistry(){return this.$["*blocksRegistry"]}destroyCallback(){super.destroyCallback();let e=this.blocksRegistry;e?.delete(this),this.localeManager?.destroyL10nBindings(this),this.l10nProcessorSubs=new Map,Un.deleteCtx(this),0===e?.size&&setTimeout((()=>{this.destroyCtxCallback()}),0)}destroyCtxCallback(){Un.deleteCtx(this.ctxName),this.localeManager?.destroy()}async proxyUrl(e){if(this.cfg.secureDeliveryProxy&&this.cfg.secureDeliveryProxyUrlResolver&&console.warn("Both secureDeliveryProxy and secureDeliveryProxyUrlResolver are set. The secureDeliveryProxyUrlResolver will be used."),this.cfg.secureDeliveryProxyUrlResolver)try{return await this.cfg.secureDeliveryProxyUrlResolver(e,{uuid:hr(e),cdnUrlModifiers:pr(e),fileName:dr(e)})}catch(t){return console.error("Failed to resolve secure delivery proxy URL. Falling back to the default URL.",t),e}return this.cfg.secureDeliveryProxy?Wr(this.cfg.secureDeliveryProxy,{previewUrl:e},{transform:e=>window.encodeURIComponent(e)}):e}get cfg(){if(!this.__cfgProxy){let e=Object.create(null);this.__cfgProxy=new Proxy(e,{set:(e,t,n)=>{if("string"!==typeof t)return!1;const r=us(t);return this.has(r)||this.add(r,Ir[t]),this.$[r]=n,!0},get:(e,t)=>{const n=us(t);return this.has(n)||this.add(n,Ir[t]),this.$[us(t)]}})}return this.__cfgProxy}subConfigValue(e,t){const n=us(e);this.has(n)||this.add(n,Ir[e]),this.sub(n,t)}debugPrint(){if(!this.cfg.debug)return;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=t;if("function"===typeof t?.[0]){r=(0,t[0])()}console.log(`[${this.ctxName}]`,...r)}static reg(e){e?e.startsWith("uc-")&&super.reg(e):super.reg()}}class ws extends bs{static styleAttrs=["uc-wgt-common"];requireCtxName=!0;init$=(()=>es(this))();_template=null;initCallback(){super.initCallback(),this.a11y?.registerBlock(this)}static set template(e){this._template="<svg width='0' height='0' style='position:absolute'><symbol viewBox='0 0 24 24' id='uc-icon-about' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.152 14.12v.1h1.523v-.1c.007-.409.053-.752.138-1.028.086-.277.22-.517.405-.72.188-.202.434-.397.735-.586.32-.191.593-.412.82-.66.232-.249.41-.531.533-.847.125-.32.187-.678.187-1.076 0-.579-.137-1.085-.41-1.518a2.717 2.717 0 0 0-1.14-1.018c-.49-.245-1.062-.367-1.715-.367-.597 0-1.142.114-1.636.34-.49.228-.884.564-1.182 1.008-.299.44-.46.98-.485 1.619h1.62c.024-.377.118-.684.282-.922a1.48 1.48 0 0 1 .617-.532c.25-.114.51-.17.784-.17.301 0 .575.063.82.191.248.124.447.302.597.533.149.23.223.504.223.82 0 .263-.05.502-.149.72a1.91 1.91 0 0 1-.405.574 3.48 3.48 0 0 1-.575.453 4.22 4.22 0 0 0-.847.66c-.234.242-.415.558-.543.949-.125.39-.19.916-.197 1.577Zm.053 3.03c.21.206.46.31.75.31.196 0 .374-.049.534-.144a1.1 1.1 0 0 0 .383-.384c.1-.163.15-.343.15-.538a1 1 0 0 0-.32-.746 1.019 1.019 0 0 0-.746-.314c-.291 0-.542.105-.751.314-.21.206-.314.455-.314.746 0 .295.104.547.314.756ZM24 12c0 6.627-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0s12 5.373 12 12Zm-1.5 0c0 5.799-4.701 10.5-10.5 10.5S1.5 17.799 1.5 12 6.201 1.5 12 1.5 22.5 6.201 22.5 12Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-add' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M12.75 21a.75.75 0 0 1-1.5 0v-8.25H3a.75.75 0 0 1 0-1.5h8.25V3a.75.75 0 0 1 1.5 0v8.25H21a.75.75 0 0 1 0 1.5h-8.25V21Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-arrow-down' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.5 23.03a.75.75 0 0 0 .999 0l9.29-8.276a.75.75 0 0 0-.998-1.12l-8.042 7.164V1.53a.75.75 0 0 0-1.5 0v19.267l-8.04-7.163a.75.75 0 0 0-.998 1.12z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-back' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M20.251 12a.75.75 0 0 1-.75.75H6.067l5.72 5.85a.75.75 0 1 1-1.072 1.05L4.136 12.92a1.292 1.292 0 0 1 0-1.842l6.579-6.728a.75.75 0 1 1 1.072 1.048l-5.72 5.851H19.5a.75.75 0 0 1 .75.75Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-badge-error' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M13.6 18.4a1.6 1.6 0 1 1-3.2 0 1.6 1.6 0 0 1 3.2 0zM12 4.5A1.5 1.5 0 0 1 13.5 6v7a1.5 1.5 0 0 1-3 0V6A1.5 1.5 0 0 1 12 4.5z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-badge-success' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='m10.5 18.204 7.6-8.183a1.5 1.5 0 0 0-2.2-2.042l-5.4 5.817-2.4-2.586a1.5 1.5 0 1 0-2.2 2.041l4.6 4.953Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-box' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M1.01 4.148a.75.75 0 0 1 .75.75v4.348a4.437 4.437 0 0 1 2.988-1.153c1.734 0 3.23.992 3.978 2.438a4.478 4.478 0 0 1 3.978-2.438c2.49 0 4.488 2.044 4.488 4.543 0 2.5-1.999 4.544-4.488 4.544a4.478 4.478 0 0 1-3.978-2.438 4.478 4.478 0 0 1-3.978 2.438C2.26 17.18.26 15.135.26 12.636V4.898a.75.75 0 0 1 .75-.75Zm.75 8.488c0 1.692 1.348 3.044 2.988 3.044s2.989-1.352 2.989-3.044c0-1.691-1.349-3.043-2.989-3.043S1.76 10.945 1.76 12.636Zm10.944-3.043c-1.64 0-2.988 1.352-2.988 3.043 0 1.692 1.348 3.044 2.988 3.044s2.988-1.352 2.988-3.044c0-1.69-1.348-3.043-2.988-3.043Zm4.328-1.23a.75.75 0 0 1 1.052.128l2.333 2.983 2.333-2.983a.75.75 0 0 1 1.181.924l-2.562 3.277 2.562 3.276a.75.75 0 1 1-1.181.924l-2.333-2.983-2.333 2.983a.75.75 0 1 1-1.181-.924l2.562-3.276-2.562-3.277a.75.75 0 0 1 .129-1.052Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-camera' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M7.65 2.55a.75.75 0 0 1 .6-.3h7.5a.75.75 0 0 1 .6.3l2.025 2.7H21a3 3 0 0 1 3 3v10.5a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V8.25a3 3 0 0 1 3-3h2.625zm.975 1.2L6.6 6.45a.75.75 0 0 1-.6.3H3a1.5 1.5 0 0 0-1.5 1.5v10.5a1.5 1.5 0 0 0 1.5 1.5h18a1.5 1.5 0 0 0 1.5-1.5V8.25a1.5 1.5 0 0 0-1.5-1.5h-3a.75.75 0 0 1-.6-.3l-2.025-2.7zm3.375 6a3.375 3.375 0 1 0 0 6.75 3.375 3.375 0 0 0 0-6.75zm-4.875 3.375a4.875 4.875 0 1 1 9.75 0 4.875 4.875 0 0 1-9.75 0z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-camera-full' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' clip-rule='evenodd' d='M2 4.667a2 2 0 0 0-2 2V16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6.667a2 2 0 0 0-2-2h-2.667l-2-2.667H6.667l-2 2.667H2Zm8 10a3.667 3.667 0 1 0 0-7.334 3.667 3.667 0 0 0 0 7.334Z' fill='currentColor'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-close' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M4.604 4.604a.75.75 0 0 1 1.06 0L12 10.939l6.335-6.335a.75.75 0 1 1 1.061 1.06L13.061 12l6.335 6.335a.75.75 0 1 1-1.06 1.061L12 13.061l-6.335 6.335a.75.75 0 0 1-1.061-1.06L10.939 12 4.604 5.665a.75.75 0 0 1 0-1.061z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-collapse' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M3.116 12a.75.75 0 0 1 .75-.75h16.268a.75.75 0 0 1 0 1.5H3.866a.75.75 0 0 1-.75-.75Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-default' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.501.392a.75.75 0 0 1 .998 0l6.704 5.972a.75.75 0 0 1-.998 1.12l-5.455-4.86v13.439a.75.75 0 0 1-1.5 0V2.625l-5.454 4.86a.75.75 0 1 1-.998-1.12zM.857 16.73a.75.75 0 0 1 .75.75v4.914h20.786v-4.914a.75.75 0 0 1 1.5 0v5.664a.75.75 0 0 1-.75.75H.857a.75.75 0 0 1-.75-.75v-5.664a.75.75 0 0 1 .75-.75z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-dropbox' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.019 1.92a.75.75 0 0 1 .806 0L12 5.219l5.176-3.297a.75.75 0 0 1 .806 0l5.577 3.553a.75.75 0 0 1 0 1.265l-4.574 2.914 4.574 2.914a.75.75 0 0 1 0 1.265l-5.577 3.554a.75.75 0 0 1-.806 0L12 14.089l-5.175 3.297a.75.75 0 0 1-.806 0L.44 13.833a.75.75 0 0 1 0-1.266l4.575-2.914L.44 6.74a.75.75 0 0 1 0-1.265zm.403 8.616L2.24 13.2l4.182 2.664 4.181-2.664zm6.975 2.664 4.182 2.664L21.76 13.2l-4.181-2.664zm2.776-3.547L12 12.311 7.828 9.653 12 6.995zm1.406-.882 4.181-2.664-4.181-2.664-4.182 2.664zm-6.976-2.664L6.422 3.443 2.24 6.107 6.422 8.77zM5.791 18.544a.75.75 0 0 1 1.035-.23l5.175 3.297 5.175-3.297a.75.75 0 1 1 .806 1.265l-5.578 3.554a.75.75 0 0 1-.806 0L6.02 19.579a.75.75 0 0 1-.23-1.035z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-edit-file' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M18.558 2.804a.78.78 0 0 0-.557.235l-.008.007-2.472 2.46 3.847 3.848 2.46-2.473.004-.003a.78.78 0 0 0 0-1.108l-.004-.003-2.712-2.728a.78.78 0 0 0-.558-.235Zm-.248 7.613-3.852-3.852-8.93 8.887-1.516 5.41 5.41-1.515 8.888-8.93Zm-.636-8.934a2.28 2.28 0 0 1 2.512.505l2.702 2.717.002.002a2.278 2.278 0 0 1 0 3.234l-.002.002-12.541 12.602a.75.75 0 0 1-.33.193l-6.884 1.928a.75.75 0 0 1-.925-.924l1.928-6.885a.75.75 0 0 1 .193-.33l12.603-12.54a2.28 2.28 0 0 1 .742-.504Z' clip-rule='evenodd'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-error' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M13 13h-2V7h2m0 10h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-evernote' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M9.804 2.27v-.048c.055-.263.313-.562.85-.562h.44c.142 0 .325.014.526.033.066.009.124.023.267.06l.13.032h.002c.319.079.515.275.644.482a1.461 1.461 0 0 1 .16.356l.004.012a.75.75 0 0 0 .603.577l1.191.207a1988.512 1988.512 0 0 0 2.332.402c.512.083 1.1.178 1.665.442.64.3 1.19.795 1.376 1.77.548 2.931.657 5.829.621 8a39.233 39.233 0 0 1-.125 2.602 17.518 17.518 0 0 1-.092.849.735.735 0 0 0-.024.112c-.378 2.705-1.269 3.796-2.04 4.27-.746.457-1.53.451-2.217.447h-.192c-.46 0-1.073-.23-1.581-.635-.518-.412-.763-.87-.763-1.217 0-.45.188-.688.355-.786.161-.095.436-.137.796.087a.75.75 0 1 0 .792-1.274c-.766-.476-1.64-.52-2.345-.108-.7.409-1.098 1.188-1.098 2.08 0 .996.634 1.84 1.329 2.392.704.56 1.638.96 2.515.96l.185.002c.667.009 1.874.025 3.007-.67 1.283-.786 2.314-2.358 2.733-5.276a4.213 4.213 0 0 0 .056-.335c.023-.184.051-.445.079-.772.055-.655.111-1.585.13-2.704.037-2.234-.074-5.239-.647-8.301v-.002c-.294-1.544-1.233-2.391-2.215-2.85-.777-.363-1.623-.496-2.129-.576a8.872 8.872 0 0 1-.25-.041l-.006-.001-1.99-.345-.761-.132a2.93 2.93 0 0 0-.182-.338A2.532 2.532 0 0 0 12.379.329l-.091-.023a3.967 3.967 0 0 0-.493-.103L11.769.2a7.846 7.846 0 0 0-.675-.04h-.44c-.733 0-1.368.284-1.795.742L2.416 7.431c-.468.428-.751 1.071-.751 1.81 0 .02 0 .041.003.062l.003.034c.017.21.038.468.096.796.107.715.275 1.47.391 1.994.029.13.055.245.075.342l.002.008c.258 1.141.641 1.94.978 2.466.168.263.323.456.444.589a2.808 2.808 0 0 0 .192.194c1.536 1.562 3.713 2.196 5.731 2.08.13-.005.35-.032.537-.073a2.627 2.627 0 0 0 .652-.24c.425-.26.75-.661.992-1.046.184-.294.342-.61.473-.915a3.8 3.8 0 0 0 .627.493 5.022 5.022 0 0 0 1.97.709l.023.002.018.003.11.016c.088.014.205.035.325.058l.056.014c.088.022.164.04.235.061a1.736 1.736 0 0 1 .145.048l.03.014c.765.34 1.302 1.09 1.302 1.871a.75.75 0 0 0 1.5 0c0-1.456-.964-2.69-2.18-3.235a3.595 3.595 0 0 0-.679-.217l-.063-.015a10.616 10.616 0 0 0-.606-.105l-.02-.003-.03-.003h-.002a3.542 3.542 0 0 1-1.331-.485c-.471-.298-.788-.692-.828-1.234a.75.75 0 0 0-1.48-.106l-.001.003-.004.017a8.23 8.23 0 0 1-.092.352 9.963 9.963 0 0 1-.298.892c-.132.34-.29.68-.47.966-.174.276-.339.454-.478.549a1.178 1.178 0 0 1-.221.072 1.949 1.949 0 0 1-.241.036h-.013l-.032.002c-1.684.1-3.423-.437-4.604-1.65a.746.746 0 0 0-.053-.05L4.84 14.6a1.348 1.348 0 0 1-.07-.073 2.99 2.99 0 0 1-.293-.392c-.242-.379-.558-1.014-.778-1.985a54.1 54.1 0 0 0-.083-.376 27.494 27.494 0 0 1-.367-1.872l-.003-.02a6.791 6.791 0 0 1-.08-.67c.004-.277.086-.475.2-.609l.067-.067a.63.63 0 0 1 .292-.145h.05c.18 0 1.095.055 2.013.115l1.207.08.534.037a.747.747 0 0 0 .052.002c.782 0 1.349-.206 1.759-.585l.005-.005c.553-.52.622-1.225.622-1.76V6.24l-.026-.565A774.97 774.97 0 0 1 9.885 4.4c-.042-.961-.081-1.939-.081-2.13ZM4.995 6.953a251.126 251.126 0 0 1 2.102.137l.508.035c.48-.004.646-.122.715-.185.07-.068.146-.209.147-.649l-.024-.548a791.69 791.69 0 0 1-.095-2.187L4.995 6.953Zm16.122 9.996Zm-5.479-5.323a.75.75 0 0 0 1.014.31 2.04 2.04 0 0 1 .304-.089 1.84 1.84 0 0 1 .544-.039c.215.023.321.06.37.085.033.016.039.026.047.04a.75.75 0 0 0 1.289-.767c-.337-.567-.906-.783-1.552-.85a3.334 3.334 0 0 0-1.002.062c-.27.056-.531.14-.705.234a.75.75 0 0 0-.31 1.014Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-expand' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='m12 8.337-8.47 8.47a.75.75 0 0 1-1.06-1.06l8.605-8.606a1.29 1.29 0 0 1 1.85 0l8.605 8.605a.75.75 0 1 1-1.06 1.06L12 8.338Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-external-source-placeholder' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.341 3.27a10.5 10.5 0 0 1 5.834-1.77.75.75 0 0 0 0-1.5 12 12 0 1 0 12 12 .75.75 0 0 0-1.5 0A10.5 10.5 0 1 1 6.34 3.27Zm14.145 1.48a.75.75 0 1 0-1.06-1.062L9.925 13.19V7.95a.75.75 0 1 0-1.5 0V15c0 .414.336.75.75.75h7.05a.75.75 0 0 0 0-1.5h-5.24l9.501-9.5Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-facebook' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M12 1.5C6.201 1.5 1.5 6.201 1.5 12c0 4.943 3.416 9.089 8.016 10.204v-6.108H7.383a.75.75 0 0 1-.75-.75v-3.281a.75.75 0 0 1 .75-.75h2.133V9.393c0-.958.225-2.511 1.38-3.65 1.194-1.177 3.174-1.718 6.254-1.056a.75.75 0 0 1 .592.733v2.754a.75.75 0 0 1-.75.75c-.692 0-1.203.026-1.584.082-.387.057-.578.137-.675.202-.109.073-.237.205-.237 1.029v1.078h2.39a.75.75 0 0 1 .742.866l-.516 3.281a.75.75 0 0 1-.74.634h-1.876v6.106C19.09 21.082 22.5 16.939 22.5 12c0-5.799-4.701-10.5-10.5-10.5zM0 12C0 5.373 5.373 0 12 0s12 5.373 12 12c0 5.995-4.395 10.961-10.138 11.856a.75.75 0 0 1-.866-.74v-7.77a.75.75 0 0 1 .75-.75h1.984l.28-1.781h-2.264a.75.75 0 0 1-.75-.75v-1.828c0-.829.089-1.729.9-2.274.363-.244.807-.37 1.293-.441a9.623 9.623 0 0 1 1.053-.086V6.04c-2.41-.405-3.645.132-4.293.771-.737.728-.933 1.793-.933 2.582v2.672a.75.75 0 0 1-.75.75H8.133v1.78h2.133a.75.75 0 0 1 .75.75v7.772a.75.75 0 0 1-.865.741C4.4 22.968 0 18 0 12z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-file' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M2.895 1.201c0-.473.383-.857.857-.857h8.4c.227 0 .445.09.606.251l8.4 8.4c.16.16.25.379.25.606v13.2a.857.857 0 0 1-.856.857h-16.8a.857.857 0 0 1-.857-.857zm1.714.857v19.886h15.085V10.458h-7.542a.857.857 0 0 1-.858-.857V2.058zm8.4 1.213 5.473 5.473H13.01z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-flickr' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M5.959 7.926c-2.298 0-4.14 1.834-4.14 4.073 0 2.241 1.842 4.075 4.14 4.075 2.302 0 4.145-1.834 4.145-4.075 0-2.238-1.843-4.073-4.145-4.073Zm-5.64 4.073c0-3.086 2.533-5.573 5.64-5.573 3.11 0 5.645 2.486 5.645 5.573 0 3.089-2.535 5.575-5.645 5.575-3.107 0-5.64-2.487-5.64-5.575Zm18.07-4.073c-2.301 0-4.144 1.835-4.144 4.073 0 2.24 1.843 4.075 4.145 4.075 2.299 0 4.141-1.834 4.141-4.075 0-2.239-1.842-4.073-4.141-4.073Zm-5.644 4.073c0-3.087 2.535-5.573 5.645-5.573 3.108 0 5.641 2.487 5.641 5.573 0 3.088-2.533 5.575-5.641 5.575-3.11 0-5.645-2.486-5.645-5.575Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-gdrive' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M7.736 1.818a.75.75 0 0 1 .647-.37h7.587a.75.75 0 0 1 .655.383l7.233 12.946a.75.75 0 0 1-.003.737l-3.794 6.66a.75.75 0 0 1-.651.378H4.59a.75.75 0 0 1-.651-.378l-3.794-6.66a.75.75 0 0 1 .005-.75zm.64 1.876L1.663 15.148l2.93 5.145 6.655-11.581zm3.736 6.526-2.398 4.173H14.5zm4.116 4.173h5.697L15.53 2.947H9.677zm5.685 1.5H8.852l-2.966 5.16h13.088z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-gphotos' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M12.51 0c-.702 0-1.272.57-1.272 1.273V7.35A6.381 6.381 0 0 0 0 11.489c0 .703.57 1.273 1.273 1.273H7.35A6.381 6.381 0 0 0 11.488 24c.704 0 1.274-.57 1.274-1.273V16.65A6.381 6.381 0 0 0 24 12.51c0-.703-.57-1.273-1.273-1.273H16.65A6.381 6.381 0 0 0 12.511 0Zm.252 11.232V1.53a4.857 4.857 0 0 1 0 9.702Zm-1.53.006H1.53a4.857 4.857 0 0 1 9.702 0Zm1.536 1.524a4.857 4.857 0 0 0 9.702 0h-9.702Zm-6.136 4.857c0-2.598 2.04-4.72 4.606-4.85v9.7a4.857 4.857 0 0 1-4.606-4.85Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-huddle' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.204 2.002c-.252.23-.357.486-.357.67V21.07c0 .15.084.505.313.812.208.28.499.477.929.477.519 0 .796-.174.956-.365.178-.212.286-.535.286-.924v-.013l.117-6.58c.004-1.725 1.419-3.883 3.867-3.883 1.33 0 2.332.581 2.987 1.364.637.762.95 1.717.95 2.526v6.47c0 .392.11.751.305.995.175.22.468.41 1.008.41.52 0 .816-.198 1.002-.437.207-.266.31-.633.31-.969V14.04c0-2.81-1.943-5.108-4.136-5.422a5.971 5.971 0 0 0-3.183.41c-.912.393-1.538.96-1.81 1.489a.75.75 0 0 1-1.417-.344v-7.5c0-.587-.47-1.031-1.242-1.031-.315 0-.638.136-.885.36ZM5.194.892A2.844 2.844 0 0 1 7.09.142c1.328 0 2.742.867 2.742 2.53v5.607a6.358 6.358 0 0 1 1.133-.629 7.47 7.47 0 0 1 3.989-.516c3.056.436 5.425 3.482 5.425 6.906v6.914c0 .602-.177 1.313-.627 1.89-.47.605-1.204 1.016-2.186 1.016-.96 0-1.698-.37-2.179-.973-.46-.575-.633-1.294-.633-1.933v-6.469c0-.456-.19-1.071-.602-1.563-.394-.471-.986-.827-1.836-.827-1.447 0-2.367 1.304-2.367 2.39v.014l-.117 6.58c-.001.64-.177 1.333-.637 1.881-.48.57-1.2.9-2.105.9-.995 0-1.7-.5-2.132-1.081-.41-.552-.61-1.217-.61-1.708V2.672c0-.707.366-1.341.847-1.78Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-info' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11 9h2V7h-2m1 13c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-18A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2m-1 15h2v-6h-2v6Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-local' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M3 3.75a1.5 1.5 0 0 0-1.5 1.5v13.5a1.5 1.5 0 0 0 1.5 1.5h18a1.5 1.5 0 0 0 1.5-1.5V9A1.5 1.5 0 0 0 21 7.5h-9a.75.75 0 0 1-.643-.364L9.325 3.75zm-3 1.5a3 3 0 0 1 3-3h6.75a.75.75 0 0 1 .643.364L12.425 6H21a3 3 0 0 1 3 3v9.75a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-microphone' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' clip-rule='evenodd' d='M7.5 4.781a4.5 4.5 0 0 1 9 0v6.469a4.5 4.5 0 1 1-9 0V4.781Zm4.5-3a3 3 0 0 0-3 3v6.469a3 3 0 1 0 6 0V4.781a3 3 0 0 0-3-3Zm-8.156 8.11a.75.75 0 0 1 .75.75 7.406 7.406 0 1 0 14.812 0 .75.75 0 0 1 1.5 0 8.907 8.907 0 0 1-8.156 8.875v2.703h3.258a.75.75 0 1 1 0 1.5H7.992a.75.75 0 0 1 0-1.5h3.258v-2.703a8.907 8.907 0 0 1-8.156-8.875.75.75 0 0 1 .75-.75Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-microphone-mute' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' clip-rule='evenodd' d='M7.5 4.781a4.5 4.5 0 0 1 9 0V6l3.524-3.524a.75.75 0 1 1 1.061 1.06L5.036 19.585a.75.75 0 0 1-1.06-1.06l1.656-1.657a8.88 8.88 0 0 1-2.538-6.227.75.75 0 0 1 1.5 0c0 2.009.8 3.83 2.1 5.166l1.771-1.772A4.483 4.483 0 0 1 7.5 11.25V4.781Zm2.037 8.182L15 7.5V4.781a3 3 0 1 0-6 0v6.469c0 .637.198 1.227.537 1.713Zm10.62-3.072a.75.75 0 0 1 .75.75 8.907 8.907 0 0 1-8.157 8.875v2.703h3.258a.75.75 0 1 1 0 1.5H7.992a.75.75 0 0 1 0-1.5h3.258v-2.703a8.855 8.855 0 0 1-3.035-.811.75.75 0 1 1 .638-1.358 7.406 7.406 0 0 0 10.553-6.707.75.75 0 0 1 .75-.75ZM15 10.81a.75.75 0 0 1 1.5 0v.439a4.5 4.5 0 0 1-5 4.473.75.75 0 1 1 .166-1.491A3 3 0 0 0 15 11.25v-.44Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-onedrive' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M13.616 4.147a7.689 7.689 0 0 0-7.642 3.285A6.299 6.299 0 0 0 1.455 17.3c.684.894 2.473 2.658 5.17 2.658h12.141c.95 0 1.882-.256 2.697-.743.815-.486 1.514-1.247 1.964-2.083a5.26 5.26 0 0 0-3.713-7.612 7.69 7.69 0 0 0-6.098-5.373ZM3.34 17.15c.674.63 1.761 1.308 3.284 1.308h12.142a3.76 3.76 0 0 0 2.915-1.383l-7.494-4.489L3.34 17.15Zm10.875-6.25 2.47-1.038a5.239 5.239 0 0 1 1.427-.389 6.19 6.19 0 0 0-10.3-1.952 6.338 6.338 0 0 1 2.118.813l4.285 2.567Zm4.55.033c-.512 0-1.019.104-1.489.307l-.006.003-1.414.594 6.521 3.906a3.76 3.76 0 0 0-3.357-4.8l-.254-.01ZM4.097 9.617A4.799 4.799 0 0 1 6.558 8.9c.9 0 1.84.25 2.587.713l3.4 2.037-10.17 4.28a4.799 4.799 0 0 1 1.721-6.312Z'/></symbol><symbol fill='none' viewBox='0 0 10 10' id='uc-icon-pause' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' d='M1 0h2.5v10H1zM6.5 0H9v10H6.5z'/></symbol><symbol fill='none' viewBox='0 0 10 10' id='uc-icon-play' xmlns='http://www.w3.org/2000/svg'><path d='m1 0 9 5-9 5V0Z' fill='currentColor'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-remove-file' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.955 3.3A2.969 2.969 0 0 0 8.998 6h5.914a2.97 2.97 0 0 0-2.957-2.7zM16.416 6a4.47 4.47 0 0 0-8.922 0h-2.32a.755.755 0 0 0-.111.008H3.075a.75.75 0 1 0 0 1.5h1.35V19.35a2.85 2.85 0 0 0 2.85 2.85h9.45a2.85 2.85 0 0 0 2.85-2.85V7.508h1.35a.75.75 0 0 0 0-1.5h-1.989A.754.754 0 0 0 18.825 6zM5.925 7.508V19.35a1.35 1.35 0 0 0 1.35 1.35h9.45a1.35 1.35 0 0 0 1.35-1.35V7.508z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-select' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='m7 10 5 5 5-5H7Z'/></symbol><symbol fill='none' viewBox='0 0 20 20' id='uc-icon-square' xmlns='http://www.w3.org/2000/svg'><rect width='20' height='20' rx='4' fill='#fff'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-upload' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.501.392a.75.75 0 0 1 .998 0l6.704 5.972a.75.75 0 0 1-.998 1.12l-5.455-4.86v13.439a.75.75 0 0 1-1.5 0V2.625l-5.454 4.86a.75.75 0 1 1-.998-1.12zM.857 16.73a.75.75 0 0 1 .75.75v4.914h20.786v-4.914a.75.75 0 0 1 1.5 0v5.664a.75.75 0 0 1-.75.75H.857a.75.75 0 0 1-.75-.75v-5.664a.75.75 0 0 1 .75-.75z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-upload-error' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M13 13h-2V7h2m0 10h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-url' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M19.11 3.67c-1.71-1.709-4.578-1.682-6.408.148l-2.22 2.22a.75.75 0 0 1-1.062-1.06l2.222-2.221C14.018.381 17.836.276 20.17 2.61l1.22 1.22c2.335 2.334 2.23 6.153-.147 8.529l-2.22 2.22a.75.75 0 0 1-1.062-1.06l2.222-2.221c1.83-1.83 1.856-4.698.147-6.408zm-3.36 4.58a.75.75 0 0 1 0 1.06l-6.439 6.44a.75.75 0 0 1-1.06-1.06l6.439-6.44a.75.75 0 0 1 1.06 0zM6.04 9.42a.75.75 0 0 1 0 1.061l-2.222 2.222c-1.83 1.83-1.856 4.698-.147 6.407l1.22 1.22c1.71 1.71 4.578 1.683 6.408-.147l2.221-2.221a.75.75 0 1 1 1.06 1.06l-2.22 2.222c-2.377 2.376-6.195 2.481-8.53.147l-1.22-1.22c-2.334-2.334-2.228-6.153.148-8.53l2.221-2.22a.75.75 0 0 1 1.06 0z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-video-camera' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' clip-rule='evenodd' d='M0 6.75a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v1.078L22.873 5A.75.75 0 0 1 24 5.648v12.704a.75.75 0 0 1-1.123.65L18 16.207v1.043a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V6.75Zm18 7.728 4.5 2.58V6.95L18 9.562v4.916ZM16.5 6.75a1.5 1.5 0 0 0-1.5-1.5H3a1.5 1.5 0 0 0-1.5 1.5v10.5a1.5 1.5 0 0 0 1.5 1.5h12a1.5 1.5 0 0 0 1.5-1.5V6.75Z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-video-camera-full' xmlns='http://www.w3.org/2000/svg'><path d='M2 3.333a2 2 0 0 0-2 2v9.334a2 2 0 0 0 2 2h10.938a2 2 0 0 0 2-2v-2.013L20 15.646V4.354l-5.063 3.03v-2.05a2 2 0 0 0-2-2H2Z' fill='currentColor'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-vk' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.341 3.27a10.5 10.5 0 0 1 5.834-1.77.75.75 0 0 0 0-1.5 12 12 0 1 0 12 12 .75.75 0 0 0-1.5 0A10.5 10.5 0 1 1 6.34 3.27Zm14.145 1.48a.75.75 0 1 0-1.06-1.062L9.925 13.19V7.95a.75.75 0 1 0-1.5 0V15c0 .414.336.75.75.75h7.05a.75.75 0 0 0 0-1.5h-5.24l9.501-9.5Z'/></symbol></svg>"+e+"<slot></slot>"}static get template(){return this._template}}const xs="active",_s="___ACTIVITY_IS_ACTIVE___";class Cs extends bs{historyTracked=!1;init$=(()=>Yi(this))();_debouncedHistoryFlush=(()=>Ur(this._historyFlush.bind(this),10))();_deactivate(){let e=Cs._activityCallbacks.get(this);this[_s]=!1,this.removeAttribute(xs),e?.deactivateCallback?.()}_activate(){let e=Cs._activityCallbacks.get(this);this.$["*historyBack"]=this.historyBack.bind(this),this[_s]=!0,this.setAttribute(xs,""),e?.activateCallback?.(),this._debouncedHistoryFlush(),this.emit(Mr.ACTIVITY_CHANGE,{activity:this.activityType})}initCallback(){super.initCallback(),this.hasAttribute("current-activity")&&this.sub("*currentActivity",(e=>{this.setAttribute("current-activity",e)})),this.activityType&&(this.hasAttribute("activity")||this.setAttribute("activity",this.activityType),this.sub("*currentActivity",(e=>{try{this.activityType!==e&&this[_s]?this._deactivate():this.activityType!==e||this[_s]||this._activate()}catch(t){console.error(`Error in activity "${this.activityType}". `,t),this.$["*currentActivity"]=this.$["*history"][this.$["*history"].length-1]??null}e||(this.$["*history"]=[])})),this.has("*modalActive")&&this.sub("*modalActive",(e=>{e||this.activityType!==this.$["*currentActivity"]||(this.$["*currentActivity"]=null)})))}_historyFlush(){let e=this.$["*history"];e&&(e.length>10&&(e=e.slice(e.length-11,e.length-1)),this.historyTracked&&e[e.length-1]!==this.activityType&&e.push(this.activityType),this.$["*history"]=e)}_isActivityRegistered(){return this.activityType&&Cs._activityCallbacks.has(this)}static _activityCallbacks=(()=>new Map)();get isActivityActive(){return this[_s]}get couldOpenActivity(){return!0}registerActivity(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{onActivate:n,onDeactivate:r}=t;Cs._activityCallbacks.set(this,{activateCallback:n,deactivateCallback:r})}unregisterActivity(){this.isActivityActive&&this._deactivate(),Cs._activityCallbacks.delete(this)}destroyCallback(){super.destroyCallback(),this._isActivityRegistered()&&this.unregisterActivity();const e=this.$["*currentActivity"];!![...this.blocksRegistry].find((t=>t instanceof Cs&&t.activityType===e))||(this.$["*currentActivity"]=null,this.setOrAddState("*modalActive",!1))}get activityKey(){return this.ctxName+this.activityType}get activityParams(){return this.$["*currentActivityParams"]}get initActivity(){return this.getCssData("--cfg-init-activity")}get doneActivity(){return this.getCssData("--cfg-done-activity")}historyBack(){let e=this.$["*history"];if(e){let t=e.pop();for(;t===this.activityType;)t=e.pop();let n=!!t;if(t){const e=[...this.blocksRegistry].find((e=>e.activityType===t));n=e?.couldOpenActivity??!1}t=n?t:void 0,this.$["*currentActivity"]=t,this.$["*history"]=e,t||this.setOrAddState("*modalActive",!1)}}}Cs.activities=Object.freeze({START_FROM:"start-from",CAMERA:"camera",DRAW:"draw",UPLOAD_LIST:"upload-list",URL:"url",CLOUD_IMG_EDIT:"cloud-image-edit",EXTERNAL:"external"});const ks=1.5,Ss=100/3;function Es(e,t){for(let n in t)e.setAttributeNS(null,n,t[n].toString())}function As(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.createElementNS("http://www.w3.org/2000/svg",e);return Es(n,t),n}function Ts(e,t,n){let{x:r,y:i,width:s,height:a}=e,o=t.includes("w")?0:1,l=t.includes("n")?0:1,c=[-1,1][o],u=[-1,1][l],d=[r+o*s+ks*c,i+l*a+ks*u-24*n*u],h=[r+o*s+ks*c,i+l*a+ks*u],p=[r+o*s-24*n*c+ks*c,i+l*a+ks*u];return{d:`M ${d[0]} ${d[1]} L ${h[0]} ${h[1]} L ${p[0]} ${p[1]}`,center:h}}function $s(e,t,n){let r,i,{x:s,y:a,width:o,height:l}=e,c=["n","s"].includes(t)?.5:{w:0,e:1}[t],u=["w","e"].includes(t)?.5:{n:0,s:1}[t],d=[-1,1][c],h=[-1,1][u];return["n","s"].includes(t)?(r=[s+c*o-34*n/2,a+u*l+ks*h],i=[s+c*o+34*n/2,a+u*l+ks*h]):(r=[s+c*o+ks*d,a+u*l-34*n/2],i=[s+c*o+ks*d,a+u*l+34*n/2]),{d:`M ${r[0]} ${r[1]} L ${i[0]} ${i[1]}`,center:[i[0]-(i[0]-r[0])/2,i[1]-(i[1]-r[1])/2]}}function Ls(e,t){let{x:n}=e,{y:r}=e;return e.x<t.x?n=t.x:e.x+e.width>t.x+t.width&&(n=t.x+t.width-e.width),e.y<t.y?r=t.y:e.y+e.height>t.y+t.height&&(r=t.y+t.height-e.height),{...e,x:n,y:r}}function Rs(e){let{direction:t,...n}=e;switch(t){case"n":return function(e){let{rect:t,delta:n,aspectRatio:r,imageBox:i}=e;const[,s]=n;let{y:a,width:o,height:l}=t;a+=s,l-=s,r&&(o=l*r);let c=t.x+t.width/2-o/2;return a<=i.y&&(a=i.y,l=t.y+t.height-a,r&&(o=l*r,c=t.x+t.width/2-o/2)),c<=i.x&&(c=i.x,a=t.y+t.height-l),c+o>=i.x+i.width&&(c=Math.max(i.x,i.x+i.width-o),o=i.x+i.width-c,r&&(l=o/r),a=t.y+t.height-l),l<1&&(l=1,r&&(o=l*r,c=t.x+t.width/2-o/2),a=t.y+t.height-l),o<1&&(o=1,r&&(l=o/r,c=t.x+t.width/2-o/2),a=t.y+t.height-l),{x:c,y:a,width:o,height:l}}(n);case"w":return function(e){let{rect:t,delta:n,aspectRatio:r,imageBox:i}=e;const[s]=n;let{x:a,width:o,height:l}=t;a+=s,o-=s,r&&(l=o/r);let c=t.y+t.height/2-l/2;return a<=i.x&&(a=i.x,o=t.x+t.width-a,r&&(l=o/r,c=t.y+t.height/2-l/2)),c<=i.y&&(c=i.y,a=t.x+t.width-o),c+l>=i.y+i.height&&(c=Math.max(i.y,i.y+i.height-l),l=i.y+i.height-c,r&&(o=l*r),a=t.x+t.width-o),l<1&&(l=1,r&&(o=l*r),c=t.y+t.height/2-l/2,a=t.x+t.width-o),o<1&&(o=1,r&&(l=o/r),c=t.y+t.height/2-l/2,a=t.x+t.width-o),{x:a,y:c,width:o,height:l}}(n);case"s":return function(e){let{rect:t,delta:n,aspectRatio:r,imageBox:i}=e;const[,s]=n;let{y:a,width:o,height:l}=t;l+=s,r&&(o=l*r);let c=t.x+t.width/2-o/2;return a+l>=i.y+i.height&&(l=i.y+i.height-a,r&&(o=l*r),c=t.x+t.width/2-o/2),c<=i.x&&(c=i.x,a=t.y),c+o>=i.x+i.width&&(c=Math.max(i.x,i.x+i.width-o),o=i.x+i.width-c,r&&(l=o/r),a=t.y),l<1&&(l=1,r&&(o=l*r),c=t.x+t.width/2-o/2),o<1&&(o=1,r&&(l=o/r),c=t.x+t.width/2-o/2),{x:c,y:a,width:o,height:l}}(n);case"e":return function(e){let{rect:t,delta:n,aspectRatio:r,imageBox:i}=e;const[s]=n;let{x:a,width:o,height:l}=t;o+=s,r&&(l=o/r);let c=t.y+t.height/2-l/2;return a+o>=i.x+i.width&&(o=i.x+i.width-a,r&&(l=o/r),c=t.y+t.height/2-l/2),c<=i.y&&(c=i.y,a=t.x),c+l>=i.y+i.height&&(c=Math.max(i.y,i.y+i.height-l),l=i.y+i.height-c,r&&(o=l*r),a=t.x),l<1&&(l=1,r&&(o=l*r),c=t.y+t.height/2-l/2),o<1&&(o=1,r&&(l=o/r),c=t.y+t.height/2-l/2),{x:a,y:c,width:o,height:l}}(n);case"nw":return function(e){let{rect:t,delta:n,aspectRatio:r,imageBox:i}=e,[s,a]=n,{x:o,y:l,width:c,height:u}=t;return o+s<i.x&&(s=i.x-o),l+a<i.y&&(a=i.y-l),o+=s,c-=s,l+=a,u-=a,r&&Math.abs(c/u)>r?(a=c/r-u,u+=a,l-=a,l<=i.y&&(u-=i.y-l,c=u*r,o=t.x+t.width-c,l=i.y)):r&&(s=u*r-c,c+=s,o-=s,o<=i.x&&(c-=i.x-o,u=c/r,o=i.x,l=t.y+t.height-u)),u<1&&(u=1,r&&(c=u*r),o=t.x+t.width-c,l=t.y+t.height-u),c<1&&(c=1,r&&(u=c/r),o=t.x+t.width-c,l=t.y+t.height-u),{x:o,y:l,width:c,height:u}}(n);case"ne":return function(e){let{rect:t,delta:n,aspectRatio:r,imageBox:i}=e,[s,a]=n,{x:o,y:l,width:c,height:u}=t;return o+c+s>i.x+i.width&&(s=i.x+i.width-o-c),l+a<i.y&&(a=i.y-l),c+=s,l+=a,u-=a,r&&Math.abs(c/u)>r?(a=c/r-u,u+=a,l-=a,l<=i.y&&(u-=i.y-l,c=u*r,o=t.x,l=i.y)):r&&(s=u*r-c,c+=s,o+c>=i.x+i.width&&(c=i.x+i.width-o,u=c/r,o=i.x+i.width-c,l=t.y+t.height-u)),u<1&&(u=1,r&&(c=u*r),l=t.y+t.height-u),c<1&&(c=1,r&&(u=c/r),l=t.y+t.height-u),{x:o,y:l,width:c,height:u}}(n);case"sw":return function(e){let{rect:t,delta:n,aspectRatio:r,imageBox:i}=e,[s,a]=n,{x:o,y:l,width:c,height:u}=t;return o+s<i.x&&(s=i.x-o),l+u+a>i.y+i.height&&(a=i.y+i.height-l-u),o+=s,c-=s,u+=a,r&&Math.abs(c/u)>r?(a=c/r-u,u+=a,l+u>=i.y+i.height&&(u=i.y+i.height-l,c=u*r,o=t.x+t.width-c,l=i.y+i.height-u)):r&&(s=u*r-c,c+=s,o-=s,o<=i.x&&(c-=i.x-o,u=c/r,o=i.x,l=t.y)),u<1&&(u=1,r&&(c=u*r),o=t.x+t.width-c),c<1&&(c=1,r&&(u=c/r),o=t.x+t.width-c),{x:o,y:l,width:c,height:u}}(n);case"se":return function(e){let{rect:t,delta:n,aspectRatio:r,imageBox:i}=e,[s,a]=n,{x:o,y:l,width:c,height:u}=t;return o+c+s>i.x+i.width&&(s=i.x+i.width-o-c),l+u+a>i.y+i.height&&(a=i.y+i.height-l-u),c+=s,u+=a,r&&Math.abs(c/u)>r?(a=c/r-u,u+=a,l+u>=i.y+i.height&&(u=i.y+i.height-l,c=u*r,o=t.x,l=i.y+i.height-u)):r&&(s=u*r-c,c+=s,o+c>=i.x+i.width&&(c=i.x+i.width-o,u=c/r,o=i.x+i.width-c,l=t.y)),u<1&&(u=1,r&&(c=u*r)),c<1&&(c=1,r&&(u=c/r)),{x:o,y:l,width:c,height:u}}(n);default:return n.rect}}function Ps(e,t){let{width:n,height:r}=e,i=t/90%2!==0;return{width:i?r:n,height:i?n:r}}function Ns(e,t,n){let r,i;e/t>n?(r=Math.round(t*n),i=t):(r=e,i=Math.round(e/n));const s=Math.round((e-r)/2),a=Math.round((t-i)/2);return s+r>e&&(r=e-s),a+i>t&&(i=t-a),{x:s,y:a,width:r,height:i}}function Os(e){return{x:Math.round(e.x),y:Math.round(e.y),width:Math.round(e.width),height:Math.round(e.height)}}function Is(e,t,n){return Math.min(Math.max(e,t),n)}const Ms=e=>{if(!e)return[];const[t,n]=e.split(":").map(Number);if(!Number.isFinite(t)||!Number.isFinite(n))return void console.error(`Invalid crop preset: ${e}`);return[{type:"aspect-ratio",width:t,height:n}]},js="blocks",Us="1.13.2";function Ds(e){return Zr({...e,libraryName:js,libraryVersion:Us})}const Fs=e=>Math.floor(e/1e3);class zs{_block;_secureToken=null;constructor(e){this._block=e}_debugPrint(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._block.debugPrint("[secure-uploads]",...t)}async getSecureToken(){const{secureSignature:e,secureExpire:t,secureUploadsSignatureResolver:n}=this._block.cfg;if((e||t)&&n&&console.warn("Both secureSignature/secureExpire and secureUploadsSignatureResolver are set. secureUploadsSignatureResolver will be used."),n){if(!this._secureToken||((e,t)=>{let{threshold:n}=t;const{secureExpire:r}=e,i=Fs(Date.now()),s=Number(r);return i+Fs(n)>=s})(this._secureToken,{threshold:this._block.cfg.secureUploadsExpireThreshold})){this._secureToken?this._debugPrint("Secure signature is expired. Resolving a new one..."):this._debugPrint("Secure signature is not set yet.");try{const e=await n();e?e.secureSignature&&e.secureExpire?(this._debugPrint("Secure signature resolved:",e),this._debugPrint("Secure signature will expire in",new Date(1e3*Number(e.secureExpire)).toISOString()),this._secureToken=e):console.error("Secure signature resolver returned an invalid result:",e):(this._debugPrint("Secure signature resolver returned nothing."),this._secureToken=null)}catch(r){console.error("Secure signature resolving failed. Falling back to the previous one.",r)}}return this._secureToken}return e&&t?(this._debugPrint("Secure signature and expire are set. Using them...",{secureSignature:e,secureExpire:t}),{secureSignature:e,secureExpire:t}):null}}const Vs="[Typed State] Wrong property name: ";class Bs{constructor(e,t){this.__typedSchema=e,this.__ctxId=t||zn.generate(),this.__schema=Object.keys(e).reduce(((t,n)=>(t[n]=e[n].value,t)),{}),this.__data=Un.registerCtx(this.__schema,this.__ctxId)}get uid(){return this.__ctxId}setValue(e,t){if(!this.__typedSchema.hasOwnProperty(e))return void console.warn(Vs+e);let n=this.__typedSchema[e];t?.constructor===n.type||t instanceof n.type||n.nullable&&null===t?this.__data.pub(e,t):console.warn("[Typed State] Wrong property type: "+e)}setMultipleValues(e){for(let t in e)this.setValue(t,e[t])}getValue(e){if(this.__typedSchema.hasOwnProperty(e))return this.__data.read(e);console.warn(Vs+e)}subscribe(e,t){return this.__data.sub(e,t)}remove(){Un.deleteCtx(this.__ctxId)}}class Hs{constructor(e){this.__typedSchema=e.typedSchema,this.__ctxId=e.ctxName||zn.generate(),this.__data=Un.registerCtx({},this.__ctxId),this.__watchList=e.watchList||[],this.__subsMap=Object.create(null),this.__propertyObservers=new Set,this.__collectionObservers=new Set,this.__items=new Set,this.__removed=new Set,this.__added=new Set;let t=Object.create(null);this.__notifyObservers=(e,n)=>{this.__observeTimeout&&window.clearTimeout(this.__observeTimeout),t[e]||(t[e]=new Set),t[e].add(n),this.__observeTimeout=window.setTimeout((()=>{0!==Object.keys(t).length&&(this.__propertyObservers.forEach((e=>{e({...t})})),t=Object.create(null))}))}}notify(){this.__notifyTimeout&&window.clearTimeout(this.__notifyTimeout),this.__notifyTimeout=window.setTimeout((()=>{let e=new Set(this.__added),t=new Set(this.__removed);this.__added.clear(),this.__removed.clear();for(const n of this.__collectionObservers)n?.([...this.__items],e,t)}))}observeCollection(e){return this.__collectionObservers.add(e),this.__items.size>0&&this.notify(),()=>{this.unobserveCollection(e)}}unobserveCollection(e){this.__collectionObservers?.delete(e)}add(e){let t=new Bs(this.__typedSchema);for(let n in e)t.setValue(n,e[n]);return this.__items.add(t.uid),this.notify(),this.__data.add(t.uid,t),this.__added.add(t),this.__watchList.forEach((e=>{this.__subsMap[t.uid]||(this.__subsMap[t.uid]=[]),this.__subsMap[t.uid].push(t.subscribe(e,(()=>{this.__notifyObservers(e,t.uid)})))})),t.uid}read(e){return this.__data.read(e)}readProp(e,t){return this.read(e).getValue(t)}publishProp(e,t,n){this.read(e).setValue(t,n)}remove(e){this.__removed.add(this.__data.read(e)),this.__items.delete(e),this.notify(),this.__data.pub(e,null),delete this.__subsMap[e]}clearAll(){this.__items.forEach((e=>{this.remove(e)}))}observeProperties(e){return this.__propertyObservers.add(e),()=>{this.unobserveProperties(e)}}unobserveProperties(e){this.__propertyObservers?.delete(e)}findItems(e){let t=[];return this.__items.forEach((n=>{let r=this.read(n);e(r)&&t.push(n)})),t}items(){return[...this.__items]}get size(){return this.__items.size}destroy(){Un.deleteCtx(this.__ctxId),this.__propertyObservers=null,this.__collectionObservers=null;for(let e in this.__subsMap)this.__subsMap[e].forEach((e=>{e.remove()})),delete this.__subsMap[e]}}const qs=Object.freeze({FACEBOOK:"facebook",DROPBOX:"dropbox",GDRIVE:"gdrive",GPHOTOS:"gphotos",FLICKR:"flickr",VK:"vk",EVERNOTE:"evernote",BOX:"box",ONEDRIVE:"onedrive",HUDDLE:"huddle"}),Ws=Object.freeze({LOCAL:"local",DROP_AREA:"drop-area",CAMERA:"camera",EXTERNAL:"external",API:"js-api",URL:"url",DRAW:"draw",...qs}),Ks=["image/*","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/avif","image/avif-sequence",".heif",".heifs",".heic",".heics",".avif",".avifs"],Gs=e=>e?e.filter((e=>"string"===typeof e)).map((e=>br(e))).flat():[],Xs=(e,t)=>t.some((t=>t.endsWith("*")?(t=t.replace("*",""),e.startsWith(t)):e===t)),Qs=e=>{let t=e?.type;return!!t&&Xs(t,Ks)},Zs=new RegExp(`^/?(${/[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}/i.source})(?:/(-/(?:[^/]+/)+)?([^/]*))?$`,"i"),Js=e=>{const t=new Map;return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const s=JSON.stringify(r);if(t.has(s))return t.get(s);const a=e(...r);return t.set(s,a),a}},Ys=new Set;function ea(e){Ys.has(e)||(Ys.add(e),console.warn(e))}function ta(e){const t={progress:()=>e.$["*commonProgress"],errors:()=>e.$["*collectionErrors"],group:()=>e.$["*groupInfo"],totalCount:()=>e.uploadCollection.size,failedCount:()=>n.failedEntries.length,successCount:()=>n.successEntries.length,uploadingCount:()=>n.uploadingEntries.length,status:()=>n.isFailed?"failed":n.isUploading?"uploading":n.isSuccess?"success":"idle",isSuccess:()=>n.allEntries.length>0&&0===n.errors.length&&n.successEntries.length===n.allEntries.length,isUploading:()=>n.allEntries.some((e=>"uploading"===e.status)),isFailed:()=>n.errors.length>0||n.failedEntries.length>0,allEntries:()=>e.getOutputData(),successEntries:()=>n.allEntries.filter((e=>"success"===e.status)),failedEntries:()=>n.allEntries.filter((e=>"failed"===e.status)),uploadingEntries:()=>n.allEntries.filter((e=>"uploading"===e.status)),idleEntries:()=>n.allEntries.filter((e=>"idle"===e.status))},n={},r=function(e){let t=!1;return setTimeout((()=>{t=!0}),0),n=>function(){return t&&ea(e),n(...arguments)}}("You're trying to access the OutputCollectionState asynchronously. In this case, the data you retrieve will be newer than it was when the OutputCollectionState was created or when the event was dispatched. If you want to retain the state at a specific moment in time, you should use the spread operator like this: `{...outputCollectionState}` or `{...e.detail}`");for(const[i,s]of Object.entries(t)){const e=i,t=Js(r(s));Object.defineProperty(n,e,{get:t,enumerable:!0})}return n}const na=Object.freeze({PHOTO:"photo",VIDEO:"video"}),ra=Object.freeze({IDLE:"idle",SHOT:"shot",PLAY:"play",PAUSE:"pause",RESUME:"resume",STOP:"stop",RETAKE:"retake",ACCEPT:"accept"});class ia{_ctx;constructor(e){this._ctx=e}get _uploadCollection(){return this._ctx.uploadCollection}get cfg(){return this._ctx.cfg}get l10n(){return this._ctx.l10n.bind(this._ctx)}addFileFromUrl=(()=>{var e=this;return function(t){let{silent:n,fileName:r,source:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=e._uploadCollection.add({externalUrl:t,fileName:r??null,silent:n??!1,source:i??Ws.API});return e.getOutputItem(s)}})();addFileFromUuid=(()=>{var e=this;return function(t){let{silent:n,fileName:r,source:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=e._uploadCollection.add({uuid:t,fileName:r??null,silent:n??!1,source:i??Ws.API});return e.getOutputItem(s)}})();addFileFromCdnUrl=(()=>{var e=this;return function(t){let{silent:n,fileName:r,source:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=(e=>{let{url:t,cdnBase:n}=e;const r=new URL(n),i=new URL(t);if(r.host!==i.host)return null;const[,s,a,o]=Zs.exec(i.pathname);return{uuid:s,cdnUrlModifiers:a||"",filename:o||null}})({url:t,cdnBase:e.cfg.cdnCname});if(!s)throw new Error("Invalid CDN URL");const a=e._uploadCollection.add({uuid:s.uuid,cdnUrl:t,cdnUrlModifiers:s.cdnUrlModifiers,fileName:r??s.filename??null,silent:n??!1,source:i??Ws.API});return e.getOutputItem(a)}})();addFileFromObject=(()=>{var e=this;return function(t){let{silent:n,fileName:r,source:i,fullPath:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=e._uploadCollection.add({file:t,isImage:Qs(t),mimeType:t.type,fileName:r??t.name,fileSize:t.size,silent:n??!1,source:i??Ws.API,fullPath:s??null});return e.getOutputItem(a)}})();removeFileByInternalId=e=>{if(!this._uploadCollection.read(e))throw new Error(`File with internalId ${e} not found`);this._uploadCollection.remove(e)};removeAllFiles(){this._uploadCollection.clearAll()}uploadAll=()=>{const e=this._uploadCollection.items().filter((e=>{const t=this._uploadCollection.read(e);return!t.getValue("isRemoved")&&!t.getValue("isUploading")&&!t.getValue("fileInfo")}));0!==e.length&&(this._ctx.$["*uploadTrigger"]=new Set(e),this._ctx.emit(Mr.COMMON_UPLOAD_START,this.getOutputCollectionState()))};openSystemDialog=(()=>{var e=this;return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=Or(Gs([e.cfg.accept??"",...e.cfg.imgOnly?Ks:[]])),r="uploadcare-file-input",i=document.createElement("input");if(i.setAttribute(r,""),rr(i,{opacity:0,height:0,width:0,visibility:"hidden"}),i.type="file",i.multiple=e.cfg.multiple,t.captureCamera){i.capture=e.cfg.cameraCapture;const t=Nr(e.cfg.cameraModes).includes(na.VIDEO);i.accept=["image/*",t&&"video/*"].filter(Boolean).join(",")}else i.accept=n;i.addEventListener("change",(()=>{i.files&&([...i.files].forEach((n=>e.addFileFromObject(n,{source:t.captureCamera?Ws.CAMERA:Ws.LOCAL}))),e._ctx.$["*currentActivity"]=Cs.activities.UPLOAD_LIST,e._ctx.setOrAddState("*modalActive",!0),i.remove())}),{once:!0}),document.querySelectorAll(`[${r}]`).forEach((e=>e.remove())),document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click"))}})();getOutputItem=e=>{const t=Un.getCtx(e).store,n=t.fileInfo;let r=t.isRemoved?"removed":t.errors.length>0?"failed":t.fileInfo?"success":t.isUploading?"uploading":"idle";return{uuid:n?.uuid??t.uuid??null,internalId:e,name:n?.originalFilename??t.fileName,size:n?.size??t.fileSize,isImage:n?.isImage??t.isImage,mimeType:n?.mimeType??t.mimeType,file:t.file,externalUrl:t.externalUrl,cdnUrlModifiers:t.cdnUrlModifiers,cdnUrl:t.cdnUrl??n?.cdnUrl??null,fullPath:t.fullPath,uploadProgress:t.uploadProgress,fileInfo:n??null,metadata:t.metadata??n?.metadata??null,isSuccess:"success"===r,isUploading:"uploading"===r,isFailed:"failed"===r,isRemoved:"removed"===r,errors:t.errors,status:r,source:t?.source}};getOutputCollectionState=()=>ta(this._ctx);initFlow=(()=>{var e=this;return function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e._uploadCollection.size>0&&!t)e._ctx.set$({"*currentActivity":Cs.activities.UPLOAD_LIST}),e._ctx.setOrAddState("*modalActive",!0);else if(1===e._sourceList?.length){const t=e._sourceList[0];if("local"===t)return e._ctx.$["*currentActivity"]=Cs.activities.UPLOAD_LIST,void e.openSystemDialog();const n=[...e._ctx.$["*blocksRegistry"]].find((e=>"type"in e&&e.type===t));n?.activate(),e._ctx.$["*currentActivity"]&&e._ctx.setOrAddState("*modalActive",!0)}else e._ctx.set$({"*currentActivity":Cs.activities.START_FROM}),e._ctx.setOrAddState("*modalActive",!0)}})();doneFlow=()=>{this._ctx.set$({"*currentActivity":this._ctx.doneActivity,"*history":this._ctx.doneActivity?[this._ctx.doneActivity]:[]}),this._ctx.$["*currentActivity"]||this._ctx.setOrAddState("*modalActive",!1)};setCurrentActivity=(()=>{var e=this;return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;e._ctx.hasBlockInCtx((e=>e.activityType===t))?e._ctx.set$({"*currentActivityParams":n??{},"*currentActivity":t}):console.warn(`Activity type "${t}" not found in the context`)}})();getCurrentActivity=()=>this._ctx.$["*currentActivity"];setModalState=e=>{!e||this._ctx.$["*currentActivity"]?this._ctx.setOrAddState("*modalActive",e):console.warn('Can\'t open modal without current activity. Please use "setCurrentActivity" method first.')};get _sourceList(){let e=[];return this.cfg.sourceList&&(e=br(this.cfg.sourceList)),e}}const sa=(e,t)=>{const n=t.cfg.imgOnly,r=e.isImage;if(n&&!r&&(e.fileInfo||!e.externalUrl)&&(e.fileInfo||e.mimeType))return{type:"NOT_AN_IMAGE",message:t.l10n("images-only-accepted"),payload:{entry:e}}},aa=(e,t)=>{const n=t.cfg.imgOnly,r=t.cfg.accept,i=Gs([...n?Ks:[],r]);if(!i.length)return;const s=e.mimeType,a=e.name;if(!s||!a)return;const o=Xs(s,i),l=((e,t)=>t.some((t=>!!t.startsWith(".")&&e.toLowerCase().endsWith(t.toLowerCase()))))(a,i);return o||l?void 0:{type:"FORBIDDEN_FILE_TYPE",message:t.l10n("file-type-not-allowed"),payload:{entry:e}}},oa=1e3,la=Object.freeze({AUTO:"auto",BYTE:"byte",KB:"kb",MB:"mb",GB:"gb",TB:"tb",PB:"pb"}),ca=e=>Math.ceil(100*e)/100,ua=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:la.AUTO;const n=t===la.AUTO;if(t===la.BYTE||n&&e<1e3){return`${e} ${{one:"byte",other:"bytes"}[zr("en-US",e)]}`}return t===la.KB||n&&e<1e6?`${ca(e/1e3)} KB`:t===la.MB||n&&e<oa**3?`${ca(e/1e6)} MB`:t===la.GB||n&&e<oa**4?`${ca(e/oa**3)} GB`:t===la.TB||n&&e<oa**5?`${ca(e/oa**4)} TB`:`${ca(e/oa**5)} PB`},da=(e,t)=>{const n=t.cfg.maxLocalFileSizeBytes,r=e.size;if(n&&r&&r>n)return{type:"FILE_SIZE_EXCEEDED",message:t.l10n("files-max-size-limit-error",{maxFileSize:ua(n)}),payload:{entry:e}}},ha=(e,t)=>{const{internalId:n}=e,r=t._uploadCollection.read(n),i=r?.getValue("uploadError");if(!i)return;if(i instanceof vi)return{type:"UPLOAD_ERROR",message:i.message,payload:{entry:e,error:i}};if(i instanceof ti)return{type:"NETWORK_ERROR",message:i.message,payload:{entry:e,error:i}};const s=i instanceof Error?i:new Error("Unknown error",{cause:i});return{type:"UNKNOWN_ERROR",message:s.message,payload:{entry:e,error:s}}},pa=(e,t)=>{const n=e.totalCount,r=t.cfg.multiple?t.cfg.multipleMin:0,i=t.cfg.multiple?t.cfg.multipleMax:1;if(r&&n<r){return{type:"TOO_FEW_FILES",message:t.l10n("files-count-limit-error-too-few",{min:r,max:i,total:n}),payload:{total:n,min:r,max:i}}}if(i&&n>i){return{type:"TOO_MANY_FILES",message:t.l10n("files-count-limit-error-too-many",{min:r,max:i,total:n}),payload:{total:n,min:r,max:i}}}},fa=(e,t)=>{if(e.failedCount>0)return{type:"SOME_FILES_HAS_ERRORS",message:t.l10n("some-files-were-not-uploaded")}},ma="File validator execution has failed",ga="Collection validator execution has failed",va="Missing message. We recommend adding message: value.";class ya{_blockInstance;_fileValidators=(()=>[sa,aa,da,ha])();_collectionValidators=(()=>[pa,fa])();constructor(e){this._blockInstance=e,this._uploadCollection=this._blockInstance.uploadCollection;const t=()=>{this.runFileValidators(),this.runCollectionValidators()};this._blockInstance.subConfigValue("maxLocalFileSizeBytes",t),this._blockInstance.subConfigValue("multipleMin",t),this._blockInstance.subConfigValue("multipleMax",t),this._blockInstance.subConfigValue("multiple",t),this._blockInstance.subConfigValue("imgOnly",t),this._blockInstance.subConfigValue("accept",t)}runFileValidators(e){const t=e??this._uploadCollection.items();for(const n of t){const e=this._uploadCollection.read(n);e&&this._runFileValidatorsForEntry(e)}}runCollectionValidators(){const e=this._blockInstance.api.getOutputCollectionState(),t=[];for(const r of[...this._collectionValidators,...this._addCustomTypeToValidators(this._blockInstance.cfg.collectionValidators)])try{const n=r(e,this._blockInstance.api);if(!n)continue;n&&(t.push(n),n.message||console.warn(va))}catch(n){console.warn(ga,n)}this._blockInstance.$["*collectionErrors"]=t,t.length>0&&this._blockInstance.emit(Mr.COMMON_UPLOAD_FAILED,(()=>this._blockInstance.api.getOutputCollectionState()),{debounce:!0})}_runFileValidatorsForEntry(e){const t=this._blockInstance.api.getOutputItem(e.uid),n=[];for(const i of[...this._fileValidators,...this._addCustomTypeToValidators(this._blockInstance.cfg.fileValidators)])try{const e=i(t,this._blockInstance.api);if(!e)continue;e&&(n.push(e),e.message||console.warn(va))}catch(r){console.warn(ma,r)}e.setValue("errors",n)}_addCustomTypeToValidators(e){return e.map((e=>function(){const t=e(...arguments);return t?{...t,type:"CUSTOM_ERROR"}:void 0}))}}const ba=Object.freeze({file:{type:File,value:null},externalUrl:{type:String,value:null},fileName:{type:String,value:null,nullable:!0},fileSize:{type:Number,value:null,nullable:!0},lastModified:{type:Number,value:Date.now()},uploadProgress:{type:Number,value:0},uuid:{type:String,value:null},isImage:{type:Boolean,value:!1},mimeType:{type:String,value:null,nullable:!0},ctxName:{type:String,value:null},cdnUrl:{type:String,value:null},cdnUrlModifiers:{type:String,value:null},fileInfo:{type:Ii,value:null},isUploading:{type:Boolean,value:!1},abortController:{type:AbortController,value:null,nullable:!0},thumbUrl:{type:String,value:null,nullable:!0},silent:{type:Boolean,value:!1},source:{type:String,value:!1,nullable:!0},fullPath:{type:String,value:null,nullable:!0},metadata:{type:Object,value:null,nullable:!0},errors:{type:Array,value:[]},uploadError:{type:Error,value:null,nullable:!0},isRemoved:{type:Boolean,value:!1}});class wa extends Cs{couldBeCtxOwner=!1;isCtxOwner=!1;init$=(()=>es(this))();get hasCtxOwner(){return this.hasBlockInCtx((e=>e instanceof wa&&(e.isCtxOwner&&e.isConnected&&e!==this)))}initCallback(){if(super.initCallback(),!this.has("*uploadCollection")){let e=new Hs({typedSchema:ba,watchList:["uploadProgress","uploadError","fileInfo","errors","cdnUrl","isUploading"]});this.add("*uploadCollection",e)}this.has("*publicApi")||this.add("*publicApi",new ia(this)),this.has("*validationManager")||this.add("*validationManager",new ya(this)),!this.hasCtxOwner&&this.couldBeCtxOwner&&this.initCtxOwner()}get validationManager(){if(!this.has("*validationManager"))throw new Error("Unexpected error: ValidationManager is not initialized");return this.$["*validationManager"]}get api(){if(!this.has("*publicApi"))throw new Error("Unexpected error: UploaderPublicApi is not initialized");return this.$["*publicApi"]}getAPI(){return this.api}get uploadCollection(){if(!this.has("*uploadCollection"))throw new Error("Unexpected error: TypedCollection is not initialized");return this.$["*uploadCollection"]}destroyCtxCallback(){this._unobserveCollectionProperties?.(),this._unobserveCollection?.(),this.uploadCollection.destroy(),this.$["*uploadCollection"]=null,super.destroyCtxCallback()}initCtxOwner(){this.isCtxOwner=!0,this._unobserveCollection=this.uploadCollection.observeCollection(this._handleCollectionUpdate),this._unobserveCollectionProperties=this.uploadCollection.observeProperties(this._handleCollectionPropertiesUpdate),this.subConfigValue("maxConcurrentRequests",(e=>{this.$["*uploadQueue"].concurrency=Number(e)||1})),this.$["*secureUploadsManager"]||(this.$["*secureUploadsManager"]=new zs(this)),this.has("*modalActive")&&this.sub("*modalActive",(e=>{e&&!this.$["*currentActivity"]&&(this.$["*modalActive"]=!1)}))}async _createGroup(e){const t=await this.getUploadClientOptions(),n=e.allEntries.map((e=>e.uuid+(e.cdnUrlModifiers?`/${e.cdnUrlModifiers}`:""))),r=new AbortController,i=await Zi(n,{...t,signal:r.signal});if(this.$["*collectionState"]!==e)return void r.abort();this.$["*groupInfo"]=i;const s=this.api.getOutputCollectionState();this.emit(Mr.GROUP_CREATED,s),this.emit(Mr.CHANGE,(()=>this.api.getOutputCollectionState()),{debounce:!0}),this.$["*collectionState"]=s}_flushOutputItems=(()=>Ur((async()=>{if(this.getOutputData().length!==this.uploadCollection.size)return;const e=this.api.getOutputCollectionState();this.$["*collectionState"]=e,this.emit(Mr.CHANGE,(()=>this.api.getOutputCollectionState()),{debounce:!0}),this.cfg.groupOutput&&e.totalCount>0&&"success"===e.status&&this._createGroup(e)}),300))();_handleCollectionUpdate=(e,t,n)=>{(t.size||n.size)&&(this.$["*groupInfo"]=null),this.validationManager.runFileValidators(),this.validationManager.runCollectionValidators();for(const r of t)r.getValue("silent")||this.emit(Mr.FILE_ADDED,this.api.getOutputItem(r.uid));for(const r of n)this.$["*uploadTrigger"].delete(r.uid),r.getValue("abortController")?.abort(),r.setMultipleValues({isRemoved:!0,abortController:null,isUploading:!1,uploadProgress:0}),URL.revokeObjectURL(r?.getValue("thumbUrl")),this.emit(Mr.FILE_REMOVED,this.api.getOutputItem(r.uid));this.$["*uploadList"]=e.map((e=>({uid:e}))),this._flushCommonUploadProgress(),this._flushOutputItems()};_handleCollectionPropertiesUpdate=e=>{this._flushOutputItems();const t=this.uploadCollection,n=[...new Set(Object.entries(e).filter((e=>{let[t]=e;return["uploadError","fileInfo"].includes(t)})).map((e=>{let[,t]=e;return[...t]})).flat())];if(n.length>0&&setTimeout((()=>{this.validationManager.runFileValidators(n)})),e.uploadProgress){for(const t of e.uploadProgress){const{isUploading:e,silent:n}=Un.getCtx(t).store;e&&!n&&this.emit(Mr.FILE_UPLOAD_PROGRESS,this.api.getOutputItem(t))}this._flushCommonUploadProgress()}if(e.isUploading)for(const r of e.isUploading){const{isUploading:e,silent:t}=Un.getCtx(r).store;e&&!t&&this.emit(Mr.FILE_UPLOAD_START,this.api.getOutputItem(r))}if(e.fileInfo){for(const t of e.fileInfo){const{fileInfo:e,silent:n}=Un.getCtx(t).store;e&&!n&&this.emit(Mr.FILE_UPLOAD_SUCCESS,this.api.getOutputItem(t))}this.cfg.cropPreset&&this.setInitialCrop()}if(e.errors){for(const t of e.errors){const{errors:e}=Un.getCtx(t).store;e.length>0&&(this.emit(Mr.FILE_UPLOAD_FAILED,this.api.getOutputItem(t)),this.emit(Mr.COMMON_UPLOAD_FAILED,(()=>this.api.getOutputCollectionState()),{debounce:!0}))}const n=t.findItems((e=>!!e.getValue("fileInfo"))),r=t.findItems((e=>e.getValue("errors").length>0));t.size>0&&0===r.length&&t.size===n.length&&0===this.$["*collectionErrors"].length&&this.emit(Mr.COMMON_UPLOAD_SUCCESS,this.api.getOutputCollectionState())}if(e.cdnUrl){[...e.cdnUrl].filter((e=>!!this.uploadCollection.read(e)?.getValue("cdnUrl"))).forEach((e=>{this.emit(Mr.FILE_URL_CHANGED,this.api.getOutputItem(e))})),this.$["*groupInfo"]=null}};_flushCommonUploadProgress=()=>{let e=0;const t=[...this.$["*uploadTrigger"]].filter((e=>!!this.uploadCollection.read(e)));t.forEach((t=>{const n=this.uploadCollection.readProp(t,"uploadProgress");e+=n}));const n=t.length?Math.round(e/t.length):0;this.$["*commonProgress"]!==n&&(this.$["*commonProgress"]=n,this.emit(Mr.COMMON_UPLOAD_PROGRESS,this.api.getOutputCollectionState()))};setInitialCrop(){const e=Ms(this.cfg.cropPreset);if(e){const[t]=e,n=this.uploadCollection.findItems((e=>e.getValue("fileInfo")&&e.getValue("isImage")&&!e.getValue("cdnUrlModifiers")?.includes("/crop/"))).map((e=>this.uploadCollection.read(e)));for(const e of n){const n=e.getValue("fileInfo"),{width:r,height:i}=n.imageInfo,s=Ns(r,i,t.width/t.height),a=ur(`crop/${s.width}x${s.height}/${s.x},${s.y}`,"preview");e.setMultipleValues({cdnUrlModifiers:a,cdnUrl:vr(e.getValue("cdnUrl"),a)}),1===this.uploadCollection.size&&this.cfg.useCloudImageEditor&&this.hasBlockInCtx((e=>e.activityType===Cs.activities.CLOUD_IMG_EDIT))&&(this.$["*currentActivityParams"]={internalId:e.uid},this.$["*currentActivity"]=Cs.activities.CLOUD_IMG_EDIT)}}}async getMetadataFor(e){const t=this.cfg.metadata||void 0;if("function"===typeof t){const n=this.api.getOutputItem(e);return await t(n)}return t}async getUploadClientOptions(){const e=this.$["*secureUploadsManager"],t=await e.getSecureToken().catch((()=>null));return{store:this.cfg.store,publicKey:this.cfg.pubkey,baseCDN:this.cfg.cdnCname,baseURL:this.cfg.baseUrl,userAgent:Ds,integration:this.cfg.userAgentIntegration,secureSignature:t?.secureSignature,secureExpire:t?.secureExpire,retryThrottledRequestMaxTimes:this.cfg.retryThrottledRequestMaxTimes,multipartMinFileSize:this.cfg.multipartMinFileSize,multipartChunkSize:this.cfg.multipartChunkSize,maxConcurrentRequests:this.cfg.multipartMaxConcurrentRequests,multipartMaxAttempts:this.cfg.multipartMaxAttempts,checkForUrlDuplicates:!!this.cfg.checkForUrlDuplicates,saveUrlForRecurrentUploads:!!this.cfg.saveUrlForRecurrentUploads}}getOutputData(){return this.uploadCollection.items().map((e=>this.api.getOutputItem(e)))}}wa.extSrcList=Object.freeze({...qs}),wa.sourceTypes=Object.freeze({...Ws});const xa=e=>e.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g)?.map((e=>e.toLowerCase())).join("-"),_a=e=>String(e),Ca=e=>{const t=Number(e);if(Number.isNaN(t))throw new Error(`Invalid number: "${e}"`);return t},ka=e=>{if("undefined"===typeof e||null===e)return!1;if("boolean"===typeof e)return e;if("true"===e)return!0;if(""===e)return!0;if("false"===e)return!1;throw new Error(`Invalid boolean: "${e}"`)},Sa=e=>{if("object"===typeof e)return e;throw new Error("Invalid value. Must be an object.")},Ea=e=>{if("function"===typeof e)return e;throw new Error("Invalid value. Must be a function.")},Aa=e=>{if(Array.isArray(e))return e;throw new Error("Must be an array.")},Ta={pubkey:_a,multiple:ka,multipleMin:Ca,multipleMax:Ca,confirmUpload:ka,imgOnly:ka,accept:_a,externalSourcesPreferredTypes:_a,externalSourcesEmbedCss:_a,store:e=>"auto"===e?e:ka(e),cameraMirror:ka,cameraCapture:e=>{const t=_a(e);if("user"!==t&&"environment"!==t&&""!==t)throw new Error(`Invalid value: "${t}"`);return t},sourceList:_a,maxLocalFileSizeBytes:Ca,thumbSize:Ca,showEmptyList:ka,useLocalImageEditor:ka,useCloudImageEditor:ka,cloudImageEditorTabs:_a,removeCopyright:ka,cropPreset:_a,imageShrink:_a,modalScrollLock:ka,modalBackdropStrokes:ka,sourceListWrap:ka,remoteTabSessionKey:_a,cdnCname:_a,baseUrl:_a,socialBaseUrl:_a,secureSignature:_a,secureExpire:_a,secureDeliveryProxy:_a,retryThrottledRequestMaxTimes:Ca,multipartMinFileSize:Ca,multipartChunkSize:Ca,maxConcurrentRequests:Ca,multipartMaxConcurrentRequests:Ca,multipartMaxAttempts:Ca,checkForUrlDuplicates:ka,saveUrlForRecurrentUploads:ka,groupOutput:ka,userAgentIntegration:_a,debug:ka,localeName:_a,metadata:e=>{if("object"===typeof e&&!Array.isArray(e))return e;if("function"===typeof e)return e;throw new Error("Invalid metadata value. Must be an object or function.")},secureUploadsExpireThreshold:Ca,localeDefinitionOverride:Sa,secureUploadsSignatureResolver:Ea,secureDeliveryProxyUrlResolver:Ea,iconHrefResolver:Ea,fileValidators:Aa,collectionValidators:Aa,cameraModes:e=>{const t=_a(e),n=Nr(t);if(n.some((e=>!Object.values(na).includes(e))))throw new Error(`Invalid value: "${JSON.stringify(n)}"`);return t},defaultCameraMode:e=>{const t=_a(e);if(!Object.values(na).includes(t))throw new Error(`Invalid value: "${t}"`);return t},enableAudioRecording:ka,enableVideoRecording:ka,mediaRecorderOptions:Sa,maxVideoRecordingDuration:Ca},$a=[{test:e=>e.accept&&!!e.imgOnly,message:"There could be a mistake.\nBoth `accept` and `imgOnly` parameters are set.\nThe value of `accept` will be concatenated with the internal image mime types list."},{test:e=>null!==e.enableVideoRecording,message:"The `enableVideoRecording` parameter is deprecated and will be removed in the next major release.\nPlease use the `cameraModes` parameter instead."},{test:e=>null!==e.defaultCameraMode,message:"The `defaultCameraMode` parameter is deprecated and will be removed in the next major release.\nPlease use the `cameraModes` parameter instead."}],La=Ur((e=>{for(const{test:t,message:n}of $a)t(e)&&ea(n)}),0),Ra=[...new Set(["debug",...Object.keys(Ir)])],Pa=["metadata","localeDefinitionOverride","secureUploadsSignatureResolver","secureDeliveryProxyUrlResolver","iconHrefResolver","fileValidators","collectionValidators","mediaRecorderOptions"],Na=Ra.filter((e=>!(e=>Pa.includes(e))(e))),Oa={...Object.fromEntries(Na.map((e=>[xa(e),e]))),...Object.fromEntries(Na.map((e=>[e.toLowerCase(),e])))},Ia={...Object.fromEntries(Na.map((e=>[xa(e),us(e)]))),...Object.fromEntries(Na.map((e=>[e.toLowerCase(),us(e)])))},Ma=e=>"__"+e;class ja extends bs{requireCtxName=!0;constructor(){super(),this.init$={...this.init$,...Object.fromEntries(Object.entries(Ir).map((e=>{let[t,n]=e;return[us(t),n]})))}}_flushValueToAttribute(e,t){if(Na.includes(e)){const n=[...new Set([xa(e),e.toLowerCase()])];for(const e of n)"undefined"===typeof t||null===t?this.removeAttribute(e):this.getAttribute(e)!==t.toString()&&this.setAttribute(e,t.toString())}}_flushValueToState(e,t){this.$[us(e)]!==t&&(this.$[us(e)]="undefined"===typeof t||null===t?Ir[e]:t)}_setValue(e,t){const n=this,r=((e,t)=>{if("undefined"!==typeof t&&null!==t)try{return Ta[e](t)}catch(n){return console.error(`Invalid value for config key "${e}".`,n),Ir[e]}})(e,t),i=Ma(e);n[i]!==r&&(this._assertSameValueDifferentReference(e,n[i],r),n[i]=r,this._flushValueToAttribute(e,r),this._flushValueToState(e,r),this.debugPrint(`[uc-config] "${e}"`,r),La(this.cfg),(e=>{let{key:t,value:n,setValue:r,getValue:i}=e;if("enableVideoRecording"===t&&null!==n){let e=Nr(i("cameraModes"));n&&!e.includes("video")?e=e.concat("video"):n||(e=e.filter((e=>"video"!==e))),r("cameraModes",Or(e))}if("defaultCameraMode"===t&&null!==n){let e=Nr(i("cameraModes"));e=e.sort(((e,t)=>e===n?-1:t===n?1:0)),r("cameraModes",Or(e))}})({key:e,value:r??null,setValue:this._setValue.bind(this),getValue:this._getValue.bind(this)}))}_getValue(e){return this[Ma(e)]??this.$[us(e)]}_assertSameValueDifferentReference(e,t,n){this.cfg.debug&&n!==t&&"object"===typeof n&&"object"===typeof t&&JSON.stringify(n)===JSON.stringify(t)&&(console.warn(`[uc-config] Option "${e}" value is the same as the previous one but the reference is different`),console.warn("[uc-config] You should avoid changing the reference of the object to prevent unnecessary calculations"),console.warn(`[uc-config] "${e}" previous value:`,t),console.warn(`[uc-config] "${e}" new value:`,n))}initCallback(){super.initCallback();const e=this;for(const t of Na)this.sub(us(t),(e=>{this._setValue(t,e)}),!1);for(const t of Ra){const n=e[t]??this.$[us(t)];n!==Ir[t]&&this._setValue(t,n),Object.defineProperty(this,t,{set:e=>{this._setValue(t,e)},get:()=>this._getValue(t)})}}attributeChangedCallback(e,t,n){if(t===n)return;this[Oa[e]]=n}}ja.bindAttributes(Ia);for(const n of Ra)ja.prototype[n]=void 0;const Ua=ja;class Da extends bs{constructor(){super(),this.init$={...this.init$,name:"",href:""}}initCallback(){super.initCallback(),this.sub("name",(e=>{if(!e)return;let t=`#uc-icon-${e}`;this.subConfigValue("iconHrefResolver",(n=>{if(n){const r=n(e);t=r??t}this.$.href=t}))})),this.setAttribute("aria-hidden","true")}}Da.template='\n  <svg ref="svg" xmlns="http://www.w3.org/2000/svg">\n    <use set="@href: href;"></use>\n  </svg>\n',Da.bindAttributes({name:"name"});const Fa=Object.freeze({"dev-mode":{},pubkey:{},uuid:{},src:{},lazy:{default:1},intersection:{},breakpoints:{},"cdn-cname":{default:"https://ucarecdn.com"},"proxy-cname":{},"secure-delivery-proxy":{},"hi-res-support":{default:1},"ultra-res-support":{},format:{},"cdn-operations":{},progressive:{},quality:{},"is-background-for":{},"is-preview-blur":{default:1}}),za="--uc-img-",Va="unresolved",Ba=!window.location.host.trim()||window.location.host.includes(":")||window.location.hostname.includes("localhost"),Ha=Object.freeze({PREVIEW:"PREVIEW",MAIN:"MAIN"}),qa=Object.create(null);for(let n in Fa)qa[za+n]=Fa[n]?.default||"";class Wa extends tr{cssInit$=(()=>qa)();$$(e){return this.$[za+e]}set$$(e){for(let t in e)this.$[za+t]=e[t]}sub$$(e,t){this.sub(za+e,(e=>{null!==e&&""!==e&&t(e)}))}analyticsParams(){return`-/@clib/${js}/${Us}/uc-img/`}initAttributes(e){[...this.attributes].forEach((t=>{Fa[t.name]||e.setAttribute(t.name,t.value)}))}initIntersection(e,t){this._isnObserver=new IntersectionObserver((n=>{n.forEach((n=>{n.isIntersecting&&(t(),this._isnObserver.unobserve(e))}))}),{root:null,rootMargin:"0px"}),this._isnObserver.observe(e),this._observed||(this._observed=new Set),this._observed.add(e)}destroyCallback(){super.destroyCallback(),this._isnObserver&&(this._observed.forEach((e=>{this._isnObserver.unobserve(e)})),this._isnObserver=null),Un.deleteCtx(this)}static get observedAttributes(){return Object.keys(Fa)}attributeChangedCallback(e,t,n){window.setTimeout((()=>{this.$[za+e]=n}))}}class Ka extends Wa{_img=(()=>new Image)();_imgPreview=(()=>new Image)();_fmtAbs(e){return!e.includes("//")&&!Ba&&(e=new URL(e,document.baseURI).href),e}_validateSize(e){if(""!==e?.trim()){let t=e.match(/\d+/)[0],n=e.match(/[a-zA-Z]+/)[0];const r=parseInt(t,10);if(Number(r)>5e3&&this.hasFormatJPG)return 5e3+n;if(Number(r)>3e3&&!this.hasFormatJPG)return 3e3+n}return e}_getCdnModifiers(e,t){const n={format:this.$$("format"),quality:this.$$("quality"),resize:this._validateSize(e),blur:t,"cdn-operations":this.$$("cdn-operations"),analytics:this.analyticsParams()};return ur(...(e=>Object.entries(e).filter((e=>{let[t,n]=e;return void 0!==n&&""!==n})).map((e=>{let[t,n]=e;return"cdn-operations"===t||"analytics"===t?n:`${t}/${n}`})))(n))}_getUrlBase(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(this.$$("src").startsWith("data:")||this.$$("src").startsWith("blob:"))return this.$$("src");if(Ba&&this.$$("src")&&!this.$$("src").includes("//"))return this._proxyUrl(this.$$("src"));let n=this._getCdnModifiers(e,t);return this.$$("src").startsWith(this.$$("cdn-cname"))?vr(this.$$("src"),n):this.$$("cdn-cname")&&this.$$("uuid")||this.$$("uuid")?this._proxyUrl(vr(yr(this.$$("cdn-cname"),this.$$("uuid")),n)):this.$$("proxy-cname")?this._proxyUrl(vr(this.$$("proxy-cname"),n,this._fmtAbs(this.$$("src")))):this.$$("pubkey")?this._proxyUrl(vr(`https://${this.$$("pubkey")}.ucr.io/`,n,this._fmtAbs(this.$$("src")))):void 0}_proxyUrl(e){return this.$$("secure-delivery-proxy")?Wr(this.$$("secure-delivery-proxy"),{previewUrl:e},{transform:e=>window.encodeURIComponent(e)}):e}_getElSize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.getBoundingClientRect(),i=t*Math.round(r.width),s=n?"":t*Math.round(r.height);return i||s?`${i||""}x${s||""}`:null}_setupEventProxy(e){let t=e=>{e.stopPropagation();let t=new Event(e.type,e);this.dispatchEvent(t)},n=["load","error"];for(let r of n)e.addEventListener(r,t)}get img(){return this.hasPreviewImage||(this._setupConfigForImage({elNode:this._img}),this.appendChild(this._img)),this._img}get currentImg(){return this.hasPreviewImage?{type:Ha.PREVIEW,img:this._imgPreview}:{type:Ha.MAIN,img:this.img}}get hasPreviewImage(){return this.$$("is-preview-blur")}get bgSelector(){return this.$$("is-background-for")}get breakpoints(){if(this.$$("breakpoints")){const t=br(this.$$("breakpoints"));return e=t.map((e=>parseInt(e,10))),[...new Set(e)]}return null;var e}get hasFormatJPG(){return"jpeg"===this.$$("format").toLowerCase()}renderBg(e){let t=new Set;t.add(`url("${this._getUrlBase(this._getElSize(e))}") 1x`),this.$$("hi-res-support")&&t.add(`url("${this._getUrlBase(this._getElSize(e,2))}") 2x`),this.$$("ultra-res-support")&&t.add(`url("${this._getUrlBase(this._getElSize(e,3))}") 3x`);let n=`image-set(${[...t].join(", ")})`;e.style.setProperty("background-image",n),e.style.setProperty("background-image","-webkit-"+n)}getSrcset(){let e=new Set;return this.breakpoints?this.breakpoints.forEach((t=>{e.add(this._getUrlBase(t+"x")+` ${this._validateSize(t+"w")}`),this.$$("hi-res-support")&&e.add(this._getUrlBase(2*t+"x")+` ${this._validateSize(2*t+"w")}`),this.$$("ultra-res-support")&&e.add(this._getUrlBase(3*t+"x")+` ${this._validateSize(3*t+"w")}`)})):(e.add(this._getUrlBase(this._getElSize(this.currentImg.img))+" 1x"),this.$$("hi-res-support")&&e.add(this._getUrlBase(this._getElSize(this.currentImg.img,2))+" 2x"),this.$$("ultra-res-support")&&e.add(this._getUrlBase(this._getElSize(this.currentImg.img,3))+" 3x")),[...e].join()}getSrc(){return this._getUrlBase()}get srcUrlPreview(){return this._getUrlBase("100x","100")}renderBackground(){[...document.querySelectorAll(this.bgSelector)].forEach((e=>{this.$$("intersection")?this.initIntersection(e,(()=>{this.renderBg(e)})):this.renderBg(e)}))}_appendURL(e){let{elNode:t,src:n,srcset:r}=e;n&&(t.src=n),r&&(t.srcset=r)}_setupConfigForImage(e){let{elNode:t}=e;this._setupEventProxy(t),this.initAttributes(t)}loaderImage(e){let{src:t,srcset:n,elNode:r}=e;return new Promise(((e,i)=>{this._setupConfigForImage({elNode:r}),r.setAttribute(Va,""),r.addEventListener("load",(()=>{r.removeAttribute(Va),e(r)})),r.addEventListener("error",(()=>{i(!1)})),this._appendURL({elNode:r,src:t,srcset:n})}))}async renderImage(){if(this.$$("intersection"))return this.hasPreviewImage&&(this._setupConfigForImage({elNode:this._imgPreview}),this.appendChild(this._imgPreview)),void this.initIntersection(this.currentImg.img,(async()=>{this.hasPreviewImage&&(this._imgPreview.src=this.srcUrlPreview);try{await this.loaderImage({src:this.getSrc(),srcset:this.getSrcset(),elNode:this._img}),this.hasPreviewImage&&await this._imgPreview.remove(),this.appendChild(this._img)}catch(wc){this.hasPreviewImage&&await(this._imgPreview?.remove()),this.appendChild(this._img)}}));try{this.hasPreviewImage&&(await this.loaderImage({src:this.srcUrlPreview,elNode:this._imgPreview}),this.appendChild(this._imgPreview)),await this.loaderImage({src:this.getSrc(),srcset:this.getSrcset(),elNode:this._img}),this.hasPreviewImage&&await(this._imgPreview?.remove()),this.appendChild(this._img)}catch(wc){this.hasPreviewImage&&await(this._imgPreview?.remove()),this.appendChild(this._img)}}init(){this.bgSelector?this.renderBackground():this.renderImage()}}class Ga extends Ka{initCallback(){super.initCallback(),this.sub$$("src",(()=>{this.init()})),this.sub$$("uuid",(()=>{this.init()})),this.sub$$("lazy",(e=>{this.$$("is-background-for")||this.$$("is-preview-blur")||(this.img.loading=e?"lazy":"eager")}))}}class Xa extends wa{static styleAttrs=(()=>[...super.styleAttrs,"uc-simple-btn"])();couldBeCtxOwner=!0;constructor(){super(),this.init$={...this.init$,withDropZone:!0,onClick:()=>{this.api.initFlow()},"button-text":""}}initCallback(){super.initCallback(),this.defineAccessor("dropzone",(e=>{"undefined"!==typeof e&&(this.$.withDropZone=ka(e))})),this.subConfigValue("multiple",(e=>{this.$["button-text"]=e?"upload-files":"upload-file"}))}}Xa.template='\n  <uc-drop-area set="@disabled: !withDropZone">\n    <button type="button" set="onclick: onClick">\n      <uc-icon name="upload"></uc-icon>\n      <span l10n="button-text"></span>\n      <slot></slot>\n      <div class="uc-visual-drop-area" l10n="drop-files-here"></div>\n    </button>\n  </uc-drop-area>\n',Xa.bindAttributes({dropzone:null});class Qa extends Cs{historyTracked=!0;activityType="start-from";initCallback(){super.initCallback(),this.registerActivity(this.activityType)}}function Za(e){return new Promise((t=>{"function"!==typeof window.FileReader&&t(!1);try{let n=new FileReader;n.onerror=()=>{t(!0)};let r=e=>{"loadend"!==e.type&&n.abort(),t(!1)};n.onloadend=r,n.onprogress=r,n.readAsDataURL(e)}catch(n){t(!1)}}))}function Ja(e,t){return new Promise((n=>{let r=0;const i=[],s=e=>{e||(console.warn("Unexpectedly received empty content entry",{scope:"drag-and-drop"}),n(null)),e.isFile?(r++,e.file((s=>{r--;const a=new File([s],s.name,{type:s.type||t});i.push({type:"file",file:a,fullPath:e.fullPath}),0===r&&n(i)}))):e.isDirectory&&a(e.createReader())};let a=e=>{r++,e.readEntries((e=>{r--;for(let t of e)s(t);0===r&&n(i)}))};s(e)}))}Qa.template=' <div class="uc-content"><slot></slot></div> ';const Ya={ACTIVE:0,INACTIVE:1,NEAR:2,OVER:3};let eo=["focus"],to=new Map;function no(e){let t=0,n=document.body,r=new Set,i=Ya.INACTIVE,s=t=>{e.shouldIgnore()&&t!==Ya.INACTIVE||(i!==t&&r.forEach((e=>e(t))),i=t)},a=()=>t>0;var o;o=t=>e.onChange(t),r.add(o);let l=()=>{t=0,s(Ya.INACTIVE)},c=()=>{t+=1,i===Ya.INACTIVE&&s(Ya.ACTIVE)},u=()=>{t-=1,a()||s(Ya.INACTIVE)},d=e=>{e.preventDefault(),t=0,s(Ya.INACTIVE)},h=n=>{if(e.shouldIgnore())return;a()||(t+=1);let r=[n.x,n.y],i=e.element.getBoundingClientRect(),o=Math.floor(function(e,t){let n=Math.max(Math.min(e[0],t.x+t.width),t.x),r=Math.max(Math.min(e[1],t.y+t.height),t.y);return Math.sqrt((e[0]-n)*(e[0]-n)+(e[1]-r)*(e[1]-r))}(r,i)),l=o<100,c=n.composedPath().includes(e.element);to.set(e.element,o);let u=Math.min(...to.values())===o;c&&u?(n.preventDefault(),s(Ya.OVER)):s(l&&u?Ya.NEAR:Ya.ACTIVE)},p=async t=>{if(e.shouldIgnore())return;t.preventDefault();let n=await function(e){const t=[],n=[];for(let r=0;r<e.items.length;r++){let i=e.items[r];if(i)if("file"===i.kind){const e=i.type;if("function"===typeof i.webkitGetAsEntry||"function"===typeof i.getAsEntry){let r="function"===typeof i.webkitGetAsEntry?i.webkitGetAsEntry():i.getAsEntry();n.push(Ja(r,e).then((e=>{e&&t.push(...e)})));continue}const r=i.getAsFile();r&&n.push(Za(r).then((e=>{e||t.push({type:"file",file:r})})))}else"string"===i.kind&&i.type.match("^text/uri-list")&&n.push(new Promise((e=>{i.getAsString((n=>{t.push({type:"url",url:n}),e(void 0)}))})))}return Promise.all(n).then((()=>t))}(t.dataTransfer);e.onItems(n),s(Ya.INACTIVE)};return n.addEventListener("drop",d),n.addEventListener("dragleave",u),n.addEventListener("dragenter",c),n.addEventListener("dragover",h),e.element.addEventListener("drop",p),eo.forEach((e=>{window.addEventListener(e,l)})),()=>{to.delete(e.element),n.removeEventListener("drop",d),n.removeEventListener("dragleave",u),n.removeEventListener("dragenter",c),n.removeEventListener("dragover",h),e.element.removeEventListener("drop",p),eo.forEach((e=>{window.removeEventListener(e,l)}))}}const ro="uc-drop-area",io=`${ro}/registry`;class so extends wa{static styleAttrs=(()=>[...super.styleAttrs,"uc-drop-area"])();constructor(){super(),this.init$={...this.init$,state:Ya.INACTIVE,withIcon:!1,isClickable:!1,isFullscreen:!1,isEnabled:!0,isVisible:!0,text:"",[io]:null}}isActive(){if(!this.$.isEnabled)return!1;const e=this.getBoundingClientRect(),t=e.width>0&&e.height>0,n=e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth),r=window.getComputedStyle(this),i="hidden"!==r.visibility&&"none"!==r.display;return t&&i&&n}initCallback(){super.initCallback(),this.bindL10n("text",(()=>this.l10n("drop-files-here"))),this.$[io]||(this.$[io]=new Set),this.$[io].add(this),this.defineAccessor("disabled",(e=>{this.set$({isEnabled:!ka(e)})})),this.defineAccessor("clickable",(e=>{this.set$({isClickable:ka(e)})})),this.defineAccessor("with-icon",(e=>{this.set$({withIcon:ka(e)})})),this.defineAccessor("fullscreen",(e=>{this.set$({isFullscreen:ka(e)})})),this.defineAccessor("text",(e=>{"string"===typeof e?this.bindL10n("text",(()=>this.l10n(e)||e)):this.bindL10n("text",(()=>this.l10n("drop-files-here")))})),this._destroyDropzone=no({element:this,shouldIgnore:()=>this._shouldIgnore(),onChange:e=>{this.$.state=e},onItems:e=>{e.length&&(e.forEach((e=>{"url"===e.type?this.api.addFileFromUrl(e.url,{source:Ws.DROP_AREA}):"file"===e.type&&this.api.addFileFromObject(e.file,{source:Ws.DROP_AREA,fullPath:e.fullPath})})),this.uploadCollection.size&&(this.set$({"*currentActivity":Cs.activities.UPLOAD_LIST}),this.setOrAddState("*modalActive",!0)))}});let e=this.ref["content-wrapper"];e&&(this._destroyContentWrapperDropzone=no({element:e,onChange:t=>{const n=Object.entries(Ya).find((e=>{let[,n]=e;return n===t}))?.[0].toLowerCase();n&&e.setAttribute("drag-state",n)},onItems:()=>{},shouldIgnore:()=>this._shouldIgnore()})),this.sub("state",(e=>{const t=Object.entries(Ya).find((t=>{let[,n]=t;return n===e}))?.[0].toLowerCase();t&&this.setAttribute("drag-state",t)})),this.subConfigValue("sourceList",(e=>{const t=br(e);this.$.isEnabled=t.includes(Ws.LOCAL),this.$.isVisible=this.$.isEnabled||!this.querySelector("[data-default-slot]")})),this.sub("isVisible",(e=>{this.toggleAttribute("hidden",!e)})),this.sub("isClickable",(e=>{this.toggleAttribute("clickable",e)})),this.$.isClickable&&(this._onAreaClicked=e=>{"keydown"===e.type?"Space"!==e.code&&"Enter"!==e.code||this.api.openSystemDialog():"click"===e.type&&this.api.openSystemDialog()},this.addEventListener("keydown",this._onAreaClicked),this.addEventListener("click",this._onAreaClicked))}_shouldIgnore(){if(!this.$.isEnabled)return!0;if(!this._couldHandleFiles())return!0;if(!this.$.isFullscreen)return!1;return[...this.$[io]].filter((e=>e!==this)).filter((e=>e.isActive())).length>0}_couldHandleFiles(){let e=this.cfg.multiple,t=this.cfg.multipleMax,n=this.uploadCollection.size;return!(e&&t&&n>=t)&&!(!e&&n>0)}destroyCallback(){super.destroyCallback();const e=this.$[io];e&&(e.delete(this),0===e.size&&Un.deleteCtx(ro)),this._destroyDropzone?.(),this._destroyContentWrapperDropzone?.(),this._onAreaClicked&&(this.removeEventListener("keydown",this._onAreaClicked),this.removeEventListener("click",this._onAreaClicked))}}so.template='\n  <slot>\n    <div data-default-slot hidden></div>\n    <div ref="content-wrapper" class="uc-content-wrapper" set="@hidden: !isVisible">\n      <div class="uc-icon-container" set="@hidden: !withIcon">\n        <uc-icon name="default"></uc-icon>\n        <uc-icon name="arrow-down"></uc-icon>\n      </div>\n      <span class="uc-text">{{text}}</span>\n    </div>\n  </slot>\n',so.bindAttributes({"with-icon":null,clickable:null,text:null,fullscreen:null,disabled:null});class ao extends wa{couldBeCtxOwner=!0;type=void 0;_registeredTypes={};constructor(){super(),this.init$={...this.init$,iconName:"default","src-type":""}}initTypes(){this.registerType({type:Ws.LOCAL,activate:()=>(this.api.openSystemDialog(),!1)}),this.registerType({type:Ws.URL,activity:Cs.activities.URL,textKey:"from-url"}),this.registerType({type:Ws.CAMERA,activity:Cs.activities.CAMERA,activate:()=>{const e="capture"in document.createElement("input");return e&&this.api.openSystemDialog({captureCamera:!0}),!e}}),this.registerType({type:"draw",activity:Cs.activities.DRAW,icon:"edit-draw"});for(let e of Object.values(qs))this.registerType({type:e,activity:Cs.activities.EXTERNAL,activityParams:{externalSourceType:e}})}initCallback(){super.initCallback(),this.initTypes(),this.defineAccessor("type",(e=>{e&&this.applyType(e)}))}registerType(e){this._registeredTypes[e.type]=e}getType(e){return this._registeredTypes[e]}activate(){if(!this.type)return;const e=this._registeredTypes[this.type],{activity:t,activate:n,activityParams:r={}}=e;(n?n():!!t)&&this.set$({"*currentActivityParams":r,"*currentActivity":t})}applyType(e){const t=this._registeredTypes[e];if(!t)return void console.warn("Unsupported source type: "+e);const{textKey:n=e,icon:r=e}=t;this.$["src-type"]=`src-type-${n}`,this.$.iconName=r,this.onclick=()=>{this.activate()}}}ao.template='\n  <button type="button">\n    <uc-icon set="@name: iconName"></uc-icon>\n    <div class="uc-txt" l10n="src-type"></div>\n  </button>\n',ao.bindAttributes({type:null});class oo extends bs{initCallback(){super.initCallback(),this.subConfigValue("sourceList",(e=>{let t=br(e),n="";t.forEach((e=>{"instagram"!==e?n+=`<uc-source-btn role="listitem" type="${e}"></uc-source-btn>`:console.error("Instagram source was removed because the Instagram Basic Display API hasn't been available since December 4, 2024. Official statement, see here:https://developers.facebook.com/blog/post/2024/09/04/update-on-instagram-basic-display-api/?locale=en_US")})),this.cfg.sourceListWrap?this.innerHTML=n:this.outerHTML=n}))}}const lo=()=>{const e=[];return{stack:e,promiseReadJpegChunks:t=>new Promise(((n,r)=>{let i=2;const s=(e,t)=>{const n=new FileReader;n.addEventListener("load",(()=>{t(new DataView(n.result))})),n.addEventListener("error",(e=>{r(`Reader error: ${e}`)})),n.readAsArrayBuffer(e)},a=()=>s(t.slice(i,i+128),(e=>{let t,n,r;for(t=n=0,r=e.byteLength;r>=0?n<r:n>r;t=r>=0?++n:--n)if(255===e.getUint8(t)){i+=t;break}o()})),o=()=>{const o=i;return s(t.slice(i,i+=4),(l=>{if(4!==l.byteLength||255!==l.getUint8(0))return void r("Corrupted");const c=l.getUint8(1);if(218===c)return void n(!0);const u=l.getUint16(2)-2;return s(t.slice(i,i+=u),(t=>{t.byteLength===u?(e.push({startPos:o,length:u,marker:c,view:t}),a()):r("Corrupted")}))}))};FileReader&&DataView||r("Not Support"),s(t.slice(0,2),(e=>{65496!==e.getUint16(0)&&r("Not jpeg"),a()}))}))}},co=async e=>{const t=[],{promiseReadJpegChunks:n,stack:r}=lo();return await n(e),r.forEach((e=>{let{marker:n,view:r}=e;226===n&&1229144927===r.getUint32(0)&&1347571526===r.getUint32(4)&&1229735168===r.getUint32(8)&&t.push(r)})),t},uo=async(e,t,n)=>{{const r=[],i=[],{promiseReadJpegChunks:s,stack:a}=lo();await s(e),a.forEach((e=>{if(e.marker===t)return r.push(e.startPos),i.push(e.length)}));const o=[e.slice(0,2)];for(const e of n){const n=new DataView(new ArrayBuffer(4));n.setUint16(0,65280+t),n.setUint16(2,e.byteLength+2),o.push(n.buffer),o.push(e)}let l=2;for(let t=0;t<r.length;t++)r[t]>l&&o.push(e.slice(l,r[t])),l=r[t]+i[t]+4;return o.push(e.slice(l,e.size)),new Blob(o,{type:e.type})}},ho=(e,t)=>uo(e,226,t.map((e=>e.buffer))),po=()=>{const e=document.createElement("canvas"),t=e.getContext("2d");return{canvas:e,ctx:t}},fo=async e=>{let t=null;const{promiseReadJpegChunks:n,stack:r}=lo();return await n(e),r.forEach((e=>{let{marker:n,view:r}=e;!t&&225===n&&r.byteLength>=14&&1165519206===r.getUint32(0)&&0===r.getUint16(4)&&(t=r)})),t};let mo;const go=e=>((e,t)=>new Promise(((n,r)=>{t&&(e.src=t),e.complete?n(e):(e.addEventListener("load",(()=>{n(e)})),e.addEventListener("error",(()=>{r(new Error("Failed to load image. Probably not an image."))})))})))(new Image,e),vo=[1,3],yo=[192,193,194,195,197,198,199,201,202,203,205,206,207],bo={squareSide:[Math.floor(Math.sqrt(5e6)),4096,8192,11180,10836,11402,14188,16384],dimension:[4096,8192,16384,32767,65535]},wo=(e,t)=>{const n={};return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];const a=t(i,n);return a in n?n[a]:n[a]=e(...i)}},xo=(e,t)=>{const[n]=e,r=Object.keys(t).map((e=>parseInt(e,10))).sort(((e,t)=>e-t));for(let i=0;i<r.length;i++){const e=r[i],s=!!t[e];if(e>n&&s)return e;if(e<n&&!s)return e}return n},_o=55,Co=110,ko=165,So=255,Eo=`rgba(${_o}, ${Co}, ${ko}, ${So/255})`,Ao=(e,t)=>{try{const n=[e-1,t-1,1,1],{canvas:r,ctx:i}=po();r.width=1,r.height=1;const{canvas:s,ctx:a}=po();s.width=e,s.height=t,a&&(a.fillStyle=Eo,a.fillRect(...n),i.drawImage(s,e-1,t-1,1,1,0,0,1,1));const o=i&&i.getImageData(0,0,1,1).data;let l=!1;return o&&(l=o[0]===_o&&o[1]===Co&&o[2]===ko&&o[3]===So),s.width=s.height=1,l}catch(wc){return console.error(`Failed to test for max canvas size of ${e}x${t}.`),!1}};function To(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new Promise((t=>{setTimeout((()=>{const r=e(...n);t(r)}),0)}))}}const $o=To(wo(Ao,xo)),Lo=To(wo(Ao,xo)),Ro=async(e,t)=>{const n=bo.squareSide.find((n=>n*n>=e*t)),r=bo.dimension.find((n=>n>=e&&n>=t));if(!n||!r)throw new Error("Not supported");const[i,s]=await Promise.all([$o(n,n),Lo(r,1)]);if(i&&s)return!0;throw new Error("Not supported")},Po=async(e,t,n)=>{try{const{ctx:r,canvas:i}=po();return i.width=t,i.height=n,r.imageSmoothingQuality="high",r.drawImage(e,0,0,t,n),e instanceof HTMLImageElement&&(e.src="//:0"),e instanceof HTMLCanvasElement&&(e.width=e.height=1),i}catch(wc){throw new Error("Canvas resize error",{cause:wc})}},No=e=>{let{img:t,sourceW:n,targetW:r,targetH:i,step:s}=e;const a=function(e){let{sourceW:t,targetW:n,targetH:r,step:i}=e;const s=[];let a=n,o=r;do{s.push([a,o]),a=Math.round(a/i),o=Math.round(o/i)}while(a<t*i);return s.reverse()}({sourceW:n,targetW:r,targetH:i,step:s});return a.reduce(((e,t)=>{let[n,r]=t;return e.then((e=>Ro(n,r).then((()=>Po(e,n,r))).catch((()=>e))))}),Promise.resolve(t))},Oo=navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform),Io=.71,Mo=(e,t)=>{if(e.width*Io*e.height*Io<t.size)throw new Error("Not required");const n=e.width,r=e.height,i=n/r,s=Math.floor(Math.sqrt(t.size*i)),a=Math.floor(t.size/Math.sqrt(t.size*i));return Ro(s,a).then((()=>{const{ctx:t}=po();return"imageSmoothingQuality"in t&&!(/iPad|iPhone|iPod/.test(navigator.platform)||navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform))&&!Oo?(e=>{let{img:t,targetW:n,targetH:r}=e;return Po(t,n,r)})({img:e,targetW:s,targetH:a}):No({img:e,sourceW:n,targetW:s,targetH:a,step:Io})})).catch((()=>Promise.reject("Not supported")))},jo=async(e,t)=>{try{if(await(async e=>{let t=!1;const{promiseReadJpegChunks:n,stack:r}=lo();return await n(e).then((()=>(r.forEach((e=>{let{marker:n,view:r}=e;if(!t&&yo.indexOf(n)>=0){const e=r.getUint8(5);vo.indexOf(e)<0&&(t=!0)}})),t))).catch((()=>t))})(e))throw new Error("Should skipped");const n=await Promise.allSettled([fo(e),new Promise((e=>{if(void 0!==mo)e(mo);else{const t=new Image;t.addEventListener("load",(()=>{mo=t.naturalWidth<t.naturalHeight,t.src="//:0",e(mo)})),t.src="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k="}})),co(e)]),r=!n.some((e=>"rejected"===e.status)),[i,s,a]=n,o=await(async e=>{try{return await ho(e,[])}catch(wc){throw new Error(`Failed to strip ICC profile: ${wc}`)}})(e).catch((()=>e)),l=await go(URL.createObjectURL(o));URL.revokeObjectURL(l.src);const c=await Mo(l,t);let u="image/jpeg",d=t?.quality||.8;!r&&(e=>{const{ctx:t,canvas:n}=po();n.width=n.height=50,t.drawImage(e,0,0,50,50);const r=t.getImageData(0,0,50,50).data;n.width=n.height=1;for(let i=3;i<r.length;i+=4)if(r[i]<254)return!0;return!1})(c)&&(u="image/png",d=void 0);let h=await((e,t,n)=>new Promise(((r,i)=>{e.toBlob((e=>{e?r(e):i("Failed to convert canvas to blob")}),t,n),e.width=e.height=1})))(c,u,d);if(r&&"fulfilled"===i.status&&i.value){const e=i.value,t="fulfilled"===s.status&&s.value;h=await(async(e,t,n)=>(n&&((e,t)=>{((e,t)=>{let n,r,i,s;if(e&&!(e.byteLength<14)&&1165519206===e.getUint32(0)&&0===e.getUint16(4)){if(18761===e.getUint16(6))r=!0;else{if(19789!==e.getUint16(6))return;r=!1}if(42===e.getUint16(8,r))for(i=8+e.getUint32(10,r),n=0,s=e.getUint16(i-2,r);s>=0?n<s:n>s;s>=0?++n:--n){if(e.byteLength<i+10)return;274===e.getUint16(i,r)&&t(i+8,r),i+=12}}})(e,((n,r)=>e.setUint16(n,t,r)))})(t,1),uo(e,225,[t.buffer])))(h,e,t)}return r&&"fulfilled"===a.status&&a.value.length>0&&(h=await ho(h,a.value)),h}catch(wc){let t;throw wc instanceof Error&&(t=wc.message),"string"===typeof wc&&(t=wc),new Error("Failed to shrink image. "+(t?`Message: "${t}".`:""),{cause:wc})}};function Uo(e){let t=new Blob([e],{type:"image/svg+xml"});return URL.createObjectURL(t)}function Do(){return Uo(`\n  <svg width="${arguments.length>1&&void 0!==arguments[1]?arguments[1]:32}" height="${arguments.length>2&&void 0!==arguments[2]?arguments[2]:32}" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill-rule="evenodd" fill="${arguments.length>0&&void 0!==arguments[0]?arguments[0]:"hsl(209, 21%, 65%)"}" d="M9.68848 8.70068C9.68848 8.42454 9.91233 8.20068 10.1885 8.20068H15.0885C15.2211 8.20068 15.3483 8.25336 15.442 8.34713L20.342 13.2471C20.4358 13.3409 20.4885 13.4681 20.4885 13.6007V21.3007C20.4885 21.5768 20.2646 21.8007 19.9885 21.8007H10.1885C9.91233 21.8007 9.68848 21.5768 9.68848 21.3007V8.70068ZM10.6885 9.20068V20.8007H19.4885V14.1007L15.0885 14.1007C14.8123 14.1007 14.5885 13.8768 14.5885 13.6007L14.5885 9.20068H10.6885ZM15.5885 9.90779L18.7814 13.1007L15.5885 13.1007L15.5885 9.90779Z"/>\n  </svg>\n  `)}const Fo=/^([0-9]+)x([0-9]+)(?:\s+(\d{1,2}|100)%)?$/i,zo=(e,t)=>{let n,r,i;const s=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];n?(clearTimeout(r),r=setTimeout((()=>{Date.now()-i>=t&&(e(...a),i=Date.now())}),Math.max(t-(Date.now()-i),0))):(e(...a),i=Date.now(),n=!0)};return Object.defineProperty(s,"cancel",{configurable:!1,writable:!1,enumerable:!1,value:()=>{clearTimeout(r)}}),s},Vo=Object.freeze({FINISHED:Symbol("FINISHED"),FAILED:Symbol("FAILED"),UPLOADING:Symbol("UPLOADING"),IDLE:Symbol("IDLE")});class Bo extends wa{couldBeCtxOwner=!0;pauseRender=!0;_entrySubs=(()=>new Set)();_entry=null;_isIntersecting=!1;_debouncedGenerateThumb=(()=>Ur(this._generateThumbnail.bind(this),100))();_debouncedCalculateState=(()=>Ur(this._calculateState.bind(this),100))();_renderedOnce=!1;constructor(){super(),this.init$={...this.init$,uid:"",itemName:"",errorText:"",hint:"",thumbUrl:"",progressValue:0,progressVisible:!1,badgeIcon:"",isFinished:!1,isFailed:!1,isUploading:!1,isFocused:!1,isEditable:!1,state:Vo.IDLE,ariaLabelStatusFile:"",onEdit:()=>{this.$["*currentActivityParams"]={internalId:this._entry.uid},this.$["*currentActivity"]=Cs.activities.CLOUD_IMG_EDIT},onRemove:()=>{this.uploadCollection.remove(this.$.uid)},onUpload:()=>{this.upload()}}}_reset(){for(let e of this._entrySubs)e.remove();this._debouncedGenerateThumb.cancel(),this._debouncedCalculateState.cancel(),this._entrySubs=new Set,this._entry=null}_observerCallback(e){let[t]=e;this._isIntersecting=t.isIntersecting,t.isIntersecting&&!this._renderedOnce&&(this.render(),this._renderedOnce=!0),0===t.intersectionRatio?this._debouncedGenerateThumb.cancel():this._debouncedGenerateThumb()}_calculateState(){if(!this._entry)return;let e=this._entry,t=Vo.IDLE;e.getValue("errors").length>0?t=Vo.FAILED:e.getValue("isUploading")?t=Vo.UPLOADING:e.getValue("fileInfo")&&(t=Vo.FINISHED),this.$.state=t}async _generateThumbnail(){if(!this._entry)return;let e=this._entry;if(e.getValue("fileInfo")&&e.getValue("isImage")){let t=this.cfg.thumbSize,n=await this.proxyUrl(vr(yr(this.cfg.cdnCname,this._entry.getValue("uuid")),ur(e.getValue("cdnUrlModifiers"),`scale_crop/${t}x${t}/center`))),r=e.getValue("thumbUrl");r!==n&&(e.setValue("thumbUrl",n),r?.startsWith("blob:")&&URL.revokeObjectURL(r))}else if(!e.getValue("thumbUrl"))if(e.getValue("file")?.type.includes("image"))try{let t=await function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;if("image/svg+xml"===e.type)return URL.createObjectURL(e);let n=document.createElement("canvas"),r=n.getContext("2d"),i=new Image,s=new Promise(((e,s)=>{i.onload=()=>{let a=i.height/i.width;a>1?(n.width=t,n.height=t*a):(n.height=t,n.width=t/a),r.fillStyle="rgb(240, 240, 240)",r.fillRect(0,0,n.width,n.height),r.drawImage(i,0,0,n.width,n.height),n.toBlob((t=>{if(!t)return void s();let n=URL.createObjectURL(t);e(n)}))},i.onerror=e=>{s(e)}}));return i.src=URL.createObjectURL(e),s}(e.getValue("file"),this.cfg.thumbSize);e.setValue("thumbUrl",t)}catch(t){let n=window.getComputedStyle(this).getPropertyValue("--uc-muted-foreground");e.setValue("thumbUrl",Do(n))}else{let t=window.getComputedStyle(this).getPropertyValue("--uc-muted-foreground");e.setValue("thumbUrl",Do(t))}}_subEntry(e,t){let n=this._entry.subscribe(e,(e=>{this.isConnected&&t(e)}));this._entrySubs.add(n)}_updateHint=(()=>zo((()=>{const e=this.$.state===Vo.UPLOADING&&this._entry.getValue("externalUrl")&&this._entry.getValue("source")!==Ws.URL&&0===this._entry.getValue("errors").length&&0===this.$.progressValue?this.l10n("waiting-for",{source:this.l10n(`src-type-${this._entry.getValue("source")}`)}):"";this.$.hint=e}),100))();_handleEntryId(e){this._reset();let t=this.uploadCollection?.read(e);this._entry=t,t&&(this._subEntry("uploadProgress",(e=>{this.$.progressValue=e,this._updateHint()})),this._subEntry("fileName",(e=>{this.$.itemName=e||t.getValue("externalUrl")||this.l10n("file-no-name"),this._debouncedCalculateState()})),this._subEntry("externalUrl",(e=>{this.$.itemName=t.getValue("fileName")||e||this.l10n("file-no-name")})),this._subEntry("fileInfo",(e=>{this._debouncedCalculateState(),e&&this._isIntersecting&&this._debouncedGenerateThumb()})),this._subEntry("cdnUrlModifiers",(()=>{this._isIntersecting&&this._debouncedGenerateThumb()})),this._subEntry("thumbUrl",(e=>{this.$.thumbUrl=e?`url(${e})`:""})),this._subEntry("errors",(()=>this._debouncedCalculateState())),this._subEntry("isUploading",(()=>this._debouncedCalculateState())),this._subEntry("fileSize",(()=>this._debouncedCalculateState())),this._subEntry("mimeType",(()=>this._debouncedCalculateState())),this._subEntry("isImage",(()=>this._debouncedCalculateState())),this._isIntersecting&&this._debouncedGenerateThumb())}initCallback(){super.initCallback(),this.sub("uid",(e=>{this._handleEntryId(e)})),this.sub("state",(e=>{this._handleState(e)})),this.subConfigValue("useCloudImageEditor",(()=>this._debouncedCalculateState())),this.onclick=()=>{Bo.activeInstances.forEach((e=>{e===this?e.setAttribute("focused",""):e.removeAttribute("focused")}))},this.sub("*uploadTrigger",(e=>{e.has(this._entry.uid)&&setTimeout((()=>this.isConnected&&this.upload()))})),Bo.activeInstances.add(this)}_handleState(e){e===Vo.FAILED?this.$.badgeIcon="badge-error":e===Vo.FINISHED&&(this.$.badgeIcon="badge-success"),e===Vo.UPLOADING&&(this.$.isFocused=!1),this.set$({isFailed:e===Vo.FAILED,isUploading:e===Vo.UPLOADING,isFinished:e===Vo.FINISHED,progressVisible:e===Vo.UPLOADING,isEditable:this.cfg.useCloudImageEditor&&this._entry?.getValue("isImage")&&this._entry?.getValue("cdnUrl"),errorText:this._entry.getValue("errors")?.[0]?.message,ariaLabelStatusFile:this.l10n("a11y-file-item-status",{fileName:this._entry?.getValue("fileName"),status:this.l10n(e?.description?.toLocaleLowerCase()??"").toLocaleLowerCase()})}),this._updateHint()}destroyCallback(){super.destroyCallback(),Bo.activeInstances.delete(this),this._reset()}connectedCallback(){super.connectedCallback(),this._observer=new window.IntersectionObserver(this._observerCallback.bind(this),{threshold:[0,1]}),this._observer.observe(this)}disconnectedCallback(){super.disconnectedCallback(),this._debouncedGenerateThumb.cancel(),this._observer?.disconnect()}_settingsOfShrink(){return(e=>{const t=Fo.exec(e?.toLocaleLowerCase())||[];if(!t.length)return!1;const n=t[1]*t[2];return n>268435456?(console.warn(`Shrinked size can not be larger than ${Math.floor(268.435456)}MP. You have set ${t[1]}x${t[2]} (`+Math.ceil(n/1e3/100)/10+"MP)."),!1):{quality:t[3]?t[3]/100:void 0,size:n}})(this.cfg.imageShrink)}_processShrink(e){return jo(e,this._settingsOfShrink())}async upload(){let e=this._entry;if(!this.uploadCollection.read(e.uid))return;if(e.getValue("fileInfo")||e.getValue("isUploading")||e.getValue("errors").length>0)return;const t=this.cfg.multiple?this.cfg.multipleMax:1;if(!(t&&this.uploadCollection.size>t)){this._debouncedCalculateState(),e.setValue("isUploading",!0),e.setValue("errors",[]);try{let t=new AbortController;e.setValue("abortController",t);const n=async()=>{let n=e.getValue("file");n&&this.cfg.imageShrink&&(n=await this._processShrink(n).catch((()=>n)));const r=n||e.getValue("externalUrl")||e.getValue("uuid"),i={...await this.getUploadClientOptions(),fileName:e.getValue("fileName"),source:e.getValue("source"),onProgress:t=>{if(t.isComputable){let n=100*t.value;e.setValue("uploadProgress",n)}},signal:t.signal,metadata:await this.getMetadataFor(e.uid)};return this.debugPrint("upload options",r,i),Xi(r,i)};let r=await this.$["*uploadQueue"].add(n);e.setMultipleValues({fileInfo:r,isUploading:!1,fileName:r.originalFilename,fileSize:r.size,isImage:r.isImage,mimeType:r.contentInfo?.mime?.mime??r.mimeType,uuid:r.uuid,cdnUrl:e.getValue("cdnUrl")??r.cdnUrl,cdnUrlModifiers:e.getValue("cdnUrlModifiers")??"",uploadProgress:100,source:e.getValue("source")??null}),e===this._entry&&this._debouncedCalculateState()}catch(n){n instanceof ri&&n.isCancel?e.setMultipleValues({isUploading:!1,uploadProgress:0}):e.setMultipleValues({isUploading:!1,uploadProgress:0,uploadError:n}),e===this._entry&&this._debouncedCalculateState()}}}}Bo.template='\n  <div class="uc-inner" set="@finished: isFinished; @uploading: isUploading; @failed: isFailed; @focused: isFocused">\n    <div class="uc-thumb" set="style.backgroundImage: thumbUrl">\n      <div class="uc-badge">\n        <uc-icon set="@name: badgeIcon"></uc-icon>\n      </div>\n    </div>\n    <div aria-atomic="true" aria-live="polite" class="uc-file-name-wrapper" set="@aria-label:ariaLabelStatusFile;">\n      <span class="uc-file-name">{{itemName}}</span>\n      <span class="uc-file-error" set="@hidden: !errorText">{{errorText}}</span>\n      <span class="uc-file-hint" set="@hidden: !hint">{{hint}}</span>\n    </div>\n    <div class="uc-file-actions">\n      <button\n        type="button"\n        l10n="@title:file-item-edit-button;@aria-label:file-item-edit-button"\n        class="uc-edit-btn uc-mini-btn"\n        set="onclick: onEdit; @hidden: !isEditable"\n      >\n        <uc-icon name="edit-file"></uc-icon>\n      </button>\n      <button\n        type="button"\n        l10n="@title:file-item-remove-button;@aria-label:file-item-remove-button"\n        class="uc-remove-btn uc-mini-btn"\n        set="onclick: onRemove;"\n      >\n        <uc-icon name="remove-file"></uc-icon>\n      </button>\n      <button type="button" class="uc-upload-btn uc-mini-btn" set="onclick: onUpload;">\n        <uc-icon name="upload"></uc-icon>\n      </button>\n    </div>\n    <uc-progress-bar class="uc-progress-bar" set="value: progressValue; visible: progressVisible;"> </uc-progress-bar>\n  </div>\n',Bo.activeInstances=new Set;class Ho extends bs{static styleAttrs=(()=>[...super.styleAttrs,"uc-modal"])();static StateConsumerScope="modal";constructor(){super(),this.init$={...this.init$,"*modalActive":!1,isOpen:!1,closeClicked:this._handleDialogClose}}_handleBackdropClick=()=>{this._closeDialog()};_closeDialog=()=>{this.setOrAddState("*modalActive",!1)};_handleDialogClose=()=>{this._closeDialog()};_handleDialogMouseDown=e=>{this._mouseDownTarget=e.target};_handleDialogMouseUp=e=>{e.target===this.ref.dialog&&e.target===this._mouseDownTarget&&this._closeDialog()};show(){this.ref.dialog.showModal?this.ref.dialog.showModal():this.ref.dialog.setAttribute("open","")}hide(){this.ref.dialog.close?this.ref.dialog.close():this.ref.dialog.removeAttribute("open")}initCallback(){super.initCallback(),this.ref.dialog.addEventListener("close",this._handleDialogClose),this.ref.dialog.addEventListener("mousedown",this._handleDialogMouseDown),this.ref.dialog.addEventListener("mouseup",this._handleDialogMouseUp),this.sub("*modalActive",(e=>{this.$.isOpen!==e&&(this.$.isOpen=e),e&&this.cfg.modalScrollLock?document.body.style.overflow="hidden":document.body.style.overflow=""})),this.subConfigValue("modalBackdropStrokes",(e=>{e?this.setAttribute("strokes",""):this.removeAttribute("strokes")})),this.sub("isOpen",(e=>{e?(this.show(),this.setAttribute("aria-modal","true")):(this.hide(),this.setAttribute("aria-modal","false"))}))}destroyCallback(){super.destroyCallback(),document.body.style.overflow="",this._mouseDownTarget=void 0,this.ref.dialog.removeEventListener("close",this._handleDialogClose),this.ref.dialog.removeEventListener("mousedown",this._handleDialogMouseDown),this.ref.dialog.removeEventListener("mouseup",this._handleDialogMouseUp)}}Ho.template='\n  <dialog ref="dialog">\n    <slot></slot>\n  </dialog>\n';class qo extends wa{couldBeCtxOwner=!0;historyTracked=!0;activityType=(()=>Cs.activities.UPLOAD_LIST)();constructor(){super(),this.init$={...this.init$,doneBtnVisible:!1,doneBtnEnabled:!1,uploadBtnVisible:!1,addMoreBtnVisible:!1,addMoreBtnEnabled:!1,headerText:"",commonErrorMessage:"",hasFiles:!1,onAdd:()=>{this.api.initFlow(!0)},onUpload:()=>{this.emit(Mr.UPLOAD_CLICK),this.api.uploadAll(),this._throttledHandleCollectionUpdate()},onDone:()=>{this.emit(Mr.DONE_CLICK,this.api.getOutputCollectionState()),this.api.doneFlow()},onCancel:()=>{this.uploadCollection.clearAll()}}}_throttledHandleCollectionUpdate=(()=>zo((()=>{this.isConnected&&(this._updateUploadsState(),this.couldOpenActivity||this.$["*currentActivity"]!==this.activityType||this.historyBack())}),300))();_updateUploadsState(){const e=this.api.getOutputCollectionState(),t={total:e.totalCount,succeed:e.successCount,uploading:e.uploadingCount,failed:e.failedCount},n=!e.errors.some((e=>"TOO_MANY_FILES"===e.type||"TOO_FEW_FILES"===e.type)),r=e.errors.some((e=>"TOO_MANY_FILES"===e.type)),i=e.totalCount===(this.cfg.multiple?this.cfg.multipleMax:1),s=0===t.failed&&0===e.errors.length;let a=!1,o=!1,l=!1;if(t.total-t.succeed-t.uploading-t.failed>0&&n)a=!0;else{o=!0;const r=!this.cfg.groupOutput||!!e.group;l=t.total===t.succeed&&n&&s&&r}this.set$({doneBtnVisible:o,doneBtnEnabled:l,uploadBtnVisible:a,addMoreBtnEnabled:0===t.total||!r&&!i,addMoreBtnVisible:!i||this.cfg.multiple}),this.bindL10n("headerText",(()=>this._getHeaderText(t)))}_getHeaderText(e){const t=t=>{const n=e[t];return this.l10n(`header-${t}`,{count:n})};return e.uploading>0?t("uploading"):e.failed>0?t("failed"):e.succeed>0?t("succeed"):t("total")}get couldOpenActivity(){return this.cfg.showEmptyList||this.uploadCollection.size>0}initCallback(){super.initCallback(),this.registerActivity(this.activityType),this.subConfigValue("multiple",this._throttledHandleCollectionUpdate),this.subConfigValue("multipleMin",this._throttledHandleCollectionUpdate),this.subConfigValue("multipleMax",this._throttledHandleCollectionUpdate),this.sub("*groupInfo",(e=>{e&&this._throttledHandleCollectionUpdate()})),this.sub("*currentActivity",(e=>{this.couldOpenActivity||e!==this.activityType||(this.$["*currentActivity"]=this.initActivity)})),this.uploadCollection.observeProperties(this._throttledHandleCollectionUpdate),this.sub("*uploadList",(e=>{this._throttledHandleCollectionUpdate(),this.set$({hasFiles:e.length>0}),this.cfg.confirmUpload||this.api.uploadAll()}),!1),this.sub("*collectionErrors",(e=>{const t=e.filter((e=>"SOME_FILES_HAS_ERRORS"!==e.type))[0];t?this.set$({commonErrorMessage:t.message}):this.set$({commonErrorMessage:null})}))}destroyCallback(){super.destroyCallback(),this.uploadCollection.unobserveProperties(this._throttledHandleCollectionUpdate)}}qo.template='\n  <uc-activity-header>\n    <span aria-live="polite" class="uc-header-text">{{headerText}}</span>\n    <button\n      type="button"\n      class="uc-mini-btn uc-close-btn"\n      set="onclick: *closeModal"\n      l10n="@title:a11y-activity-header-button-close;@aria-label:a11y-activity-header-button-close"\n    >\n      <uc-icon name="close"></uc-icon>\n    </button>\n  </uc-activity-header>\n\n  <div class="uc-no-files" set="@hidden: hasFiles">\n    <slot name="empty"><span l10n="no-files"></span></slot>\n  </div>\n\n  <div class="uc-files" repeat="*uploadList" repeat-item-tag="uc-file-item"></div>\n\n  <div class="uc-common-error" set="@hidden: !commonErrorMessage; textContent: commonErrorMessage;"></div>\n\n  <div class="uc-toolbar">\n    <button type="button" class="uc-cancel-btn uc-secondary-btn" set="onclick: onCancel;" l10n="clear"></button>\n    <div class="uc-toolbar-spacer"></div>\n    <button\n      type="button"\n      class="uc-add-more-btn uc-secondary-btn"\n      set="onclick: onAdd; @disabled: !addMoreBtnEnabled; @hidden: !addMoreBtnVisible"\n    >\n      <uc-icon name="add"></uc-icon><span l10n="add-more"></span>\n    </button>\n    <button\n      type="button"\n      class="uc-upload-btn uc-primary-btn"\n      set="@hidden: !uploadBtnVisible; onclick: onUpload;"\n      l10n="upload"\n    ></button>\n    <button\n      type="button"\n      class="uc-done-btn uc-primary-btn"\n      set="@hidden: !doneBtnVisible; onclick: onDone;  @disabled: !doneBtnEnabled"\n      l10n="done"\n    ></button>\n  </div>\n\n  <uc-drop-area ghost></uc-drop-area>\n';class Wo extends wa{couldBeCtxOwner=!0;activityType=(()=>Cs.activities.URL)();init$={...this.init$,importDisabled:!0,onUpload:e=>{e.preventDefault();let t=this.ref.input.value;this.api.addFileFromUrl(t,{source:Ws.URL}),this.$["*currentActivity"]=Cs.activities.UPLOAD_LIST},onCancel:()=>{this.historyBack()},onInput:e=>{let t=e.target.value;this.set$({importDisabled:!t})}};initCallback(){super.initCallback(),this.registerActivity(this.activityType,{onActivate:()=>{this.ref.input.value="",this.ref.input.focus()}})}}Wo.template='\n  <uc-activity-header>\n    <button type="button" class="uc-mini-btn" set="onclick: *historyBack" l10n="@title:back;@aria-label:back">\n      <uc-icon name="back"></uc-icon>\n    </button>\n    <div>\n      <uc-icon name="url"></uc-icon>\n      <span l10n="caption-from-url"></span>\n    </div>\n    <button\n      type="button"\n      class="uc-mini-btn uc-close-btn"\n      set="onclick: *closeModal"\n      l10n="@title:a11y-activity-header-button-close;@aria-label:a11y-activity-header-button-close"\n    >\n      <uc-icon name="close"></uc-icon>\n    </button>\n  </uc-activity-header>\n  <form class="uc-content">\n    <input placeholder="https://" class="uc-url-input" type="text" ref="input" set="oninput: onInput" />\n    <button\n      type="submit"\n      class="uc-url-upload-btn uc-primary-btn"\n      set="onclick: onUpload; @disabled: importDisabled"\n      l10n="upload-url"\n    ></button>\n  </form>\n';const Ko={width:{ideal:1920},height:{ideal:1080},frameRate:{ideal:30}},Go=["camera","microphone"];function Xo(e){return`${Math.floor(e/60).toString().padStart(2,"0")}:${Math.floor(e%60).toString().padStart(2,"0")}`}const Qo="image/jpeg",Zo="video/webm";class Jo extends wa{couldBeCtxOwner=!0;activityType=(()=>Cs.activities.CAMERA)();_unsubPermissions=null;_chunks=[];_mediaRecorder=null;_stream=null;_selectedAudioId=null;_selectedCameraId=null;constructor(){super(),this.init$={...this.init$,video:null,videoTransformCss:null,videoHidden:!0,messageHidden:!0,requestBtnHidden:"undefined"!==typeof navigator.permissions,cameraSelectOptions:null,cameraSelectHidden:!0,l10nMessage:"",switcher:null,panels:null,timer:null,timerHidden:!0,cameraHidden:!0,cameraActionsHidden:!0,audioSelectOptions:null,audioSelectHidden:!0,audioSelectDisabled:!0,audioToggleMicrophoneHidden:!0,tabCameraHidden:!0,tabVideoHidden:!0,currentIcon:"camera-full",currentTimelineIcon:"play",toggleMicrophoneIcon:"microphone",_startTime:0,_elapsedTime:0,_animationFrameId:null,mutableClassButton:"uc-shot-btn uc-camera-action",onCameraSelectChange:e=>{this._selectedCameraId=e.target.value,this._capture()},onAudioSelectChange:e=>{this._selectedAudioId=e.target.value,this._capture()},onCancel:()=>{this.historyBack()},onShot:()=>this._shot(),onRequestPermissions:()=>this._capture(),onStartCamera:()=>this._chooseActionWithCamera(),onStartRecording:()=>this._startRecording(),onStopRecording:()=>this._stopRecording(),onToggleRecording:()=>this._toggleRecording(),onToggleAudio:()=>this._toggleEnableAudio(),onRetake:()=>this._retake(),onAccept:()=>this._accept(),onClickTab:e=>{const t=e.currentTarget.getAttribute("data-id");t&&this._handleActiveTab(t)}}}_chooseActionWithCamera=()=>{if(this._activeTab===na.PHOTO&&this._shot(),this._activeTab===na.VIDEO){if("recording"===this._mediaRecorder?.state)return void this._stopRecording();this._startRecording()}};_updateTimer=()=>{const e=Math.floor((performance.now()-this.$._startTime+this.$._elapsedTime)/1e3);if("number"===typeof this.cfg.maxVideoRecordingDuration&&this.cfg.maxVideoRecordingDuration>0){const t=this.cfg.maxVideoRecordingDuration-e;if(t<=0)return this.ref.timer.textContent=Xo(t),void this._stopRecording();this.ref.timer.textContent=Xo(t)}else this.ref.timer.textContent=Xo(e);this._animationFrameId=requestAnimationFrame(this._updateTimer)};_startTimer=()=>{this.$._startTime=performance.now(),this.$._elapsedTime=0,this._updateTimer()};_stopTimer=()=>{this._animationFrameId&&cancelAnimationFrame(this._animationFrameId)};_startTimeline=()=>{const e=this.ref.video.currentTime,t=this.ref.video.duration;this.ref.line.style.transform=`scaleX(${e/t})`,this.ref.timer.textContent=Xo(e),this._animationFrameId=requestAnimationFrame(this._startTimeline)};_stopTimeline=()=>{this._animationFrameId&&cancelAnimationFrame(this._animationFrameId)};_startRecording=()=>{try{this._chunks=[],this._options={...this.cfg.mediaRecorderOptions};const{mimeType:e}=this.cfg.mediaRecorderOptions||{};e&&MediaRecorder.isTypeSupported(e)?this._options.mimeType=e:MediaRecorder.isTypeSupported(Zo)?this._options.mimeType=Zo:this._options.mimeType="video/mp4",this._stream&&(this._mediaRecorder=new MediaRecorder(this._stream,this._options),this._mediaRecorder.start(),this._mediaRecorder.addEventListener("dataavailable",(e=>{this._chunks.push(e.data)})),this._startTimer(),this.classList.add("uc-recording"),this._setCameraState(ra.PLAY))}catch(e){console.error("Failed to start recording",e)}};_stopRecording=()=>{this._mediaRecorder?.addEventListener("stop",(()=>{this._previewVideo(),this._stopTimer(),this._setCameraState(ra.STOP)})),this._mediaRecorder?.stop(),this.classList.remove("uc-recording")};_toggleRecording=()=>{"recording"!==this._mediaRecorder?.state&&(!this.ref.video.paused&&!this.ref.video.ended&&this.ref.video.readyState>2?this.ref.video.pause():this.ref.video.paused&&this.ref.video.play())};_toggleEnableAudio=()=>{this._stream?.getAudioTracks().forEach((e=>{e.enabled=!e.enabled,this.$.toggleMicrophoneIcon=e.enabled?"microphone":"microphone-mute",this.$.audioSelectDisabled=!e.enabled}))};_previewVideo=()=>{try{const e=new Blob(this._chunks,{type:this._mediaRecorder?.mimeType}),t=URL.createObjectURL(e);this.ref.video.muted=!1,this.ref.video.volume=1,this.$.video=null,this.ref.video.src=t,this.ref.video.addEventListener("play",(()=>{this._startTimeline(),this.set$({currentTimelineIcon:"pause"})})),this.ref.video.addEventListener("pause",(()=>{this.set$({currentTimelineIcon:"play"}),this._stopTimeline()}))}catch(e){console.error("Failed to preview video",e)}};_retake=()=>{this._setCameraState(ra.RETAKE),this._activeTab===na.VIDEO&&(this.$.video=this._stream,this.ref.video.muted=!0),this.ref.video.play()};_accept=()=>{if(this._setCameraState(ra.ACCEPT),this._activeTab===na.PHOTO)return void this._canvas?.toBlob((e=>{const t=this._createFile("camera","jpeg",Qo,e);this._toSend(t)}),Qo);const e=new Blob(this._chunks,{type:this._mediaRecorder?.mimeType}),t=this._guessExtensionByMime(this._mediaRecorder?.mimeType),n=this._createFile("video",t,`video/${t}`,e);this._toSend(n),this._chunks=[]};_handlePhoto=e=>{e===ra.SHOT&&this.set$({tabVideoHidden:!0,cameraHidden:!0,tabCameraHidden:!0,cameraActionsHidden:!1,cameraSelectHidden:!0}),e!==ra.RETAKE&&e!==ra.ACCEPT||this.set$({tabVideoHidden:!this._cameraModes.includes(na.VIDEO),tabCameraHidden:!this._cameraModes.includes(na.PHOTO),cameraHidden:!1,cameraActionsHidden:!0,cameraSelectHidden:this._cameraDevices.length<=1})};_handleVideo=e=>{e===ra.PLAY&&this.set$({timerHidden:!1,tabCameraHidden:!0,cameraSelectHidden:!0,audioSelectHidden:!0,currentTimelineIcon:"pause",currentIcon:"square",mutableClassButton:"uc-shot-btn uc-camera-action uc-stop-record"}),e===ra.STOP&&this.set$({timerHidden:!1,cameraHidden:!0,audioToggleMicrophoneHidden:!0,cameraActionsHidden:!1}),e!==ra.RETAKE&&e!==ra.ACCEPT||this.set$({timerHidden:!0,tabVideoHidden:!this._cameraModes.includes(na.VIDEO),tabCameraHidden:!this._cameraModes.includes(na.PHOTO),cameraHidden:!1,cameraActionsHidden:!0,audioToggleMicrophoneHidden:!this.cfg.enableAudioRecording,currentIcon:"video-camera-full",mutableClassButton:"uc-shot-btn uc-camera-action",audioSelectHidden:!this.cfg.enableAudioRecording||this._audioDevices.length<=1,cameraSelectHidden:this._cameraDevices.length<=1})};_setCameraState=e=>{this._activeTab!==na.PHOTO||"shot"!==e&&"retake"!==e&&"accept"!==e||this._handlePhoto(e),this._activeTab!==na.VIDEO||"play"!==e&&"stop"!==e&&"retake"!==e&&"accept"!==e&&"pause"!==e&&"resume"!==e||this._handleVideo(e)};_shot(){if(this._setCameraState("shot"),this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),!this._ctx)throw new Error("Failed to get canvas context");this._canvas.height=this.ref.video.videoHeight,this._canvas.width=this.ref.video.videoWidth,this.cfg.cameraMirror&&(this._ctx.translate(this._canvas.width,0),this._ctx.scale(-1,1)),this._ctx.drawImage(this.ref.video,0,0),this.ref.video.pause()}_handleActiveTab=e=>{this.ref.switcher.querySelectorAll("button").forEach((t=>{t.classList.toggle("uc-active",t.getAttribute("data-id")===e)})),e===na.PHOTO&&this.set$({currentIcon:"camera-full",audioSelectHidden:!0,audioToggleMicrophoneHidden:!0}),e===na.VIDEO&&this.set$({currentTimelineIcon:"play",currentIcon:"video-camera-full",audioSelectHidden:!this.cfg.enableAudioRecording||this._audioDevices.length<=1,audioToggleMicrophoneHidden:!this.cfg.enableAudioRecording}),this._activeTab=e};_createFile=(e,t,n,r)=>{const i=Date.now();return new File([r],`${e}-${i}.${t}`,{lastModified:i,type:n})};_guessExtensionByMime(e){const t={mp4:"mp4",ogg:"ogg",webm:"webm",quicktime:"mov","x-matroska":"mkv"};if(""===e)return"webm";if(e&&(e=e.split("/"),"video"===e?.[0])){e=e.slice(1).join("/");const n=e?.split(";")[0];if(t[n])return t[n]}return"avi"}_toSend=e=>{this.api.addFileFromObject(e,{source:Ws.CAMERA}),this.set$({"*currentActivity":Cs.activities.UPLOAD_LIST})};get _cameraModes(){return br(this.cfg.cameraModes)}_setPermissionsState=(()=>Ur((e=>{this.classList.toggle("uc-initialized","granted"===e);const t=this._activeTab===na.VIDEO&&this.cfg.enableAudioRecording,n=this._activeTab===na.PHOTO?"camera-full":"video-camera-full";"granted"===e?this.set$({videoHidden:!1,cameraHidden:!1,tabCameraHidden:!this._cameraModes.includes(na.PHOTO),tabVideoHidden:!this._cameraModes.includes(na.VIDEO),messageHidden:!0,timerHidden:!0,currentIcon:n,audioToggleMicrophoneHidden:!t,audioSelectHidden:!t}):"prompt"===e?(this.$.l10nMessage="camera-permissions-prompt",this.set$({videoHidden:!0,cameraHidden:!0,tabCameraHidden:!0,messageHidden:!1}),this._stopCapture()):(this.$.l10nMessage="camera-permissions-denied",this.set$({videoHidden:!0,messageHidden:!1,tabCameraHidden:!this._cameraModes.includes(na.PHOTO),tabVideoHidden:!this._cameraModes.includes(na.VIDEO),cameraActionsHidden:!0,mutableClassButton:"uc-shot-btn uc-camera-action"}),this._stopCapture())}),300))();_makeStreamInactive=()=>{if(!this._stream)return!1;const e=this._stream?.getAudioTracks(),t=this._stream?.getVideoTracks();e.forEach((e=>e.stop())),t.forEach((e=>e.stop()))};_stopCapture=()=>{this._capturing&&(this.ref.video.volume=0,this.$.video?.getTracks()[0].stop(),this.$.video=null,this._makeStreamInactive(),this._stopTimer(),this._capturing=!1)};_capture=async()=>{const e={video:Ko,audio:!!this.cfg.enableAudioRecording&&{}};this._selectedCameraId&&(e.video={deviceId:{exact:this._selectedCameraId}}),this._selectedAudioId&&this.cfg.enableAudioRecording&&(e.audio={deviceId:{exact:this._selectedAudioId}}),this.ref.video.volume=0;try{this._setPermissionsState("prompt"),this._stream=await navigator.mediaDevices.getUserMedia(e),this._stream.addEventListener("inactive",(()=>{this._setPermissionsState("denied")})),this.$.video=this._stream,this._capturing=!0,this._setPermissionsState("granted")}catch(t){this._setPermissionsState("denied"),console.log("Failed to capture camera",t)}};_handlePermissionsChange=()=>{this._capture()};_permissionAccess=async()=>{try{for(const e of Go)this[`${e}Response`]=await navigator.permissions.query({name:e}),this[`${e}Response`].addEventListener("change",this._handlePermissionsChange)}catch(e){console.log("Failed to use permissions API. Fallback to manual request mode.",e),this._capture()}};_getPermission=()=>{};_requestDeviceAccess=async()=>{try{await navigator.mediaDevices.getUserMedia({video:!0,audio:this.cfg.enableAudioRecording}),await this._getDevices(),navigator.mediaDevices.addEventListener("devicechange",this._getDevices)}catch(e){console.log("Failed to get user media",e)}};_getDevices=async()=>{try{const e=await navigator.mediaDevices.enumerateDevices();this._cameraDevices=e.filter((e=>"videoinput"===e.kind)).map(((e,t)=>({text:e.label.trim()||`${this.l10n("caption-camera")} ${t+1}`,value:e.deviceId}))),this._audioDevices=this.cfg.enableAudioRecording&&e.filter((e=>"audioinput"===e.kind)).map((e=>({text:e.label.trim(),value:e.deviceId}))),this._cameraDevices.length>1&&this.set$({cameraSelectOptions:this._cameraDevices,cameraSelectHidden:!1}),this._selectedCameraId=this._cameraDevices[0]?.value,this._audioDevices.length>1&&this.set$({audioSelectOptions:this._audioDevices,audioSelectHidden:!1}),this._selectedAudioId=this._audioDevices[0]?.value}catch(e){console.log("Failed to get devices",e)}};_onActivate=async()=>{await this._permissionAccess(),await this._requestDeviceAccess(),await this._capture(),this._handleCameraModes(this._cameraModes)};_onDeactivate=async()=>{this._unsubPermissions&&this._unsubPermissions();!!window.chrome||this._setPermissionsState("denied"),this._stopCapture()};_handleCameraModes=e=>{this.$.tabVideoHidden=!e.includes(na.VIDEO),this.$.tabCameraHidden=!e.includes(na.PHOTO);const t=e[0];this._activeTab&&e.includes(this._activeTab)||this._handleActiveTab(t)};initCallback(){super.initCallback(),this.registerActivity(this.activityType,{onActivate:this._onActivate,onDeactivate:this._onDeactivate}),this.subConfigValue("cameraMirror",(e=>{this.$.videoTransformCss=e?"scaleX(-1)":null})),this.subConfigValue("enableAudioRecording",(e=>{this.$.audioToggleMicrophoneHidden=!e,this.$.audioSelectDisabled=!e})),this.subConfigValue("cameraModes",(e=>{if(!this.isActivityActive)return;const t=Nr(e);this._handleCameraModes(t)}))}_destroy(){for(const e of Go)this[`${e}Response`]?.removeEventListener("change",this._handlePermissionsChange);navigator.mediaDevices?.removeEventListener("devicechange",this._getDevices)}async destroyCallback(){super.destroyCallback(),this._destroy()}}Jo.template='\n  <uc-activity-header>\n    <button type="button" class="uc-mini-btn" set="onclick: *historyBack" l10n="@title:back">\n      <uc-icon name="back"></uc-icon>\n    </button>\n    <div set="@hidden: !cameraSelectHidden">\n      <uc-icon name="camera"></uc-icon>\n      <span l10n="caption-camera"></span>\n    </div>\n    <uc-select\n      class="uc-camera-select"\n      set="$.options: cameraSelectOptions; @hidden: cameraSelectHidden; onchange: onCameraSelectChange"\n    >\n    </uc-select>\n    <button\n      type="button"\n      class="uc-mini-btn uc-close-btn"\n      set="onclick: *closeModal"\n      l10n="@title:a11y-activity-header-button-close;@aria-label:a11y-activity-header-button-close"\n    >\n      <uc-icon name="close"></uc-icon>\n    </button>\n  </uc-activity-header>\n  <div class="uc-content">\n    <video\n      muted\n      autoplay\n      playsinline\n      set="srcObject: video; style.transform: videoTransformCss; @hidden: videoHidden"\n      ref="video"\n    ></video>\n    <div class="uc-message-box" set="@hidden: messageHidden">\n      <span l10n="l10nMessage"></span>\n      <button\n        type="button"\n        set="onclick: onRequestPermissions; @hidden: requestBtnHidden"\n        l10n="camera-permissions-request"\n      ></button>\n    </div>\n  </div>\n\n  <div class="uc-controls">\n    <div ref="switcher" class="uc-switcher" set="@hidden:!timerHidden">\n      <button\n        data-id="photo"\n        type="button"\n        class="uc-switch uc-mini-btn"\n        set="onclick: onClickTab;  @hidden: tabCameraHidden"\n      >\n        <uc-icon name="camera"></uc-icon>\n      </button>\n      <button\n        data-id="video"\n        type="button"\n        class="uc-switch uc-mini-btn"\n        set="onclick: onClickTab; @hidden: tabVideoHidden"\n      >\n        <uc-icon name="video-camera"></uc-icon>\n      </button>\n    </div>\n\n    <button class="uc-secondary-btn uc-recording-timer" set="@hidden:timerHidden; onclick: onToggleRecording">\n      <uc-icon set="@name: currentTimelineIcon"></uc-icon>\n      <span ref="timer"> 00:00 </span>\n      <span ref="line" class="uc-line"></span>\n    </button>\n\n    <div class="uc-camera-actions uc-camera-action" set="@hidden: cameraActionsHidden">\n      <button type="button" class="uc-secondary-btn" set="onclick: onRetake">Retake</button>\n      <button type="button" class="uc-primary-btn" set="onclick: onAccept">Accept</button>\n    </div>\n\n    <button\n      type="button"\n      class="uc-shot-btn uc-camera-action"\n      set="onclick: onStartCamera; @class: mutableClassButton; @hidden: cameraHidden;"\n    >\n      <uc-icon set="@name: currentIcon"></uc-icon>\n    </button>\n\n    <div class="uc-select">\n      <button class="uc-mini-btn uc-btn-microphone" set="onclick: onToggleAudio; @hidden: audioToggleMicrophoneHidden;">\n        <uc-icon set="@name:toggleMicrophoneIcon"></uc-icon>\n      </button>\n\n      <uc-select\n        class="uc-audio-select"\n        set="$.options: audioSelectOptions; onchange: onAudioSelectChange; @hidden: audioSelectHidden; @disabled: audioSelectDisabled"\n      >\n      </uc-select>\n    </div>\n  </div>\n';class Yo extends wa{requireCtxName=!0;initCallback(){super.initCallback(),this.$["*eventEmitter"].bindTarget(this)}destroyCallback(){super.destroyCallback(),this.$["*eventEmitter"].unbindTarget(this)}}Yo.EventType=Mr;const el=Yo;class tl extends wa{init$={...this.init$,visible:!1,value:0,"*commonProgress":0};initCallback(){super.initCallback(),this._unobserveCollection=this.uploadCollection.observeProperties((()=>{let e=this.uploadCollection.items().some((e=>this.uploadCollection.read(e).getValue("isUploading")));this.$.visible=e})),this.sub("visible",(e=>{e?this.setAttribute("active",""):this.removeAttribute("active")})),this.sub("*commonProgress",(e=>{this.$.value=e}))}destroyCallback(){super.destroyCallback(),this._unobserveCollection?.()}}tl.template=' <uc-progress-bar set="visible: visible; value: value"></uc-progress-bar> ';class nl extends bs{_value=0;_visible=!0;init$={...this.init$,width:0,opacity:0};initCallback(){super.initCallback(),this.defineAccessor("value",(e=>{if(void 0===e||null===e)return;const t=this._value;this._value=e,this._visible&&(100===e&&this.ref.realProgressLine.addEventListener("transitionend",(()=>{this.ref.realProgressLine.classList.toggle("uc-progress--hidden",!0)}),{once:!0}),this.ref.fakeProgressLine.classList.toggle("uc-fake-progress--hidden",0!==e),0===e&&t>0?this.ref.realProgressLine.addEventListener("transitionend",(()=>{this.style.setProperty("--l-progress-value",this._value.toString())}),{once:!0}):this.style.setProperty("--l-progress-value",this._value.toString()))})),this.defineAccessor("visible",(e=>{this._visible=e,this.ref.realProgressLine.classList.toggle("uc-progress--hidden",!e),this.ref.fakeProgressLine.classList.toggle("uc-fake-progress--hidden",!e)}))}}nl.template='\n  <div ref="fakeProgressLine" class="uc-fake-progress"></div>\n  <div ref="realProgressLine" class="uc-progress"></div>\n';const rl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";function il(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>{if("string"===typeof t)return e[t]=!0,e;for(let n of Object.keys(t))e[n]=t[n];return e}),{})}function sl(){let e=il(...arguments);return Object.keys(e).reduce(((t,n)=>(e[n]&&t.push(n),t)),[]).join(" ")}const al=`\n  <svg width='0' height='0' style='position:absolute'><symbol viewBox='0 0 20 20' id='uc-icon-brightness' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M15 10a5 5 0 0 1-5 5m5-5a5 5 0 0 0-5-5m5 5h-5m0 5a5 5 0 0 1 0-10m0 10V5m0 15v-3M2.93 2.929 5.05 5.05M0 10h3m-.07 7.071 2.12-2.121M10 0v3m7.07 14.071-2.12-2.121M20 10h-3m.07-7.071L14.95 5.05m-.626 2.45H10m4.324 5H10'/></symbol><symbol fill='currentColor' viewBox='0 0 20 20' id='uc-icon-closeMax' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='M8.232 10 3.585 5.353l1.768-1.768L10 8.232l4.648-4.647 1.767 1.768L11.768 10l4.647 4.648-1.767 1.767L10 11.768l-4.647 4.647-1.768-1.767L8.232 10Z' clip-rule='evenodd'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-contrast' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M2 10a8 8 0 1 0 16 0 8 8 0 1 0-16 0m8-8v16m8-8h-8m7.598 2.5H10m6.24 2.5H10m7.6-7.5H10M16.242 5H10'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-crop' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M20 14H7.005C6.45 14 6 13.55 6 12.995V0M0 6h13.067c.515 0 .933.418.933.933V20M14.5.4 13 2l1.5 1.6M13 2h2a3 3 0 0 1 3 3v2M5.5 19.6 7 18l-1.5-1.6M7 18H5a3 3 0 0 1-3-3v-2'/></symbol><symbol fill='currentColor' viewBox='0 0 20 20' id='uc-icon-done' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='m18.057 6.333-9.365 9.125a1.25 1.25 0 0 1-1.768-.023L1.92 10.296l1.791-1.744 4.132 4.243 8.47-8.253 1.744 1.79Z' clip-rule='evenodd'/></symbol><symbol fill='currentColor' viewBox='0 0 25 24' id='uc-icon-edit-file' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='M18.558 2.804a.78.78 0 0 0-.557.235l-.008.007-2.472 2.46 3.847 3.848 2.46-2.473.004-.003a.78.78 0 0 0 0-1.108l-.004-.003-2.712-2.728a.78.78 0 0 0-.558-.235Zm-.248 7.613-3.852-3.852-8.93 8.887-1.516 5.41 5.41-1.515 8.888-8.93Zm-.636-8.934a2.28 2.28 0 0 1 2.512.505l2.702 2.717.002.002a2.278 2.278 0 0 1 0 3.234l-.002.002-12.541 12.602a.75.75 0 0 1-.33.193l-6.884 1.928a.75.75 0 0 1-.925-.924l1.928-6.885a.75.75 0 0 1 .193-.33l12.603-12.54a2.28 2.28 0 0 1 .742-.504Z' clip-rule='evenodd'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-enhance' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M19 13h-2m0 0a4 4 0 0 1-4-4m4 4a4 4 0 0 0-4 4m0-8V7m0 2a4 4 0 0 1-4 4m-2 0h2m0 0a4 4 0 0 1 4 4m0 0v2M8 8.5H6.5m0 0a2 2 0 0 1-2-2m2 2a2 2 0 0 0-2 2m0-4V5m0 1.5a2 2 0 0 1-2 2M1 8.5h1.5m0 0a2 2 0 0 1 2 2m0 0V12M12 3h-1m0 0a1 1 0 0 1-1-1m1 1a1 1 0 0 0-1 1m0-2V1m0 1a1 1 0 0 1-1 1M8 3h1m0 0a1 1 0 0 1 1 1m0 0v1'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-exposure' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M10 20v-3M2.93 2.929 5.05 5.05M0 10h3m-.07 7.071 2.12-2.121M10 0v3m7.07 14.071-2.12-2.121M20 10h-3m.07-7.071L14.95 5.05M5 10a5 5 0 1 0 10 0 5 5 0 1 0-10 0'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-filters' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M4.5 6.5a5.5 5.5 0 1 0 11 0 5.5 5.5 0 1 0-11 0m-3.5 6a5.5 5.5 0 1 0 11 0 5.5 5.5 0 1 0-11 0m7 0a5.5 5.5 0 1 0 11 0 5.5 5.5 0 1 0-11 0'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-flip' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M19.6 5 18 3.5 16.4 5m3.2 10L18 16.5 16.4 15M18 3.523v12.954M3.3 8.5h10.654c.301 0 .415-.395.159-.554L3.459 1.286A.3.3 0 0 0 3 1.542V8.2a.3.3 0 0 0 .3.3zm0 3h10.654c.301 0 .415.395.159.554l-10.654 6.66A.3.3 0 0 1 3 18.458v-6.66a.3.3 0 0 1 .3-.3z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-gamma' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M17 3C9 6 2.5 11.5 2.5 17.5m0 0h1m-1 0v-1m14 1h1m-3 0h1m-3 0h1m-3 0h1m-3 0h1m-3 0h1m-3 0h1m-3-14v-1m0 3v-1m0 3v-1m0 3v-1m0 3v-1m0 3v-1m0 3v-1'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-mirror' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M5 .4 3.5 2 5 3.6M15 .4 16.5 2 15 3.6M3.52 2h12.957M8.5 16.7V6.046c0-.301-.394-.415-.554-.159L1.287 16.541a.3.3 0 0 0 .255.459H8.2a.3.3 0 0 0 .3-.3zm3 0V6.046c0-.301.395-.415.555-.159l6.659 10.654a.3.3 0 0 1-.255.459H11.8a.3.3 0 0 1-.3-.3z'/></symbol><symbol viewBox='0 0 40 40' id='uc-icon-original' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.5' d='M0 40 40 0'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-rotate' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M13.5.4 12 2l1.5 1.6M12.023 2H14.4A3.6 3.6 0 0 1 18 5.6V8M4 17h9a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-sad' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M2 17c4.418-4 11.582-4 16 0M16.5 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-11 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-saturation' xmlns='http://www.w3.org/2000/svg'><defs><linearGradient id='puc-icon-id__a' x1='10.001' y1='1' x2='10.001' y2='19' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient></defs><circle cx='10.001' cy='10' r='9' transform='rotate(90 10 10)' fill='url(#puc-icon-id__a)'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-slider' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M0 10h11m0 0a2 2 0 1 0 4 0m-4 0a2 2 0 1 1 4 0m0 0h5'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-tuning' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M8 10h11M1 10h4M1 4.5h11m3 0h4m-18 11h11m3 0h4m-7-11a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m7 5.5a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-vibrance' xmlns='http://www.w3.org/2000/svg'><path d='M2.125 5.64A8.96 8.96 0 0 0 1.001 10a8.96 8.96 0 0 0 1.124 4.36V5.64z' fill='url(#suc-icon-id__a)'/><path d='M2.875 15.499V4.502a9.053 9.053 0 0 1 1.75-1.72v14.437a9.05 9.05 0 0 1-1.75-1.72z' fill='url(#suc-icon-id__b)'/><path d='M5.375 17.722c.548.33 1.134.601 1.75.809V1.469a8.956 8.956 0 0 0-1.75.81v15.443z' fill='url(#suc-icon-id__c)'/><path d='M7.875 1.253v17.495c.564.136 1.15.22 1.75.244V1.008a9 9 0 0 0-1.75.245z' fill='url(#suc-icon-id__d)'/><path d='M10.375 1.008v17.984a9 9 0 0 0 1.75-.244V1.252a9 9 0 0 0-1.75-.244z' fill='url(#suc-icon-id__e)'/><path d='M12.875 1.469V18.53a8.957 8.957 0 0 0 1.75-.808V2.277a8.957 8.957 0 0 0-1.75-.808z' fill='url(#suc-icon-id__f)'/><path d='M15.375 2.78v14.44a9.053 9.053 0 0 0 1.75-1.72v-11a9.054 9.054 0 0 0-1.75-1.72z' fill='url(#suc-icon-id__g)'/><path d='M17.875 5.638v8.724A8.959 8.959 0 0 0 19.001 10a8.96 8.96 0 0 0-1.126-4.362z' fill='url(#suc-icon-id__h)'/><defs><linearGradient id='suc-icon-id__a' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='suc-icon-id__b' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='suc-icon-id__c' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='suc-icon-id__d' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='suc-icon-id__e' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='suc-icon-id__f' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='suc-icon-id__g' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='suc-icon-id__h' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient></defs></symbol><symbol viewBox='0 0 20 20' id='uc-icon-warmth' xmlns='http://www.w3.org/2000/svg'><path d='m7.5 13.05.429.42.171-.175v-.244h-.6zm5 0h-.6v.245l.172.175.428-.42zM8.1 3.5c0-1.05.85-1.9 1.9-1.9V.4a3.1 3.1 0 0 0-3.1 3.1h1.2zm0 9.55V3.5H6.9v9.55h1.2zm-1 2.45c0-.79.315-1.506.829-2.03l-.858-.84A4.088 4.088 0 0 0 5.9 15.5h1.2zm2.9 2.9a2.9 2.9 0 0 1-2.9-2.9H5.9a4.1 4.1 0 0 0 4.1 4.1v-1.2zm2.9-2.9a2.9 2.9 0 0 1-2.9 2.9v1.2a4.1 4.1 0 0 0 4.1-4.1h-1.2zm-.829-2.03c.514.524.829 1.24.829 2.03h1.2c0-1.117-.447-2.13-1.171-2.87l-.858.84zM11.9 3.5v9.55h1.2V3.5h-1.2zM10 1.6c1.05 0 1.9.85 1.9 1.9h1.2A3.1 3.1 0 0 0 10 .4v1.2z' fill='currentColor'/><path d='M10 14V8' stroke='currentColor' stroke-width='1.2' stroke-linecap='round'/><path d='M14 3h3m-3 3h3m-3 3h3m-8 6.5a1 1 0 1 0 2 0 1 1 0 1 0-2 0' stroke='currentColor' stroke-width='1.2'/></symbol></svg>\n  <div class="uc-wrapper uc-wrapper_desktop">\n    <uc-presence-toggle class="uc-network_problems_splash" set="visible: presence.networkProblems;">\n      <div class="uc-network_problems_content">\n        <div class="uc-network_problems_icon">\n          <uc-icon name="sad"></uc-icon>\n        </div>\n        <div class="uc-network_problems_text">Network error</div>\n      </div>\n      <div class="uc-network_problems_footer">\n        <uc-btn-ui theme="primary" text="Retry" set="onclick: *on.retryNetwork"></uc-btn-ui>\n      </div>\n    </uc-presence-toggle>\n    <div class="uc-viewport">\n      <div class="uc-file_type_outer">\n        <div class="uc-file_type">{{fileType}}</div>\n      </div>\n      <div class="uc-image_container" ref="img-container-el">\n        <img src="${rl}" class="uc-image uc-image_visible_from_editor" ref="img-el" />\n        <uc-editor-image-cropper ref="cropper-el"></uc-editor-image-cropper>\n        <uc-editor-image-fader ref="fader-el"></uc-editor-image-fader>\n      </div>\n      <div class="uc-info_pan">{{msg}}</div>\n    </div>\n    <div class="uc-toolbar">\n      <uc-line-loader-ui set="active: showLoader"></uc-line-loader-ui>\n      <div class="uc-toolbar_content uc-toolbar_content__editor">\n        <uc-editor-toolbar></uc-editor-toolbar>\n      </div>\n    </div>\n  </div>\n`;class ol extends bs{ctxOwner=!0;static styleAttrs=["uc-cloud-image-editor"];constructor(){var e;super(),this.init$={...this.init$,...(e=this,{"*originalUrl":null,"*faderEl":null,"*cropperEl":null,"*imgEl":null,"*imgContainerEl":null,"*networkProblems":!1,"*imageSize":null,"*editorTransformations":{},"*cropPresetList":[],"*tabList":Tr,"*tabId":Ar.CROP,entry:null,extension:null,editorMode:!1,modalCaption:"",isImage:!1,msg:"",src:rl,fileType:"",showLoader:!1,uuid:null,cdnUrl:null,cropPreset:"",tabs:Or(Tr),"presence.networkProblems":!1,"presence.modalCaption":!0,"presence.editorToolbar":!1,"presence.viewerToolbar":!0,"*on.retryNetwork":()=>{let t=e.querySelectorAll("img");for(let e of t){let t=e.src;e.src=rl,e.src=t}e.$["*networkProblems"]=!1},"*on.apply":t=>{if(!t)return;let n=e.$["*originalUrl"],r=ur(_r(t),"preview"),i={originalUrl:n,cdnUrlModifiers:r,cdnUrl:vr(n,r),transformations:t};e.dispatchEvent(new CustomEvent("apply",{detail:i,bubbles:!0,composed:!0})),e.remove()},"*on.cancel":()=>{e.remove(),e.dispatchEvent(new CustomEvent("cancel",{bubbles:!0,composed:!0}))}})}}_debouncedShowLoader=(()=>Ur(this._showLoader.bind(this),300))();_showLoader(e){this.$.showLoader=e}_waitForSize(){return new Promise(((e,t)=>{const n=setTimeout((()=>{t(new Error("[cloud-image-editor] timeout waiting for non-zero container size"))}),3e3),r=new ResizeObserver((t=>{let[i]=t;i.contentRect.width>0&&i.contentRect.height>0&&(e(),clearTimeout(n),r.disconnect())}));r.observe(this)}))}initCallback(){super.initCallback(),this.$["*faderEl"]=this.ref["fader-el"],this.$["*cropperEl"]=this.ref["cropper-el"],this.$["*imgContainerEl"]=this.ref["img-container-el"],this.initEditor()}async updateImage(){if(this.isConnected){if(await this._waitForSize(),this.$.cdnUrl){const e=hr(this.$.cdnUrl),t=yr(this.$.cdnUrl,e);if(t===this.$["*originalUrl"])return;this.$["*originalUrl"]=t;const n=function(e){const t={};for(const r of e){const[e,...i]=r.split("/");if(!xr.includes(e))continue;const s=e,a=Er[s];try{const e=a(i);t[s]=e}catch(n){console.warn([`Failed to parse URL operation "${r}". It will be ignored.`,n instanceof Error?`Error message: "${n.message}"`:n,"If you need this functionality, please feel free to open an issue at https://github.com/uploadcare/blocks/issues/new"].join("\n"))}}return t}(pr(this.$.cdnUrl).split("/-/").filter(Boolean).map((e=>lr(e))));this.$["*editorTransformations"]=n}else{if(!this.$.uuid)throw new Error("No UUID nor CDN URL provided");{const e=yr(this.cfg.cdnCname,this.$.uuid);if(e===this.$["*originalUrl"])return;this.$["*originalUrl"]=e,this.$["*editorTransformations"]={}}}this.$["*tabId"]===Ar.CROP?this.$["*cropperEl"].deactivate({reset:!0}):this.$["*faderEl"].deactivate();try{const e=await this.proxyUrl(vr(this.$["*originalUrl"],ur("json"))),t=await fetch(e).then((e=>e.json())),{width:n,height:r}=t;this.$["*imageSize"]={width:n,height:r},this.$["*tabId"]===Ar.CROP?this.$["*cropperEl"].activate(this.$["*imageSize"]):this.$["*faderEl"].activate({url:this.$["*originalUrl"]})}catch(e){e&&console.error("Failed to load image info",e)}}}async initEditor(){try{await this._waitForSize()}catch(e){return void(this.isConnected&&console.error(e.message))}this.ref["img-el"].addEventListener("load",(()=>{this._imgLoading=!1,this._debouncedShowLoader(!1),this.$.src!==rl&&(this.$["*networkProblems"]=!1)})),this.ref["img-el"].addEventListener("error",(()=>{this._imgLoading=!1,this._debouncedShowLoader(!1),this.$["*networkProblems"]=!0})),this.sub("src",(e=>{let t=this.ref["img-el"];t.src!==e&&(this._imgLoading=!0,t.src=e||rl)})),this.sub("cropPreset",(e=>{this.$["*cropPresetList"]=Ms(e)})),this.sub("tabs",(e=>{this.$["*tabList"]=(e=>{if(!e)return Tr;const t=Nr(e).filter((e=>Tr.includes(e)));return 0===t.length?Tr:t})(e)})),this.sub("*tabId",(e=>{this.ref["img-el"].className=sl("uc-image",{"uc-image_hidden_to_cropper":e===Ar.CROP,"uc-image_hidden_effects":e!==Ar.CROP})})),this.classList.add("uc-editor_ON"),this.sub("*networkProblems",(e=>{this.$["presence.networkProblems"]=e,this.$["presence.modalCaption"]=!e})),this.sub("*editorTransformations",(e=>{if(0===Object.keys(e).length)return;let t=this.$["*originalUrl"],n=ur(_r(e),"preview"),r={originalUrl:t,cdnUrlModifiers:n,cdnUrl:vr(t,n),transformations:e};this.dispatchEvent(new CustomEvent("change",{detail:r,bubbles:!0,composed:!0}))}),!1),this.sub("uuid",(e=>e&&this.updateImage())),this.sub("cdnUrl",(e=>e&&this.updateImage()))}}ol.template=al,ol.bindAttributes({uuid:"uuid","cdn-url":"cdnUrl","crop-preset":"cropPreset",tabs:"tabs"});class ll extends bs{constructor(){super(),this.init$={...this.init$,dragging:!1},this._handlePointerUp=this._handlePointerUp_.bind(this),this._handlePointerMove=this._handlePointerMove_.bind(this),this._handleSvgPointerMove=this._handleSvgPointerMove_.bind(this)}_shouldThumbBeDisabled(e){let t=this.$["*imageBox"];if(!t)return;if(""===e&&t.height<=1&&t.width<=1)return!0;let n=t.height<=1&&(e.includes("n")||e.includes("s")),r=t.width<=1&&(e.includes("e")||e.includes("w"));return n||r}_createBackdrop(){let e=this.$["*cropBox"];if(!e)return;let{x:t,y:n,width:r,height:i}=e,s=this.ref["svg-el"],a=As("mask",{id:"backdrop-mask"}),o=As("rect",{x:0,y:0,width:"100%",height:"100%",fill:"white"}),l=As("rect",{x:t,y:n,width:r,height:i,fill:"black"});a.appendChild(o),a.appendChild(l);let c=As("rect",{x:0,y:0,width:"100%",height:"100%",fill:"var(--color-image-background)","fill-opacity":.85,mask:"url(#backdrop-mask)"});s.appendChild(c),s.appendChild(a),this._backdropMask=a,this._backdropMaskInner=l}_resizeBackdrop(){this._backdropMask&&(this._backdropMask.style.display="none",window.requestAnimationFrame((()=>{this._backdropMask&&(this._backdropMask.style.display="block")})))}_updateBackdrop(){let e=this.$["*cropBox"];if(!e)return;let{x:t,y:n,width:r,height:i}=e;this._backdropMaskInner&&Es(this._backdropMaskInner,{x:t,y:n,width:r,height:i})}_updateFrame(){let e=this.$["*cropBox"];if(e&&this._frameGuides&&this._frameThumbs){for(let t of Object.values(this._frameThumbs)){let{direction:n,pathNode:r,interactionNode:i,groupNode:s}=t,a=""===n,o=2===n.length,{x:l,y:c,width:u,height:d}=e;if(a){Es(i,{x:l,y:c,width:u,height:d})}else{const t=Is(Math.min(u,d)/82/2,0,1);let{d:s,center:a}=o?Ts(e,n,t):$s(e,n,t);const l=Math.max(24*Is(Math.min(u,d)/24/3,0,1),6);Es(i,{x:a[0]-l,y:a[1]-l,width:2*l,height:2*l}),Es(r,{d:s})}let h=this._shouldThumbBeDisabled(n);s.setAttribute("class",sl("uc-thumb",{"uc-thumb--hidden":h,"uc-thumb--visible":!h}))}Es(this._frameGuides,{x:e.x-.5,y:e.y-.5,width:e.width+1,height:e.height+1})}}_createThumb(e,t){let n=As("g");n.classList.add("uc-thumb"),n.setAttribute("with-effects","");let r=As("rect",{fill:"transparent"}),i=As("path",{stroke:"currentColor",fill:"none","stroke-width":3});n.appendChild(i),n.appendChild(r),e[t]={direction:t,pathNode:i,interactionNode:r,groupNode:n},""===t&&(n.style.cursor="move"),r.addEventListener("pointerdown",this._handlePointerDown.bind(this,t))}_createThumbs(){const e={};for(let t=0;t<3;t++)for(let n=0;n<3;n++){let r=`${["n","","s"][t]}${["w","","e"][n]}`;""!==r&&this._createThumb(e,r)}return this._createThumb(e,""),e}_createGuides(){let e=As("svg"),t=As("rect",{x:0,y:0,width:"100%",height:"100%",fill:"none",stroke:"currentColor","stroke-width":1,"stroke-opacity":.5});e.appendChild(t);for(let n=1;n<=2;n++){let t=As("line",{x1:Ss*n+"%",y1:"0%",x2:Ss*n+"%",y2:"100%",stroke:"currentColor","stroke-width":1,"stroke-opacity":.3});e.appendChild(t)}for(let n=1;n<=2;n++){let t=As("line",{x1:"0%",y1:Ss*n+"%",x2:"100%",y2:Ss*n+"%",stroke:"currentColor","stroke-width":1,"stroke-opacity":.3});e.appendChild(t)}return e.classList.add("uc-guides","uc-guides--semi-hidden"),e}_createFrame(){let e=this.ref["svg-el"],t=document.createDocumentFragment(),n=this._createGuides();t.appendChild(n);let r=this._createThumbs();for(let{groupNode:i}of Object.values(r))t.appendChild(i);e.appendChild(t),this._frameThumbs=r,this._frameGuides=n}_handlePointerDown(e,t){if(!this._frameThumbs)return;let n=this._frameThumbs[e];if(this._shouldThumbBeDisabled(e))return;let r=this.$["*cropBox"],{x:i,y:s}=this.ref["svg-el"].getBoundingClientRect(),a=t.x-i,o=t.y-s;this.$.dragging=!0,this._draggingThumb=n,this._dragStartPoint=[a,o],this._dragStartCrop={...r}}_handlePointerUp_(e){this._updateCursor(),this.$.dragging&&(e.stopPropagation(),e.preventDefault(),this.$.dragging=!1)}_handlePointerMove_(e){if(!this.$.dragging||!this._dragStartPoint||!this._draggingThumb)return;e.stopPropagation(),e.preventDefault();let t=this.ref["svg-el"],{x:n,y:r}=t.getBoundingClientRect(),i=e.x-n,s=e.y-r,a=i-this._dragStartPoint[0],o=s-this._dragStartPoint[1],{direction:l}=this._draggingThumb;const c=this._calcCropBox(l,[a,o]);c&&(this.$["*cropBox"]=c)}_calcCropBox(e,t){const[n,r]=t;let i=this.$["*imageBox"],s=this._dragStartCrop??this.$["*cropBox"];const a=this.$["*cropPresetList"]?.[0],o=a?a.width/a.height:void 0;if(s=""===e?function(e){let{rect:t,delta:[n,r],imageBox:i}=e;return Ls({...t,x:t.x+n,y:t.y+r},i)}({rect:s,delta:[n,r],imageBox:i}):Rs({rect:s,delta:[n,r],direction:e,aspectRatio:o,imageBox:i}),Object.values(s).every((e=>Number.isFinite(e)&&e>=0)))return Ls(Os(s),this.$["*imageBox"]);console.error("CropFrame is trying to create invalid rectangle",{payload:s})}_handleSvgPointerMove_(e){if(!this._frameThumbs)return;let t=Object.values(this._frameThumbs).find((t=>{if(this._shouldThumbBeDisabled(t.direction))return!1;let n=t.interactionNode.getBoundingClientRect(),r=function(e,t){let[n,r]=t;return e.x<=n&&n<=e.x+e.width&&e.y<=r&&r<=e.y+e.height}({x:n.x,y:n.y,width:n.width,height:n.height},[e.x,e.y]);return r}));this._hoverThumb=t,this._updateCursor()}_updateCursor(){let e=this._hoverThumb;var t;this.ref["svg-el"].style.cursor=e?""===(t=e.direction)?"move":["e","w"].includes(t)?"ew-resize":["n","s"].includes(t)?"ns-resize":["nw","se"].includes(t)?"nwse-resize":"nesw-resize":"initial"}_render(){this._updateBackdrop(),this._updateFrame()}toggleThumbs(e){this._frameThumbs&&Object.values(this._frameThumbs).map((e=>{let{groupNode:t}=e;return t})).forEach((t=>{t.setAttribute("class",sl("uc-thumb",{"uc-thumb--hidden":!e,"uc-thumb--visible":e}))}))}initCallback(){super.initCallback(),this._createBackdrop(),this._createFrame(),this.sub("*imageBox",(()=>{this._resizeBackdrop(),window.requestAnimationFrame((()=>{this._render()}))})),this.sub("*cropBox",(e=>{e&&(this._guidesHidden=e.height<=1||e.width<=1,window.requestAnimationFrame((()=>{this._render()})))})),this.sub("dragging",(e=>{this._frameGuides&&this._frameGuides.setAttribute("class",sl({"uc-guides--hidden":this._guidesHidden,"uc-guides--visible":!this._guidesHidden&&e,"uc-guides--semi-hidden":!this._guidesHidden&&!e}))})),this.ref["svg-el"].addEventListener("pointermove",this._handleSvgPointerMove,!0),document.addEventListener("pointermove",this._handlePointerMove,!0),document.addEventListener("pointerup",this._handlePointerUp,!0)}destroyCallback(){super.destroyCallback(),document.removeEventListener("pointermove",this._handlePointerMove),document.removeEventListener("pointerup",this._handlePointerUp)}}ll.template=' <svg class="uc-svg" ref="svg-el" xmlns="http://www.w3.org/2000/svg"></svg> ';class cl extends bs{init$={...this.init$,active:!1,title:"",icon:"","on.click":null,"title-prop":""};initCallback(){super.initCallback(),this._titleEl=this.ref["title-el"],this._iconEl=this.ref["icon-el"],this.sub("title",(e=>{this._titleEl&&(this._titleEl.style.display=e?"block":"none")})),this.sub("active",(e=>{this.className=sl({"uc-active":e,"uc-not_active":!e})})),this.sub("on.click",(e=>{this.onclick=e}))}}cl.template='\n  <button role="option" type="button" set="@aria-label:title-prop;" l10n="@title:title-prop;">\n    <uc-icon set="@name: icon;"></uc-icon>\n    <div class="uc-title" ref="title-el">{{title}}</div>\n  </button>\n';class ul extends cl{initCallback(){super.initCallback(),this.defineAccessor("operation",(e=>{e&&(this._operation=e,this.$.icon=e,this.bindL10n("title-prop",(()=>this.l10n("a11y-cloud-editor-apply-crop",{name:this.l10n(e).toLowerCase()}))))})),this.$["on.click"]=()=>{let e=this.$["*cropperEl"].getValue(this._operation),t=function(e,t){return"rotate"===e?function(e){let t=e+90;return t=t>=360?0:t,t}(t):["mirror","flip"].includes(e)?!t:null}(this._operation,e);this.$["*cropperEl"].setValue(this._operation,t)}}}const dl="filter",hl="color_operation",pl="original";class fl extends bs{init$={...this.init$,disabled:!1,min:0,max:100,value:0,defaultValue:0,zero:0,"on.input":e=>{this.$["*faderEl"].set(e),this.$.value=e}};setOperation(e,t){this._controlType="filter"===e?dl:hl,this._operation=e,this._iconName=e,this._title=e.toUpperCase(),this._filter=t,this._initializeValues(),this.$["*faderEl"].activate({url:this.$["*originalUrl"],operation:this._operation,value:this._filter===pl?void 0:this.$.value,filter:this._filter===pl?void 0:this._filter,fromViewer:!1})}_initializeValues(){let{range:e,zero:t}=Pr[this._operation],[n,r]=e;this.$.min=n,this.$.max=r,this.$.zero=t;let i=this.$["*editorTransformations"][this._operation];if(this._controlType===dl){let e=r;if(i){let{name:t,amount:n}=i;e=t===this._filter?n:r}this.$.value=e,this.$.defaultValue=e}if(this._controlType===hl){let e="undefined"!==typeof i?i:t;this.$.value=e,this.$.defaultValue=e}}apply(){let e;e=this._controlType===dl?this._filter===pl?null:{name:this._filter,amount:this.$.value}:this.$.value;let t={...this.$["*editorTransformations"],[this._operation]:e};this.$["*editorTransformations"]=t}cancel(){this.$["*faderEl"].deactivate({hide:!1})}initCallback(){super.initCallback(),this.sub("*originalUrl",(e=>{this._originalUrl=e})),this.sub("value",(e=>{let t=`${this._filter||this._operation} ${e}`;this.$["*operationTooltip"]=t}))}}function ml(e){let t=new Image;return{promise:new Promise(((n,r)=>{t.src=e,t.onload=n,t.onerror=r})),image:t,cancel:()=>{0===t.naturalWidth&&(t.src=rl)}}}function gl(e){let t=[];for(let r of e){let e=ml(r);t.push(e)}let n=t.map((e=>e.image));return{promise:Promise.allSettled(t.map((e=>e.promise))),images:n,cancel:()=>{t.forEach((e=>{e.cancel()}))}}}fl.template='\n  <uc-slider-ui\n    ref="slider-el"\n    set="disabled: disabled; min: min; max: max; defaultValue: defaultValue; zero: zero; onInput: on.input;"\n  ></uc-slider-ui>\n';class vl extends cl{constructor(){super(),this.init$={...this.init$,active:!1,title:"",icon:"",isOriginal:!1,iconSize:"20","on.click":null}}_previewSrc(){let e=parseInt(window.getComputedStyle(this).getPropertyValue("--l-base-min-width"),10),t=window.devicePixelRatio,n=Math.ceil(t*e),r=t>=2?"lightest":"normal",i={...this.$["*editorTransformations"]};return i[this._operation]=this._filter!==pl?{name:this._filter,amount:100}:void 0,vr(this._originalUrl,ur(Cr,_r(i),`quality/${r}`,`scale_crop/${n}x${n}/center`))}async _observerCallback(e,t){if(e[0].isIntersecting){let e=await this.proxyUrl(this._previewSrc()),n=this.ref["preview-el"],{promise:r,cancel:i}=ml(e);this._cancelPreload=i,r.catch((e=>{this.$["*networkProblems"]=!0,console.error("Failed to load image",{error:e})})).finally((()=>{n.style.backgroundImage=`url(${e})`,n.setAttribute("loaded",""),t.unobserve(this)}))}else this._cancelPreload?.()}initCallback(){super.initCallback(),this.$["on.click"]=()=>{this.$.active?this.$.isOriginal||(this.$["*sliderEl"].setOperation(this._operation,this._filter),this.$["*showSlider"]=!0):(this.$["*sliderEl"].setOperation(this._operation,this._filter),this.$["*sliderEl"].apply()),this.$["*currentFilter"]=this._filter},this.defineAccessor("filter",(e=>{this._operation="filter",this._filter=e,this.$.isOriginal=e===pl,this.$.icon=this.$.isOriginal?"original":"slider",this.bindL10n("title-prop",(()=>this.l10n("a11y-cloud-editor-apply-filter",{name:e.toLowerCase()})))})),this._observer=new window.IntersectionObserver(this._observerCallback.bind(this),{threshold:[0,1]});let e=this.$["*originalUrl"];this._originalUrl=e,this.$.isOriginal?this.ref["icon-el"].classList.add("uc-original-icon"):this._observer.observe(this),this.sub("*currentFilter",(e=>{this.$.active=e&&e===this._filter})),this.sub("isOriginal",(e=>{this.$.iconSize=e?40:20})),this.sub("active",(e=>{if(this.$.isOriginal)return;this.ref["icon-el"].style.opacity=e?"1":"0";let t=this.ref["preview-el"];e?t.style.opacity="0":t.style.backgroundImage&&(t.style.opacity="1")})),this.sub("*networkProblems",(async e=>{if(!e){let e=await this.proxyUrl(this._previewSrc()),t=this.ref["preview-el"];t.style.backgroundImage&&(t.style.backgroundImage="none",t.style.backgroundImage=`url(${e})`)}}))}destroyCallback(){super.destroyCallback(),this._observer?.disconnect(),this._cancelPreload?.()}}vl.template='\n  <button type="button" role="option" l10n="@title:title-prop;@aria-label:title-prop">\n    <div class="uc-preview" ref="preview-el"></div>\n    <uc-icon ref="icon-el" set="@name: icon; @size: iconSize;"></uc-icon>\n  </button>\n';class yl extends cl{_operation="";initCallback(){super.initCallback(),this.$["on.click"]=e=>{this.$["*sliderEl"].setOperation(this._operation),this.$["*showSlider"]=!0,this.$["*currentOperation"]=this._operation},this.defineAccessor("operation",(e=>{e&&(this._operation=e,this.$.icon=e,this.bindL10n("title-prop",(()=>this.l10n("a11y-cloud-editor-apply-tuning",{name:this.l10n(e).toLowerCase()}))),this.bindL10n("title",(()=>this.l10n(e))))})),this.sub("*editorTransformations",(e=>{if(!this._operation)return;let{zero:t}=Pr[this._operation],n=e[this._operation],r="undefined"!==typeof n&&n!==t;this.$.active=r}))}}function bl(e,t,n){let r=window.devicePixelRatio,i=Math.min(Math.ceil(t*r),3e3),s=r>=2?"lightest":"normal";return vr(e,ur(Cr,_r(n),`quality/${s}`,`stretch/off/-/resize/${i}x`,`@clib/${js}/${Us}/uc-cloud-image-editor/`))}class wl extends bs{ctxOwner=!0;constructor(){super(),this.init$={...this.init$,image:null,"*padding":20,"*operations":{rotate:0,mirror:!1,flip:!1},"*imageBox":{x:0,y:0,width:0,height:0},"*cropBox":{x:0,y:0,width:0,height:0}},this._commitDebounced=Ur(this._commit.bind(this),300),this._handleResizeThrottled=zo(this._handleResize.bind(this),100),this._imageSize={width:0,height:0}}_handleResize(){this.isConnected&&this._isActive&&(this._initCanvas(),this._syncTransformations(),this._alignImage(),this._alignCrop(),this._draw())}_syncTransformations(){let e=function(e,t){let n={};for(let r of t){let t=e[r];(e.hasOwnProperty(r)||void 0!==t)&&(n[r]=t)}return n}(this.$["*editorTransformations"],Object.keys(this.$["*operations"])),t={...this.$["*operations"],...e};this.$["*operations"]=t}_initCanvas(){let e=this.ref["canvas-el"],t=e.getContext("2d"),n=this.offsetWidth,r=this.offsetHeight,i=window.devicePixelRatio;e.style.width=`${n}px`,e.style.height=`${r}px`,e.width=n*i,e.height=r*i,t?.scale(i,i),this._canvas=e,this._ctx=t}_alignImage(){if(!this._isActive||!this.$.image)return;let e,t=this.$.image,n=this.$["*padding"],r=this.$["*operations"],{rotate:i}=r,s=this.offsetWidth,a=this.offsetHeight,o=Ps({width:t.naturalWidth,height:t.naturalHeight},i);if(o.width>s-2*n||o.height>a-2*n){let t=o.width/o.height;if(t>s/a){let r=s-2*n,i=r/t;e={x:0+n,y:n+(a-2*n)/2-i/2,width:r,height:i}}else{let r=a-2*n,i=r*t;e={x:n+(s-2*n)/2-i/2,y:0+n,width:i,height:r}}}else{let{width:t,height:r}=o;e={x:n+(s-2*n)/2-t/2,y:n+(a-2*n)/2-r/2,width:t,height:r}}this.$["*imageBox"]=Os(e)}_alignCrop(){let e=this.$["*cropBox"],t=this.$["*imageBox"],n=this.$["*operations"],{rotate:r}=n,i=this.$["*editorTransformations"].crop,{width:s,x:a,y:o}=this.$["*imageBox"];if(i){let{dimensions:[t,n],coords:[l,c]}=i,{width:u}=Ps(this._imageSize,r),d=s/u;e=Ls(Os({x:a+l*d,y:o+c*d,width:t*d,height:n*d}),this.$["*imageBox"])}const l=this.$["*cropPresetList"]?.[0],c=l?l.width/l.height:void 0;if(p=t,!((h=e).x>=p.x&&h.y>=p.y&&h.x+h.width<=p.x+p.width&&h.y+h.height<=p.y+p.height)||c&&(u=e,d=c,!(Math.abs(u.width/u.height-d)<.1))){const n=t.width/t.height;let r=t.width,i=t.height;c&&(n>c?r=Math.min(t.height*c,t.width):i=Math.min(t.width/c,t.height)),e={x:t.x+t.width/2-r/2,y:t.y+t.height/2-i/2,width:r,height:i}}var u,d,h,p;this.$["*cropBox"]=Ls(Os(e),this.$["*imageBox"])}_drawImage(){let e=this._ctx;if(!e)return;let t=this.$.image,n=this.$["*imageBox"],r=this.$["*operations"],{mirror:i,flip:s,rotate:a}=r,o=Ps({width:n.width,height:n.height},a);e.save(),e.translate(n.x+n.width/2,n.y+n.height/2),e.rotate(a*Math.PI*-1/180),e.scale(i?-1:1,s?-1:1),e.drawImage(t,-o.width/2,-o.height/2,o.width,o.height),e.restore()}_draw(){if(!this._isActive||!this.$.image||!this._canvas||!this._ctx)return;let e=this._canvas;this._ctx.clearRect(0,0,e.width,e.height),this._drawImage()}_animateIn(e){let{fromViewer:t}=e;this.$.image&&(this.ref["frame-el"].toggleThumbs(!0),this._transitionToImage(),setTimeout((()=>{this.className=sl({"uc-active_from_viewer":t,"uc-active_from_editor":!t,"uc-inactive_to_editor":!1})})))}_getCropDimensions(){let e=this.$["*cropBox"],t=this.$["*imageBox"],n=this.$["*operations"],{rotate:r}=n,{width:i,height:s}=t,{width:a,height:o}=Ps(this._imageSize,r),{width:l,height:c}=e,u=i/a,d=s/o;return[Is(Math.round(l/u),1,a),Is(Math.round(c/d),1,o)]}_getCropTransformation(){let e=this.$["*cropBox"],t=this.$["*imageBox"],n=this.$["*operations"],{rotate:r}=n,{width:i,height:s,x:a,y:o}=t,{width:l,height:c}=Ps(this._imageSize,r),{x:u,y:d}=e,h=i/l,p=s/c,f=this._getCropDimensions(),m={dimensions:f,coords:[Is(Math.round((u-a)/h),0,l-f[0]),Is(Math.round((d-o)/p),0,c-f[1])]};if(function(e){if(!e)return!0;let t=[e=>{let{dimensions:t,coords:n}=e;return[...t,...n].every((e=>Number.isInteger(e)&&Number.isFinite(e)))},e=>{let{dimensions:t,coords:n}=e;return t.every((e=>e>0))&&n.every((e=>e>=0))}];return t.every((t=>t(e)))}(m)){if(f[0]!==l||f[1]!==c)return m}else console.error("Cropper is trying to create invalid crop object",{payload:m})}_commit(){if(!this.isConnected||!this._imageSize)return;let e=this.$["*operations"],{rotate:t,mirror:n,flip:r}=e,i=this._getCropTransformation(),s={...this.$["*editorTransformations"],crop:i,rotate:t,mirror:n,flip:r};this.$["*editorTransformations"]=s}setValue(e,t){this.$["*operations"]={...this.$["*operations"],[e]:t},this._isActive&&(this._alignImage(),this._alignCrop(),this._draw())}getValue(e){return this.$["*operations"][e]}async activate(e){let{fromViewer:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._isActive){this._isActive=!0,this._imageSize=e,this.removeEventListener("transitionend",this._reset);try{this.$.image=await this._waitForImage(this.$["*originalUrl"],this.$["*editorTransformations"]),this._syncTransformations(),this._animateIn({fromViewer:t})}catch(n){console.error("Failed to activate cropper",{error:n})}this._observer=new ResizeObserver((e=>{let[t]=e;t.contentRect.width>0&&t.contentRect.height>0&&this._isActive&&this.$.image&&this._handleResizeThrottled()})),this._observer.observe(this)}}deactivate(){let{reset:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._isActive&&(!e&&this._commit(),this._isActive=!1,this._transitionToCrop(),this.className=sl({"uc-active_from_viewer":!1,"uc-active_from_editor":!1,"uc-inactive_to_editor":!0}),this.ref["frame-el"].toggleThumbs(!1),this.addEventListener("transitionend",this._reset,{once:!0}),this._observer?.disconnect())}_transitionToCrop(){let e=this._getCropDimensions(),t=Math.min(this.offsetWidth,e[0])/this.$["*cropBox"].width,n=Math.min(this.offsetHeight,e[1])/this.$["*cropBox"].height,r=Math.min(t,n),i=this.$["*cropBox"].x+this.$["*cropBox"].width/2,s=this.$["*cropBox"].y+this.$["*cropBox"].height/2;this.style.transform=`scale(${r}) translate(${(this.offsetWidth/2-i)/r}px, ${(this.offsetHeight/2-s)/r}px)`,this.style.transformOrigin=`${i}px ${s}px`}_transitionToImage(){let e=this.$["*cropBox"].x+this.$["*cropBox"].width/2,t=this.$["*cropBox"].y+this.$["*cropBox"].height/2;this.style.transform="scale(1)",this.style.transformOrigin=`${e}px ${t}px`}_reset(){this._isActive||(this.$.image=null)}async _waitForImage(e,t){let n=this.offsetWidth;t={...t,crop:void 0,rotate:void 0,flip:void 0,mirror:void 0};let r=await this.proxyUrl(bl(e,n,t)),{promise:i,cancel:s,image:a}=ml(r),o=this._handleImageLoading(r);return a.addEventListener("load",o,{once:!0}),a.addEventListener("error",o,{once:!0}),this._cancelPreload?.(),this._cancelPreload=s,i.then((()=>a)).catch((e=>(console.error("Failed to load image",{error:e}),this.$["*networkProblems"]=!0,Promise.resolve(a))))}_handleImageLoading(e){let t="crop",n=this.$["*loadingOperations"];return n.get(t)||n.set(t,new Map),n.get(t).get(e)||(n.set(t,n.get(t).set(e,!0)),this.$["*loadingOperations"]=n),()=>{n?.get(t)?.has(e)&&(n.get(t).delete(e),this.$["*loadingOperations"]=n)}}initCallback(){super.initCallback(),this.sub("*imageBox",(()=>{this._draw()})),this.sub("*cropBox",(()=>{this.$.image&&this._commitDebounced()})),this.sub("*cropPresetList",(()=>{this._alignCrop()})),setTimeout((()=>{this.sub("*networkProblems",(e=>{e||this._isActive&&this.activate(this._imageSize,{fromViewer:!1})}))}),0)}destroyCallback(){super.destroyCallback(),this._observer?.disconnect()}}function xl(e,t,n){let r=Array(n);for(let i=--n;i>=0;i--)r[i]=Math.ceil((i*t+(n-i)*e)/n);return r}function _l(e,t){let n=Pr[e].keypointsNumber,{range:r,zero:i}=Pr[e];return[...new Set([...xl(r[0],i,n+1),...xl(i,r[1],n+1),i,t])].sort(((e,t)=>e-t))}wl.template='\n  <canvas class="uc-canvas" ref="canvas-el"></canvas>\n  <uc-crop-frame ref="frame-el"></uc-crop-frame>\n';class Cl extends bs{constructor(){super(),this._isActive=!1,this._hidden=!0,this._addKeypointDebounced=Ur(this._addKeypoint.bind(this),600),this.classList.add("uc-inactive_to_cropper")}_handleImageLoading(e){let t=this._operation,n=this.$["*loadingOperations"];return n.get(t)||n.set(t,new Map),n.get(t).get(e)||(n.set(t,n.get(t).set(e,!0)),this.$["*loadingOperations"]=n),()=>{n?.get(t)?.has(e)&&(n.get(t).delete(e),this.$["*loadingOperations"]=n)}}_flush(){window.cancelAnimationFrame(this._raf),this._raf=window.requestAnimationFrame((()=>{for(let e of this._keypoints){let{image:t}=e;t&&(t.style.opacity=e.opacity.toString(),t.style.zIndex=e.zIndex.toString())}}))}async _imageSrc(){let{url:e=this._url,filter:t=this._filter,operation:n,value:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i={...this._transformations};n&&(i[n]=t?{name:t,amount:r}:r);let s=this.offsetWidth;return await this.proxyUrl(bl(e,s,i))}async _constructKeypoint(e,t){return{src:await this._imageSrc({operation:e,value:t}),image:null,opacity:0,zIndex:0,value:t}}_isSame(e,t){return this._operation===e&&this._filter===t}async _addKeypoint(e,t,n){let r=()=>!this._isSame(e,t)||this._value!==n||!!this._keypoints.find((e=>e.value===n));if(r())return;let i=await this._constructKeypoint(e,n),s=new Image;s.src=i.src;let a=this._handleImageLoading(i.src);s.addEventListener("load",a,{once:!0}),s.addEventListener("error",a,{once:!0}),i.image=s,s.classList.add("uc-fader-image"),s.addEventListener("load",(()=>{if(r())return;let t=this._keypoints,a=t.findIndex((e=>e.value>n)),o=a<t.length?t[a].image:null;!this._container||o&&!this._container.contains(o)||(t.splice(a,0,i),this._container.insertBefore(s,o),this._update(e,n))}),{once:!0}),s.addEventListener("error",(()=>{this.$["*networkProblems"]=!0}),{once:!0})}set(e){e="string"===typeof e?parseInt(e,10):e,this._update(this._operation,e),this._addKeypointDebounced(this._operation,this._filter,e)}_update(e,t){this._operation=e,this._value=t;let{zero:n}=Pr[e],r=this._keypoints.map((e=>e.value)),i=function(e,t,n){let r=(i=e,i.reduce(((e,t,n)=>n<i.length-1?[...e,[t,i[n+1]]]:e),[])).find((e=>{let[n,r]=e;return n<=t&&t<=r}));var i;return e.map((e=>{let i=Math.abs(r[0]-r[1]),s=Math.abs(t-r[0])/i;return r[0]===e?t>n?1:1-s:r[1]===e?t>=n?s:1:0}))}(r,t,n),s=function(e,t){return e.map(((n,r)=>n<t?e.length-r:r))}(r,n);for(let[a,o]of Object.entries(this._keypoints))o.opacity=i[a],o.zIndex=s[a];this._flush()}_createPreviewImage(){let e=new Image;return e.classList.add("uc-fader-image","uc-fader-image--preview"),e.style.opacity="0",e}async _initNodes(){let e=document.createDocumentFragment();this._previewImage=this._previewImage||this._createPreviewImage(),!this.contains(this._previewImage)&&e.appendChild(this._previewImage);let t=document.createElement("div");e.appendChild(t);let n=this._keypoints.map((e=>e.src)),{images:r,promise:i,cancel:s}=gl(n);r.forEach((e=>{let t=this._handleImageLoading(e.src);e.addEventListener("load",t),e.addEventListener("error",t)})),this._cancelLastImages=()=>{s(),this._cancelLastImages=void 0};let a=this._operation,o=this._filter;await i,this._isActive&&this._isSame(a,o)&&(this._container&&this._container.remove(),this._container=t,this._keypoints.forEach(((e,t)=>{let n=r[t];n.classList.add("uc-fader-image"),e.image=n,this._container.appendChild(n)})),this.appendChild(e),this._flush())}async setTransformations(e){if(this._transformations=e,this._previewImage){let e=await this._imageSrc(),t=this._handleImageLoading(e);this._previewImage.src=e,this._previewImage.addEventListener("load",t,{once:!0}),this._previewImage.addEventListener("error",t,{once:!0}),this._previewImage.style.opacity="1",this._previewImage.addEventListener("error",(()=>{this.$["*networkProblems"]=!0}),{once:!0})}}async preload(e){let{url:t,filter:n,operation:r,value:i}=e;this._cancelBatchPreload&&this._cancelBatchPreload();let s=_l(r,i),a=await Promise.all(s.map((e=>this._imageSrc({url:t,filter:n,operation:r,value:e})))),{cancel:o}=gl(a);this._cancelBatchPreload=o}_setOriginalSrc(e){let t=this._previewImage||this._createPreviewImage();if(!this.contains(t)&&this.appendChild(t),this._previewImage=t,t.src===e)return t.style.opacity="1",t.style.transform="scale(1)",void(this.className=sl({"uc-active_from_viewer":this._fromViewer,"uc-active_from_cropper":!this._fromViewer,"uc-inactive_to_cropper":!1}));t.style.opacity="0";let n=this._handleImageLoading(e);t.addEventListener("error",n,{once:!0}),t.src=e,t.addEventListener("load",(()=>{n(),t&&(t.style.opacity="1",t.style.transform="scale(1)",this.className=sl({"uc-active_from_viewer":this._fromViewer,"uc-active_from_cropper":!this._fromViewer,"uc-inactive_to_cropper":!1}))}),{once:!0}),t.addEventListener("error",(()=>{this.$["*networkProblems"]=!0}),{once:!0})}async activate(e){let{url:t,operation:n,value:r,filter:i,fromViewer:s}=e;if(this._isActive=!0,this._hidden=!1,this._url=t,this._operation=n||"initial",this._value=r,this._filter=i,this._fromViewer=s,"number"!==typeof r&&!i){let e=await this._imageSrc({operation:n,value:r});return this._setOriginalSrc(e),void(this._container&&this._container.remove())}this._keypoints=await Promise.all(_l(n,r).map((e=>this._constructKeypoint(n,e)))),this._update(n,r),this._initNodes()}deactivate(){let{hide:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._isActive=!1,this._cancelLastImages&&this._cancelLastImages(),this._cancelBatchPreload&&this._cancelBatchPreload(),e&&!this._hidden?(this._hidden=!0,this._previewImage&&(this._previewImage.style.transform="scale(1)"),this.className=sl({"uc-active_from_viewer":!1,"uc-active_from_cropper":!1,"uc-inactive_to_cropper":!0}),this.addEventListener("transitionend",(()=>{this._container&&this._container.remove()}),{once:!0})):this._container&&this._container.remove()}}class kl extends bs{initCallback(){super.initCallback(),this.addEventListener("wheel",(e=>{e.preventDefault();let{deltaY:t,deltaX:n}=e;Math.abs(n)>1?this.scrollLeft+=n:this.scrollLeft+=t}),{passive:!1}),this.addEventListener("scroll",(()=>{}),{passive:!0})}}kl.template=" <slot></slot> ";class Sl extends bs{constructor(){super(),this.init$={...this.init$,"*sliderEl":null,"*loadingOperations":new Map,"*showSlider":!1,"*currentFilter":pl,"*currentOperation":null,showLoader:!1,filters:Lr,colorOperations:$r,cropOperations:Rr,"*operationTooltip":null,"presence.mainToolbar":!0,"presence.subToolbar":!1,"presence.tabToggles":!0,"presence.tabContent.crop":!1,"presence.tabContent.tuning":!1,"presence.tabContent.filters":!1,"presence.tabToggle.crop":!0,"presence.tabToggle.tuning":!0,"presence.tabToggle.filters":!0,"presence.subTopToolbarStyles":{hidden:"uc-sub-toolbar--top-hidden",visible:"uc-sub-toolbar--visible"},"presence.subBottomToolbarStyles":{hidden:"uc-sub-toolbar--bottom-hidden",visible:"uc-sub-toolbar--visible"},"presence.tabContentStyles":{hidden:"uc-tab-content--hidden",visible:"uc-tab-content--visible"},"presence.tabToggleStyles":{hidden:"uc-tab-toggle--hidden",visible:"uc-tab-toggle--visible"},"presence.tabTogglesStyles":{hidden:"uc-tab-toggles--hidden",visible:"uc-tab-toggles--visible"},"on.cancel":()=>{this._cancelPreload?.(),this.$["*on.cancel"]()},"on.apply":()=>{this.$["*on.apply"](this.$["*editorTransformations"])},"on.applySlider":()=>{this.ref["slider-el"].apply(),this._onSliderClose()},"on.cancelSlider":()=>{this.ref["slider-el"].cancel(),this._onSliderClose()},"on.clickTab":e=>{const t=e.currentTarget.getAttribute("data-id");t&&this._activateTab(t,{fromViewer:!1})},tab_role:"tab",[`tab_${Ar.TUNING}`]:`tab_${Ar.TUNING}`,[`tab_${Ar.CROP}`]:`tab_${Ar.CROP}`,[`tab_${Ar.FILTERS}`]:`tab_${Ar.FILTERS}`,cancel:"cancel",apply:"apply","a11y-editor-tab-filters":"a11y-editor-tab-filters","a11y-editor-tab-tuning":"a11y-editor-tab-tuning","a11y-editor-tab-crop":"a11y-editor-tab-crop"},this._debouncedShowLoader=Ur(this._showLoader.bind(this),500)}_onSliderClose(){this.$["*showSlider"]=!1,this.$["*tabId"]===Ar.TUNING&&this.ref["tooltip-el"].classList.toggle("uc-info-tooltip_visible",!1)}_createOperationControl(e){let t=new yl;return t.operation=e,t}_createFilterControl(e){let t=new vl;return t.filter=e,t}_createToggleControl(e){let t=new ul;return t.operation=e,t}_renderControlsList(e){let t=this.ref[`controls-list-${e}`],n=document.createDocumentFragment();e===Ar.CROP?this.$.cropOperations.forEach((e=>{let t=this._createToggleControl(e);n.appendChild(t)})):e===Ar.FILTERS?[pl,...this.$.filters].forEach((e=>{let t=this._createFilterControl(e);n.appendChild(t)})):e===Ar.TUNING&&this.$.colorOperations.forEach((e=>{let t=this._createOperationControl(e);n.appendChild(t)})),[...n.children].forEach(((e,t)=>{t===n.childNodes.length-1&&e.classList.add("uc-controls-list_last-item")})),t.innerHTML="",t.appendChild(n)}_activateTab(e,t){let{fromViewer:n}=t;this.$["*tabId"]=e,e===Ar.CROP?(this.$["*faderEl"].deactivate(),this.$["*cropperEl"].activate(this.$["*imageSize"],{fromViewer:n})):(this.$["*faderEl"].activate({url:this.$["*originalUrl"],fromViewer:n}),this.$["*cropperEl"].deactivate());for(let r of Tr){let t=r===e;this.ref[`tab-toggle-${r}`].active=t,t?(this._renderControlsList(e),this._syncTabIndicator()):this._unmountTabControls(r),this.$[`presence.tabContent.${r}`]=t}}_unmountTabControls(e){let t=this.ref[`controls-list-${e}`];t&&(t.innerHTML="")}_syncTabIndicator(){let e=this.ref[`tab-toggle-${this.$["*tabId"]}`];this.ref["tabs-indicator"].style.transform=`translateX(${e.offsetLeft}px)`}async _preloadEditedImage(){if(this.$["*imgContainerEl"]&&this.$["*originalUrl"]){let e=this.$["*imgContainerEl"].offsetWidth,t=await this.proxyUrl(bl(this.$["*originalUrl"],e,this.$["*editorTransformations"]));this._cancelPreload?.();let{cancel:n}=gl([t]);this._cancelPreload=()=>{n(),this._cancelPreload=void 0}}}_showLoader(e){this.$.showLoader=e}_updateInfoTooltip=(()=>Ur((()=>{const e=this.$["*editorTransformations"],t=this.$["*currentOperation"];let n="",r=!1;if(this.$["*tabId"]===Ar.FILTERS)if(r=!0,this.$["*currentFilter"]&&e?.filter?.name===this.$["*currentFilter"]){let t=e?.filter?.amount||100;n=this.$["*currentFilter"]+" "+t}else n=this.l10n(pl);else if(this.$["*tabId"]===Ar.TUNING&&t){r=!0;let i=e?.[t]||Pr[t].zero;n=this.l10n(t)+" "+i}r&&(this.$["*operationTooltip"]=n),this.ref["tooltip-el"].classList.toggle("uc-info-tooltip_visible",r)}),0))();initCallback(){super.initCallback(),this.$["*sliderEl"]=this.ref["slider-el"],this.sub("*imageSize",(e=>{e&&setTimeout((()=>{this._activateTab(this.$["*tabId"],{fromViewer:!0})}),0)})),this.sub("*editorTransformations",(e=>{let t=e?.filter?.name;this.$["*currentFilter"]!==t&&(this.$["*currentFilter"]=t)})),this.sub("*currentFilter",(()=>{this._updateInfoTooltip()})),this.sub("*currentOperation",(()=>{this._updateInfoTooltip()})),this.sub("*tabId",(()=>{this._updateInfoTooltip()})),this.sub("*originalUrl",(()=>{this.$["*faderEl"]&&this.$["*faderEl"].deactivate()})),this.sub("*editorTransformations",(e=>{this._preloadEditedImage(),this.$["*faderEl"]&&this.$["*faderEl"].setTransformations(e)})),this.sub("*loadingOperations",(e=>{let t=!1;for(let[,n]of e.entries()){if(t)break;for(let[,e]of n.entries())if(e){t=!0;break}}this._debouncedShowLoader(t)})),this.sub("*showSlider",(e=>{this.$["presence.subToolbar"]=e,this.$["presence.mainToolbar"]=!e})),this.sub("*tabList",(e=>{this.$["presence.tabToggles"]=e.length>1;for(const t of Tr){this.$[`presence.tabToggle.${t}`]=e.includes(t);this.ref[`tab-toggle-${t}`].style.gridColumn=e.indexOf(t)+1}e.includes(this.$["*tabId"])||this._activateTab(e[0],{fromViewer:!1})})),this._updateInfoTooltip()}destroyCallback(){this.$["*showSlider"]=!1}}Sl.template=`\n  <uc-line-loader-ui set="active: showLoader"></uc-line-loader-ui>\n  <div class="uc-info-tooltip_container">\n    <div class="uc-info-tooltip_wrapper">\n      <div ref="tooltip-el" class="uc-info-tooltip uc-info-tooltip_hidden">{{*operationTooltip}}</div>\n    </div>\n  </div>\n  <div class="uc-toolbar-container">\n    <uc-presence-toggle\n      role="tablist"\n      class="uc-sub-toolbar"\n      set="visible: presence.mainToolbar; styles: presence.subTopToolbarStyles"\n    >\n      <div class="uc-tab-content-row">${Tr.map((function(e){return`\n    <uc-presence-toggle\n      id="tab_${e}"\n      class="uc-tab-content"\n      set="visible: presence.tabContent.${e}; styles: presence.tabContentStyles"\n    >\n      <uc-editor-scroller hidden-scrollbar>\n        <div class="uc-controls-list_align">\n          <div\n            role="listbox"\n            aria-orientation="horizontal"\n            class="uc-controls-list_inner"\n            ref="controls-list-${e}"\n          ></div>\n        </div>\n      </uc-editor-scroller>\n    </uc-presence-toggle>\n  `})).join("")}</div>\n      <div class="uc-controls-row">\n        <uc-presence-toggle\n          class="uc-tab-toggles"\n          set="visible: presence.tabToggles; styles: presence.tabTogglesStyles"\n        >\n          <div ref="tabs-indicator" class="uc-tab-toggles_indicator"></div>\n          ${Tr.map((function(e){return`\n    <uc-presence-toggle\n      class="uc-tab-toggle"\n      set="visible: presence.tabToggle.${e}; styles: presence.tabToggleStyles;"\n    >\n      <uc-btn-ui\n        theme="tab"\n        ref="tab-toggle-${e}"\n        data-id="${e}"\n        icon="${e}"\n        set="onclick: on.clickTab; aria-role:tab_role; aria-controls:tab_${e}; title-prop: a11y-editor-tab-${e}"\n      >\n      </uc-btn-ui>\n    </uc-presence-toggle>\n  `})).join("")}\n        </uc-presence-toggle>\n        <uc-btn-ui style="order: -1" theme="secondary-icon" icon="closeMax" set="onclick: on.cancel; title-prop:cancel">\n        </uc-btn-ui>\n        <uc-btn-ui theme="primary-icon" icon="done" set="onclick: on.apply; title-prop:apply"> </uc-btn-ui>\n      </div>\n    </uc-presence-toggle>\n    <uc-presence-toggle\n      class="uc-sub-toolbar"\n      set="visible: presence.subToolbar; styles: presence.subBottomToolbarStyles"\n    >\n      <div class="uc-slider">\n        <uc-editor-slider ref="slider-el"></uc-editor-slider>\n      </div>\n      <div class="uc-controls-row">\n        <uc-btn-ui theme="secondary" set="onclick: on.cancelSlider" l10n="@text:cancel"> </uc-btn-ui>\n        <uc-btn-ui theme="primary" set="onclick: on.applySlider" l10n="@text:apply"> </uc-btn-ui>\n      </div>\n    </uc-presence-toggle>\n  </div>\n`;class El extends bs{constructor(){super(),this._iconReversed=!1,this._iconSingle=!1,this._iconHidden=!1,this.init$={...this.init$,text:"",icon:"",iconCss:this._iconCss(),theme:null,"aria-role":"","aria-controls":"","title-prop":""},this.defineAccessor("active",(e=>{e?this.setAttribute("active",""):this.removeAttribute("active")}))}_iconCss(){return sl("uc-icon",{"uc-icon_left":!this._iconReversed,"uc-icon_right":this._iconReversed,"uc-icon_hidden":this._iconHidden,"uc-icon_single":this._iconSingle})}initCallback(){super.initCallback(),this.sub("icon",(e=>{this._iconSingle=!this.$.text,this._iconHidden=!e,this.$.iconCss=this._iconCss()})),this.sub("theme",(e=>{"custom"!==e&&(this.className=`uc-${e}`)})),this.sub("text",(e=>{this._iconSingle=!1})),this.hasAttribute("theme")||this.setAttribute("theme","default"),this.defineAccessor("aria-role",(e=>{this.$["aria-role"]=e||""})),this.defineAccessor("aria-controls",(e=>{this.$["aria-controls"]=e||""})),this.defineAccessor("title-prop",(e=>{this.$["title-prop"]=e||""}))}set reverse(e){this.hasAttribute("reverse")?(this.style.flexDirection="row-reverse",this._iconReversed=!0):(this._iconReversed=!1,this.style.flexDirection=null)}}El.bindAttributes({text:"text",icon:"icon",reverse:"reverse",theme:"theme"}),El.template='\n  <button\n    type="button"\n    set="@role:aria-role; @aria-controls: aria-controls; @aria-label:title-prop"\n    l10n="@title:title-prop;"\n  >\n    <uc-icon set="className: iconCss; @name: icon; @hidden: !icon"></uc-icon>\n    <div class="uc-text">{{text}}</div>\n  </button>\n';class Al extends bs{constructor(){super(),this._active=!1,this._handleTransitionEndRight=()=>{let e=this.ref["line-el"];e.style.transition="initial",e.style.opacity="0",e.style.transform="translateX(-101%)",this._active&&this._start()}}initCallback(){super.initCallback(),this.defineAccessor("active",(e=>{"boolean"===typeof e&&(e?this._start():this._stop())}))}_start(){this._active=!0;let{width:e}=this.getBoundingClientRect(),t=this.ref["line-el"];t.style.transition="transform 1s",t.style.opacity="1",t.style.transform=`translateX(${e}px)`,t.addEventListener("transitionend",this._handleTransitionEndRight,{once:!0})}_stop(){this._active=!1}}Al.template='\n  <div class="uc-inner">\n    <div class="uc-line" ref="line-el"></div>\n  </div>\n';const Tl="uc-transition",$l="uc-visible",Ll="uc-hidden";class Rl extends bs{constructor(){super(),this._visible=!1,this._visibleStyle=$l,this._hiddenStyle=Ll,this._externalTransitions=!1,this.defineAccessor("styles",(e=>{e&&(this._externalTransitions=!0,this._visibleStyle=e.visible,this._hiddenStyle=e.hidden)})),this.defineAccessor("visible",(e=>{"boolean"===typeof e&&(this._visible=e,this._handleVisible())}))}_handleVisible(){this.style.visibility=this._visible?"inherit":"hidden",function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i=il(...n);for(let s of Object.keys(i))e.classList.toggle(s,i[s])}(this,{[Tl]:!this._externalTransitions,[this._visibleStyle]:this._visible,[this._hiddenStyle]:!this._visible}),this.setAttribute("aria-hidden",this._visible?"false":"true")}initCallback(){super.initCallback(),this.classList.toggle("uc-initial",!0),this._externalTransitions||this.classList.add(Tl),this._handleVisible(),setTimeout((()=>{this.classList.toggle("uc-initial",!1)}),0)}}Rl.template="<slot></slot> ";class Pl extends bs{init$={...this.init$,disabled:!1,min:0,max:100,onInput:null,onChange:null,defaultValue:null,"on.sliderInput":()=>{let e=parseInt(this.ref["input-el"].value,10);this._updateValue(e),this.$.onInput&&this.$.onInput(e)},"on.sliderChange":()=>{let e=parseInt(this.ref["input-el"].value,10);this.$.onChange&&this.$.onChange(e)}};constructor(){super(),this.setAttribute("with-effects","")}initCallback(){super.initCallback(),this.defineAccessor("disabled",(e=>{this.$.disabled=e})),this.defineAccessor("min",(e=>{this.$.min=e})),this.defineAccessor("max",(e=>{this.$.max=e})),this.defineAccessor("defaultValue",(e=>{this.$.defaultValue=e,this.ref["input-el"].value=e,this._updateValue(e)})),this.defineAccessor("zero",(e=>{this._zero=e})),this.defineAccessor("onInput",(e=>{e&&(this.$.onInput=e)})),this.defineAccessor("onChange",(e=>{e&&(this.$.onChange=e)})),this._updateSteps(),this._observer=new ResizeObserver((()=>{this._updateSteps();let e=parseInt(this.ref["input-el"].value,10);this._updateValue(e)})),this._observer.observe(this),this._thumbSize=parseInt(window.getComputedStyle(this).getPropertyValue("--l-thumb-size"),10),setTimeout((()=>{let e=parseInt(this.ref["input-el"].value,10);this._updateValue(e)}),0),this.sub("disabled",(e=>{let t=this.ref["input-el"];e?t.setAttribute("disabled","disabled"):t.removeAttribute("disabled")}));let e=this.ref["input-el"];e.addEventListener("focus",(()=>{this.style.setProperty("--color-effect","var(--hover-color-rgb)")})),e.addEventListener("blur",(()=>{this.style.setProperty("--color-effect","var(--idle-color-rgb)")}))}_updateValue(e){this._updateZeroDot(e);let{width:t}=this.getBoundingClientRect(),n=100/(this.$.max-this.$.min)*(e-this.$.min)*(t-this._thumbSize)/100;window.requestAnimationFrame((()=>{this.ref["thumb-el"].style.transform=`translateX(${n}px)`}))}_updateZeroDot(e){if(!this._zeroDotEl)return;e===this._zero?this._zeroDotEl.style.opacity="0":this._zeroDotEl.style.opacity="1";let{width:t}=this.getBoundingClientRect(),n=100/(this.$.max-this.$.min)*(this._zero-this.$.min)*(t-this._thumbSize)/100;window.requestAnimationFrame((()=>{this._zeroDotEl.style.transform=`translateX(${n}px)`}))}_updateSteps(){let e=this.ref["steps-el"],{width:t}=e.getBoundingClientRect(),n=Math.ceil(t/2),r=Math.ceil(n/15)-2;if(this._stepsCount===r)return;let i=document.createDocumentFragment(),s=document.createElement("div"),a=document.createElement("div");s.className="uc-minor-step",a.className="uc-border-step",i.appendChild(a);for(let l=0;l<r;l++)i.appendChild(s.cloneNode());i.appendChild(a.cloneNode());for(let l=0;l<r;l++)i.appendChild(s.cloneNode());i.appendChild(a.cloneNode());let o=document.createElement("div");o.className="uc-zero-dot",i.appendChild(o),this._zeroDotEl=o,e.innerHTML="",e.appendChild(i),this._stepsCount=r}destroyCallback(){super.destroyCallback(),this._observer?.disconnect()}}Pl.template='\n  <div class="uc-steps" ref="steps-el"></div>\n  <div ref="thumb-el" class="uc-thumb"></div>\n  <input\n    class="uc-input"\n    type="range"\n    ref="input-el"\n    set="oninput: on.sliderInput; onchange: on.sliderChange; @min: min; @max: max; @value: defaultValue;"\n  />\n';class Nl extends wa{couldBeCtxOwner=!0;activityType=(()=>Cs.activities.CLOUD_IMG_EDIT)();_entry;_instance;get activityParams(){const e=super.activityParams;if("internalId"in e)return e;throw new Error("Cloud Image Editor activity params not found")}initCallback(){super.initCallback(),this.registerActivity(this.activityType,{onActivate:()=>this.mountEditor(),onDeactivate:()=>this.unmountEditor()}),this.subConfigValue("cropPreset",(e=>{this._instance&&this._instance.getAttribute("crop-preset")!==e&&this._instance.setAttribute("crop-preset",e)})),this.subConfigValue("cloudImageEditorTabs",(e=>{this._instance&&this._instance.getAttribute("tabs")!==e&&this._instance.setAttribute("tabs",e)}))}handleApply(e){if(!this._entry)return;let t=e.detail;this._entry.setMultipleValues({cdnUrl:t.cdnUrl,cdnUrlModifiers:t.cdnUrlModifiers}),this.historyBack()}handleCancel(){this.historyBack()}mountEditor(){const{internalId:e}=this.activityParams;if(this._entry=this.uploadCollection.read(e),!this._entry)throw new Error(`Entry with internalId "${e}" not found`);const t=this._entry.getValue("cdnUrl");if(!t)throw new Error(`Entry with internalId "${e}" hasn't uploaded yet`);const n=new ol,r=this.cfg.cropPreset,i=this.cfg.cloudImageEditorTabs;n.setAttribute("ctx-name",this.ctxName),n.setAttribute("cdn-url",t),r&&n.setAttribute("crop-preset",r),i&&n.setAttribute("tabs",i),n.addEventListener("apply",(e=>{const t=e;this.handleApply(t),this.debugPrint('editor event "apply"',t.detail)})),n.addEventListener("cancel",(e=>{const t=e;this.handleCancel(),this.debugPrint('editor event "cancel"',t.detail)})),n.addEventListener("change",(e=>{const t=e;this.debugPrint('editor event "change"',t.detail)})),this.innerHTML="",this.appendChild(n),this._instance=n}unmountEditor(){this._instance=void 0,this._entry=void 0,this.innerHTML=""}}const Ol=function(e){return e.replace(/[\\-\\[]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},Il=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i";const n=e.split("*").map(Ol);return new RegExp("^"+n.join(".+")+"$",t)};const Ml=["--uc-font-family","--uc-font-size","--uc-line-height","--uc-button-size","--uc-preview-size","--uc-input-size","--uc-padding","--uc-radius","--uc-transition","--uc-background","--uc-foreground","--uc-primary","--uc-primary-hover","--uc-primary-transparent","--uc-primary-foreground","--uc-secondary","--uc-secondary-hover","--uc-secondary-foreground","--uc-muted","--uc-muted-foreground","--uc-destructive","--uc-destructive-foreground","--uc-border"];function jl(e){return Ml.reduce(((t,n)=>{const r=function(e,t){return window.getComputedStyle(e).getPropertyValue(t).trim()}(e,n);return r&&(t[n]=r),t}),{})}const Ul=["selected-files-change"];class Dl{_handlerMap=(()=>new Map)();_context;constructor(e){this._context=e,window.addEventListener("message",this._handleMessage)}_handleMessage=e=>{if(e.source!==this._context)return;const t=e.data;if(!(e=>!!e&&"object"===typeof e&&"type"in e&&Ul.includes(e.type))(t))return;const n=this._handlerMap.get(t.type);if(n)for(const r of n)r(t)};on(e,t){const n=this._handlerMap.get(e)??new Set;this._handlerMap.has(e)||this._handlerMap.set(e,n),n.add(t)}send(e){this._context.postMessage(e,"*")}destroy(){window.removeEventListener("message",this._handleMessage)}}class Fl extends wa{couldBeCtxOwner=!0;activityType=(()=>Cs.activities.EXTERNAL)();constructor(){super(),this.init$={...this.init$,activityIcon:"",activityCaption:"",selectedList:[],total:0,isSelectionReady:!1,isDoneBtnEnabled:!1,couldSelectAll:!1,couldDeselectAll:!1,showSelectionStatus:!1,counterText:"",doneBtnTextClass:"uc-hidden",onDone:()=>{for(const e of this.$.selectedList){const t=this.extractUrlFromSelectedFile(e),{filename:n}=e,{externalSourceType:r}=this.activityParams;this.api.addFileFromUrl(t,{fileName:n,source:r})}this.$["*currentActivity"]=Cs.activities.UPLOAD_LIST},onCancel:()=>{this.historyBack()},onSelectAll:()=>{this._messageBridge?.send({type:"select-all"})},onDeselectAll:()=>{this._messageBridge?.send({type:"deselect-all"})}}}get activityParams(){const e=super.activityParams;if("externalSourceType"in e)return e;throw new Error("External Source activity params not found")}initCallback(){super.initCallback(),this.registerActivity(this.activityType,{onActivate:()=>{let{externalSourceType:e}=this.activityParams;if(!e)return this.$["*currentActivity"]=null,this.setOrAddState("*modalActive",!1),void console.error(`Param "externalSourceType" is required for activity "${this.activityType}"`);this.set$({activityCaption:`${e?.[0].toUpperCase()}${e?.slice(1)}`,activityIcon:e}),this.mountIframe()}}),this.sub("*currentActivityParams",(e=>{this.isActivityActive&&(this.unmountIframe(),this.mountIframe())})),this.sub("*currentActivity",(e=>{e!==this.activityType&&this.unmountIframe()})),this.subConfigValue("multiple",(e=>{this.$.showSelectionStatus=e})),this.subConfigValue("localeName",(e=>{this.setupL10n()})),this.subConfigValue("externalSourcesEmbedCss",(e=>{this.applyEmbedCss(e)}))}extractUrlFromSelectedFile(e){if(e.alternatives){const t=br(this.cfg.externalSourcesPreferredTypes);for(const n of t){const t=Il(n);for(const[n,r]of Object.entries(e.alternatives))if(t.test(n))return r}}return e.url}async handleSelectedFilesChange(e){this.cfg.multiple===e.isMultipleMode?(this.bindL10n("counterText",(()=>this.l10n("selected-count",{count:e.selectedCount,total:e.total}))),this.set$({doneBtnTextClass:e.isReady?"":"uc-hidden",isSelectionReady:e.isReady,isDoneBtnEnabled:e.isReady&&e.selectedFiles.length>0,showSelectionStatus:e.isMultipleMode&&e.total>0,couldSelectAll:e.selectedCount<e.total,couldDeselectAll:e.selectedCount===e.total,selectedList:e.selectedFiles})):console.error("Multiple mode mismatch")}handleIframeLoad(){this.applyEmbedCss(this.cfg.externalSourcesEmbedCss),this.applyTheme(),this.setupL10n()}applyTheme(){this._messageBridge?.send({type:"set-theme-definition",theme:jl(this)})}applyEmbedCss(e){this._messageBridge?.send({type:"set-embed-css",css:e})}setupL10n(){this._messageBridge?.send({type:"set-locale-definition",localeDefinition:this.cfg.localeName})}remoteUrl(){const{pubkey:e,remoteTabSessionKey:t,socialBaseUrl:n,multiple:r}=this.cfg,{externalSourceType:i}=this.activityParams,s={lang:this.l10n("social-source-lang")?.split("-")?.[0]||"en",public_key:e,images_only:(!1).toString(),session_key:t,wait_for_theme:!0,multiple:r.toString()},a=new URL(`/window4/${i}`,n);return a.search=function(e){let t=[];for(let[n,r]of Object.entries(e))void 0===r||null===r||"string"===typeof r&&0===r.length||t.push(`${n}=${encodeURIComponent(r)}`);return t.join("&")}(s),a.toString()}mountIframe(){let e=ir({tag:"iframe",attributes:{src:this.remoteUrl(),marginheight:0,marginwidth:0,frameborder:0,allowTransparency:!0}});e.addEventListener("load",this.handleIframeLoad.bind(this)),this.ref.iframeWrapper.innerHTML="",this.ref.iframeWrapper.appendChild(e),e.contentWindow&&(this._messageBridge?.destroy(),this._messageBridge=new Dl(e.contentWindow),this._messageBridge.on("selected-files-change",this.handleSelectedFilesChange.bind(this)),this.resetSelectionStatus())}unmountIframe(){this._messageBridge?.destroy(),this._messageBridge=void 0,this.ref.iframeWrapper.innerHTML="",this.resetSelectionStatus()}resetSelectionStatus(){this.set$({selectedList:[],total:0,isDoneBtnEnabled:!1,couldSelectAll:!1,couldDeselectAll:!1,showSelectionStatus:!1})}}Fl.template='\n  <uc-activity-header>\n    <button\n      type="button"\n      class="uc-mini-btn uc-close-btn"\n      set="onclick: *historyBack"\n      l10n="@title:a11y-activity-header-button-close;@aria-label:a11y-activity-header-button-close"\n    >\n      <uc-icon name="close"></uc-icon>\n    </button>\n  </uc-activity-header>\n  <div class="uc-content">\n    <div ref="iframeWrapper" class="uc-iframe-wrapper"></div>\n    <div class="uc-toolbar">\n      <button type="button" class="uc-cancel-btn uc-secondary-btn" set="onclick: onCancel" l10n="cancel"></button>\n      <div set="@hidden: !showSelectionStatus" class="uc-selection-status-box">\n        <span>{{counterText}}</span>\n        <button type="button" set="onclick: onSelectAll; @hidden: !couldSelectAll" l10n="select-all"></button>\n        <button type="button" set="onclick: onDeselectAll; @hidden: !couldDeselectAll" l10n="deselect-all"></button>\n      </div>\n      <button type="button" class="uc-done-btn uc-primary-btn" set="onclick: onDone; @disabled: !isDoneBtnEnabled;">\n        <uc-spinner set="@hidden: isSelectionReady"></uc-spinner>\n        <span l10n="done" set="@class: doneBtnTextClass"></span>\n      </button>\n    </div>\n  </div>\n';class zl extends wa{requireCtxName=!0;_createValidationInput(){const e=document.createElement("input");return e.type="text",e.name=this.ctxName,e.required=this.cfg.multipleMin>0,e.tabIndex=-1,rr(e,{opacity:0,height:0,width:0}),e}initCallback(){super.initCallback(),this._validationInputElement=this._createValidationInput(),this.appendChild(this._validationInputElement),this.sub("*collectionState",(e=>{{if(this._dynamicInputsContainer||(this._dynamicInputsContainer=document.createElement("div"),this.appendChild(this._dynamicInputsContainer)),!this._validationInputElement){const e=this._createValidationInput();this.appendChild(e),this._validationInputElement=e}if(this._dynamicInputsContainer.innerHTML="","uploading"===e.status||"idle"===e.status)return this._validationInputElement.value="",void this._validationInputElement.setCustomValidity("");if("failed"===e.status){const t=e.errors[0]?.message;return this._validationInputElement.value="",void this._validationInputElement.setCustomValidity(t)}const t=e.group?e.group:null;if(t)return this._validationInputElement.value=t.cdnUrl,void this._validationInputElement.setCustomValidity("");const n=e.allEntries.map((e=>e.cdnUrl));if(!this.cfg.multiple&&1===n.length)return this._validationInputElement.value=n[0],void this._validationInputElement.setCustomValidity("");this._validationInputElement.remove(),this._validationInputElement=null;const r=new DocumentFragment;for(let e of n){const t=document.createElement("input");t.type="hidden",t.name=`${this.ctxName}[]`,t.value=e,r.appendChild(t)}this._dynamicInputsContainer.replaceChildren(r)}}),!1)}}class Vl extends Cs{}class Bl extends bs{init$={...this.init$,currentText:"",options:[],selectHtml:"",onSelect:e=>{e.preventDefault(),e.stopPropagation(),this.value=this.ref.select.value,this.$.currentText=this.$.options.find((e=>e.value==this.value))?.text||"",this.dispatchEvent(new Event("change"))}};initCallback(){super.initCallback(),this.sub("options",(e=>{this.$.currentText=e?.[0]?.text||"";let t="";e?.forEach((e=>{t+=`<option value="${e.value}">${e.text}</option>`})),this.$.selectHtml=t}))}}Bl.template=' <select ref="select" set="innerHTML: selectHtml; onchange: onSelect"></select> ';class Hl extends bs{initCallback(){super.initCallback(),this.subConfigValue("removeCopyright",(e=>{this.toggleAttribute("hidden",!!e)}))}static template='\n    <a\n      href="https://uploadcare.com/?utm_source=copyright&utm_medium=referral&utm_campaign=v4"\n      target="_blank noopener"\n      class="uc-credits"\n      >Powered by Uploadcare</a\n    >\n  '}class ql extends tr{}ql.template=' <div class="uc-spinner"></div> ';class Wl extends ws{static styleAttrs=(()=>[...super.styleAttrs,"uc-file-uploader-regular"])();constructor(){super(),this.init$={...this.init$,isHidden:!1}}initCallback(){super.initCallback(),this.defineAccessor("headless",(e=>{this.set$({isHidden:ka(e)})})),this.sub("*modalActive",(e=>{this._lastModalActive!==e&&this.emit(e?Mr.MODAL_OPEN:Mr.MODAL_CLOSE,void 0,{debounce:!0}),this._lastModalActive=e}),!1)}}Wl.template='\n  <uc-simple-btn set="@hidden: isHidden"></uc-simple-btn>\n\n  <uc-modal strokes block-body-scrolling>\n    <uc-start-from>\n      <uc-drop-area with-icon clickable></uc-drop-area>\n      <uc-source-list role="list" wrap></uc-source-list>\n      <button type="button" l10n="start-from-cancel" class="uc-secondary-btn" set="onclick: *historyBack"></button>\n      <uc-copyright></uc-copyright>\n    </uc-start-from>\n    <uc-upload-list></uc-upload-list>\n    <uc-camera-source></uc-camera-source>\n    <uc-url-source></uc-url-source>\n    <uc-external-source></uc-external-source>\n    <uc-cloud-image-editor-activity></uc-cloud-image-editor-activity>\n  </uc-modal>\n',Wl.bindAttributes({headless:null});class Kl extends ws{static styleAttrs=(()=>[...super.styleAttrs,"uc-file-uploader-minimal"])();initCallback(){super.initCallback();const e=this.ref.uBlock;this.sub("*currentActivity",(t=>{t||(this.$["*currentActivity"]=e.initActivity||Cs.activities.START_FROM)})),this.sub("*uploadList",(t=>{this.$["*currentActivity"]=t?.length>0?Cs.activities.UPLOAD_LIST:e.initActivity||Cs.activities.START_FROM})),this.subConfigValue("sourceList",(e=>{"local"!==e&&(this.cfg.sourceList="local")})),this.subConfigValue("confirmUpload",(e=>{!1!==e&&(this.cfg.confirmUpload=!1)}))}}Kl.template='\n  <uc-start-from>\n    <uc-drop-area tabindex="0" clickable l10n="choose-file"></uc-drop-area>\n    <uc-copyright></uc-copyright>\n  </uc-start-from>\n  <uc-upload-list ref="uBlock"></uc-upload-list>\n';class Gl extends ws{static styleAttrs=(()=>[...super.styleAttrs,"uc-file-uploader-inline"])();constructor(){super(),this.init$={...this.init$,couldCancel:!1,cancel:()=>{this.couldHistoryBack?this.$["*historyBack"]():this.couldShowList&&(this.$["*currentActivity"]=Cs.activities.UPLOAD_LIST)}}}get couldHistoryBack(){const e=this.$["*history"];return e.length>1&&e[e.length-1]!==Cs.activities.START_FROM}get couldShowList(){return this.cfg.showEmptyList||this.$["*uploadList"].length>0}initCallback(){super.initCallback();const e=this.ref.uBlock;this.sub("*currentActivity",(t=>{t||(this.$["*currentActivity"]=e.initActivity||Cs.activities.START_FROM)})),this.sub("*uploadList",(t=>{t?.length>0&&this.$["*currentActivity"]===(e.initActivity||Cs.activities.START_FROM)&&(this.$["*currentActivity"]=Cs.activities.UPLOAD_LIST)})),this.sub("*history",(()=>{this.$.couldCancel=this.couldHistoryBack||this.couldShowList}))}}Gl.template='\n  <uc-start-from>\n    <uc-drop-area with-icon clickable></uc-drop-area>\n    <uc-source-list role="list" wrap></uc-source-list>\n    <button\n      type="button"\n      l10n="start-from-cancel"\n      class="uc-cancel-btn uc-secondary-btn"\n      set="onclick: cancel; @hidden: !couldCancel"\n    ></button>\n    <uc-copyright></uc-copyright>\n  </uc-start-from>\n  <uc-upload-list ref="uBlock"></uc-upload-list>\n  <uc-camera-source></uc-camera-source>\n  <uc-url-source></uc-url-source>\n  <uc-external-source></uc-external-source>\n  <uc-cloud-image-editor-activity></uc-cloud-image-editor-activity>\n';class Xl extends ol{static styleAttrs=(()=>[...super.styleAttrs,"uc-wgt-common"])();initCallback(){super.initCallback(),this.a11y?.registerBlock(this)}}const Ql="UC";async function Zl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(((n,r)=>{if("object"!==typeof document)return void n(null);if("object"===typeof window&&window[Ql])return void n(window[Ql]);let i=document.createElement("script");i.async=!0,i.src=e,i.onerror=()=>{r()},i.onload=()=>{let e=window[Ql];t&&In(e),n(e)},document.head.appendChild(i)}))}const Jl=new Set(["children","ref","style","className"]),Yl=new WeakMap,ec=e=>{let{node:t,nameProp:n,valueProp:r,prevValueProp:i,event:s}=e;if(void 0===s)t[n]=r,null==r&&n in HTMLElement.prototype&&t.removeAttribute(n);else if(r!==i){const e=(e=>{let t=Yl.get(e);return void 0===t&&(t=new Map,Yl.set(e,t)),t})(t),n=e.has(s);let i=e.get(s);void 0!==r?n?i.handleEvent=r:(i={handleEvent:r},e.set(s,i),t.addEventListener(s,(e=>i.handleEvent(e.detail)))):n&&(e.delete(s),t.removeEventListener(s,i))}},tc=e=>{let{react:t,tag:n,elClass:r,schemaEvents:i}=e;const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null==Object?void 0:Object.keys(e).reduce(((t,n)=>{var r,i;const s=null==e?void 0:e[n],a=`on${null==(i=null==(r=null==s?void 0:s.split("-"))?void 0:r.map((e=>e.charAt(0).toUpperCase()+e.slice(1))))?void 0:i.join("")}`;return t[a]=s,t}),{})}(i),a=new Set(Object.keys(s??{})),o=t.forwardRef(((e,i)=>{const o=t.useRef(new Map),l=t.useRef(null),{reactProps:c,customElProps:u}=((e,t,n)=>{const r={},i={};return Object.entries(e).forEach((e=>{let[s,a]=e;Jl.has(s)?r["className"===s?"class":s]=a:t.has(s)||s in n.prototype?i[s]=a:r[s]=a})),{reactProps:r,customElProps:i}})(e,a,r);return t.useLayoutEffect((()=>{if(null===l.current)return;const t=new Map;for(const n in u)ec({node:l.current,nameProp:n,valueProp:u[n],prevValueProp:o.current.get(n),event:s[n]}),o.current.delete(n),t.set(n,e[n]);for(const[e,n]of o.current)ec({node:l.current,nameProp:e,valueProp:void 0,prevValueProp:n,event:s[e]});o.current=t})),t.createElement(n??r.__tag,{...c,ref:t.useCallback((e=>{l.current=e,"function"==typeof i?i(e):null!==i&&(i.current=e)}),[i])})}));return o.displayName=r.name,o},nc=tc({react:t,tag:"uc-config",elClass:Ua}),rc=tc({react:t,tag:"uc-upload-ctx-provider",elClass:el,schemaEvents:el.EventType}),ic=e=>{let{children:t}=e;return t};In(e);tc({react:t,tag:"uc-file-uploader-regular",elClass:Wl});In(e);const sc=tc({react:t,tag:"uc-file-uploader-minimal",elClass:Kl}),ac=e=>{let{ctxName:n,className:r,classNameUploader:i,apiRef:s,fallback:a,...o}=e;const l=(0,t.useMemo)((()=>n??zn.generate()),[n]),{eventHandlers:c,config:u}=(0,t.useMemo)((()=>(e=>{const t={},n={},r={};for(const[i,s]of Object.entries(e))i.startsWith("on")?t[i]=s:"headless"!==i?n[i]=s:r[i]=s;return{eventHandlers:t,uploader:r,config:n}})(o)),[o]),d=(()=>{const[e,n]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{typeof window<"u"&&n(!0)}),[]),e})();return t.createElement(ic,{condition:d,fallback:a},t.createElement("div",{className:r},t.createElement(nc,{userAgentIntegration:"React-Uploader/1.4.0","ctx-name":l,...u}),t.createElement(rc,{ref:s,"ctx-name":l,...c}),t.createElement(sc,{class:i,"ctx-name":l})))};In(e);tc({react:t,tag:"uc-file-uploader-inline",elClass:Kl});const oc=function(e){let{onUpload:n}=e;const[i,s]=(0,t.useState)(null),[a,o]=(0,t.useState)("");return(0,r.jsx)("div",{children:(0,r.jsx)(ac,{cameraModes:"photo, video",classNameUploader:"uc-light",pubkey:"d37976c8e2c1d51e2ff7",onChange:async e=>{if(e&&e.allEntries&&e.allEntries.length>0){const r=e.allEntries[0];if(r.isSuccess){const e=r.uuid;try{const t=await Xi(e,{publicKey:"d37976c8e2c1d51e2ff7",store:"auto",metadata:{subsystem:"js-client",pet:"cat"}});if(!t||!t.cdnUrl)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c URL \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430.");{const e=t.cdnUrl;s(e),n(e)}}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",t)}}else o("\u0424\u0430\u0439\u043b \u0432\u0441\u0435 \u0435\u0449\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435.")}else o("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u0430\u0439\u043b \u0434\u043b\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438.")}})})},lc=e=>{let{selectedTagsString:n,onChange:i}=e;const[s,a]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(""),{t:d,i18n:h}=_();(0,t.useEffect)((()=>{(async()=>{const e=await fetch("http://localhost:5000/api/tags"),t=await e.json();a(t)})()}),[]),(0,t.useEffect)((()=>{l(n)}));return(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:d("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0435\u0433\u0438")}),(0,r.jsx)("div",{className:"tag-cloud",children:s.map((e=>(0,r.jsx)("span",{className:"tag "+(o.includes(e.name)?"selected":""),onClick:()=>(e=>{const t=o.includes(e)?o.filter((t=>t!==e)):[...o,e];l(t),i(t)})(e.name),children:e.name},e.id)))}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{style:{width:"200px"},type:"text",value:c,onChange:e=>u(e.target.value),placeholder:d("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u0442\u0435\u0433")}),(0,r.jsx)("button",{onClick:async()=>{if(c)try{const e=await fetch("http://localhost:5000/api/tags",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c})});if(!e.ok)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0442\u0435\u0433\u0430: "+e.status);const t=await e.json();a([...s,t]),u("")}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0442\u0435\u0433\u0430:",e)}},children:d("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")})]})]})},cc=e=>{let{setSelectedUsers:n}=e;const[i,s]=(0,t.useState)([]),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)([]),{t:h,i18n:p}=_();(0,t.useEffect)((()=>{(async()=>{try{const e=await fetch("http://localhost:5000/api/emails"),t=await e.json();s(t)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b:",e)}})()}),[]),(0,t.useEffect)((()=>{d(u)}),[u]);return(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("p",{style:{fontSize:"20px"},children:h("If you want to make your form private, select the email of a user:")}),(0,r.jsx)("input",{type:"text",value:a,onChange:async e=>{const t=e.target.value;if(o(t),""!==t.trim())try{const e=await fetch(`http://localhost:5000/api/emails?search=${encodeURIComponent(t)}`),n=await e.json();c(n)}catch(n){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b:",n)}else c([])},placeholder:h("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email"),style:{width:"250px"}})]}),(0,r.jsx)("div",{className:"list-container",children:(0,r.jsx)("ul",{className:"suggestion-list",children:l.map(((e,t)=>(0,r.jsx)("li",{onClick:()=>(e=>{"function"===typeof n?(d((t=>[...t,e])),o(""),c([]),n((t=>[...t,e]))):console.error("setSelectedUsers \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u0435\u0439")})(e),children:e.fullName},t)))})}),u.map(((e,t)=>(0,r.jsxs)("li",{children:[e.fullName,(0,r.jsx)("button",{onClick:()=>{return t=e,d(u.filter((e=>e!==t))),void n(u.filter((e=>e!==t)));var t},style:{width:"60px",height:"31px",padding:"5px",marginLeft:"5px"},children:h("Delete")})]},t)))]})},uc=()=>{const[e,n]=(0,t.useState)(""),[i,s]=(0,t.useState)(""),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)(""),[h,p]=(0,t.useState)([{id:Date.now().toString(),title:"",description:"",type:"singleLine",checkboxes:[{id:String(Date.now()),description:[""]}]}]),[f,m]=(0,t.useState)(null),[g,v]=(0,t.useState)(""),y=localStorage.getItem("userId"),[b,w]=(0,t.useState)([]),[x,C]=(0,t.useState)(!0),k=ct(),{t:S,i18n:E}=_(),A=(e,t,n)=>{p(h.map((r=>r.id===e?{...r,[t]:n}:r)))},T=e=>{switch(e.type){case"singleLine":return(0,r.jsx)("div",{children:(0,r.jsx)("input",{className:"in",type:"text",placeholder:S("\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u0430"),value:e.text,onChange:t=>A(e.id,"description",t.target.value)})});case"multiLine":return(0,r.jsx)("input",{className:"in",type:"text",placeholder:S("\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u0430"),value:e.text,onChange:t=>A(e.id,"description",t.target.value)});case"positiveInteger":return(0,r.jsx)("input",{className:"in",type:"text",placeholder:S("\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u0430"),min:"1",value:e.text,onChange:t=>A(e.id,"description",t.target.value)});case"checkbox":return(0,r.jsxs)("div",{children:[Array.isArray(e.checkboxes)&&e.checkboxes.length>0?e.checkboxes.map((t=>(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"checkbox",disabled:!0,style:{width:"12px",height:"12px",marginLeft:"50px"}}),(0,r.jsx)("input",{type:"text",placeholder:S("\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430"),value:e.text,style:{marginLeft:"5px",height:"3px"},onChange:n=>{const r=h.map((r=>r.id===e.id?{...r,checkboxes:r.checkboxes.map((e=>e.id===t.id?{...e,description:n.target.value}:e))}:r));p(r)}}),(0,r.jsx)("button",{onClick:()=>((e,t)=>{const n=h.map((n=>n.id===e?{...n,checkboxes:n.checkboxes.filter((e=>e.id!==t))}:n));p(n)})(e.id,t.id),children:S("\u0423\u0434\u0430\u043b\u0438\u0442\u044c")})]},t.id))):(0,r.jsx)("p",{children:S("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0447\u0435\u043a\u0431\u043e\u043a\u0441\u044b")}),(0,r.jsx)("button",{type:"button",onClick:()=>(e=>{const t={id:String(Date.now()),description:[""]},n=h.map((n=>n.id===e?{...n,checkboxes:[...n.checkboxes,t]}:n));p(n)})(e.id),children:S("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0447\u0435\u043a\u0431\u043e\u043a\u0441\u044b")})]},e.id)}},$=async(e,t)=>{let n;"checkbox"===t.type&&(n=t.checkboxes.map((e=>e.description||""))),b.length>0&&C(!1);const r=await fetch("http://localhost:5000/api/questions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({form_id:e,question_title:t.title,question_type:t.type,options:n||t.description})});if(!r.ok){const e=await r.text();throw console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u0430:",e),new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u0430")}},L=async(e,t)=>{const n=e.map((e=>e.id)),r=await fetch("http://localhost:5000/api/form_users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({formId:t,userIds:n})});if(!r.ok){const e=await r.text();throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445: "+e)}alert("Success!"),k("/comp/forms")};return(0,r.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),m(""),v("");try{const t=await fetch("http://localhost:5000/api/creation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:y,form_title:e,form_description:i,image_url:a,is_public:x,tags:l,theme:u})});if(!t.ok){const e=await t.text();throw console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430:",e),new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0444\u043e\u0440\u043c\u044b")}const n=(await t.json()).id;await Promise.all(h.map((e=>$(n,e)))),await L(b,n),v("\u0424\u043e\u0440\u043c\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430!"),w([])}catch(f){console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",f),m("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.")}},style:{padding:"20px",border:"1px solid #ccc",borderRadius:"5px",width:"900px",textAlign:"center",marginLeft:"300px"},className:"forms",children:[(0,r.jsx)("h2",{children:S("\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0444\u043e\u0440\u043c\u044b")}),f&&(0,r.jsx)("div",{style:{color:"red"},children:f}),g&&(0,r.jsx)("div",{style:{color:"green"},children:g}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{}),(0,r.jsx)("input",{className:"in",type:"text",placeholder:S("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u043e\u0440\u043c\u044b"),value:e,onChange:e=>n(e.target.value),required:!0})]}),(0,r.jsx)(oc,{onUpload:e=>{o(e)}}),(0,r.jsx)("div",{children:(0,r.jsx)(On,{formDescription:i,onDescriptionChange:e=>{s(e)}})}),(0,r.jsx)("div",{children:(0,r.jsx)("label",{children:(0,r.jsx)("input",{className:"in",type:"text",placeholder:S("\u0422\u0435\u043c\u0430"),value:u,onChange:e=>d(e.target.value),required:!0})})}),(0,r.jsx)("div",{children:(0,r.jsx)(lc,{selectedTagsString:l,onChange:e=>{c(e)}})}),h.map(((e,t)=>(0,r.jsxs)("div",{style:{margin:"20px 0",padding:"10px",border:"1px solid #ccc",borderRadius:"5px"},children:[(0,r.jsx)("div",{children:(0,r.jsx)("label",{children:(0,r.jsx)("input",{className:"in",type:"text",value:e.title||`${S("Question")} \u2116${t+1}`,onChange:t=>A(e.id,"title",t.target.value),required:!0})})}),(0,r.jsx)("div",{children:(0,r.jsx)("label",{children:(0,r.jsxs)("select",{value:e.type,onChange:t=>A(e.id,"type",t.target.value),style:{width:"220px",height:"30px",borderRadius:"5px"},children:[(0,r.jsx)("option",{value:"singleLine",children:S("\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u043e\u0447\u043d\u044b\u0439")}),(0,r.jsx)("option",{value:"multiLine",children:S("\u041c\u043d\u043e\u0433\u043e\u0441\u0442\u0440\u043e\u0447\u043d\u044b\u0439")}),(0,r.jsx)("option",{value:"positiveInteger",children:S("\u041f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e")}),(0,r.jsx)("option",{value:"checkbox",children:S("\u0424\u043b\u0430\u0436\u043e\u043a")})]})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{}),(0,r.jsx)("div",{children:T(e)})]}),(0,r.jsx)("button",{type:"button",onClick:()=>{return t=e.id,void p(h.filter((e=>e.id!==t)));var t},children:S("\u0423\u0434\u0430\u043b\u0438\u0442\u044c")})]},e.id))),(0,r.jsx)("button",{type:"button",onClick:()=>{h.length>=20||p([...h,{id:Date.now(),title:"",description:"",type:"singleLine",checkboxes:[]}])},disabled:h.length>=20,children:S("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441")}),(0,r.jsx)(cc,{setSelectedUsers:e=>{w(e),e.length>0&&C(!1)}}),(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{style:{marginRight:"5px"},type:"checkbox",checked:x,onChange:()=>{C((e=>(e&&w([]),!e)))}}),S("\u041e\u0431\u0449\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430\u044f \u0444\u043e\u0440\u043c\u0430")]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",children:S("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0443")})})]})},dc=()=>{const e=localStorage.getItem("userId"),{t:t,i18n:n}=_();return(0,r.jsx)("div",{children:(0,r.jsx)(uc,{userId:e})})},hc=()=>{const{id:e}=ut(),[n,i]=(0,t.useState)(),[s,a]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0),c=localStorage.getItem("userId"),u="true"===localStorage.getItem("isAdmin"),[d,h]=(0,t.useState)([]),p=ct(),{t:f,i18n:m}=_();(0,t.useEffect)((()=>{(async()=>{try{const t=await fetch(`http://localhost:5000/api/formDetails/${e}`),n=await t.json();if("string"===typeof n.tags)try{n.tags=JSON.parse(n.tags)}catch(wc){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0435 tags:",wc),n.tags=[]}i(n);const r=await fetch(`http://localhost:5000/api/questions?formId=${e}`),s=await r.json();a(s)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445:",t)}finally{l(!1)}})()}),[e]),(0,t.useEffect)((()=>{c&&(async()=>{try{const t=await fetch(`http://localhost:5000/api/getUserAccess?formId=${e}&userId=${c}`),n=await t.json();console.log("\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435:",n),h(n)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438 \u0444\u043e\u0440\u043c\u044b:",t)}})()}),[e,c]);return o?(0,r.jsx)("div",{children:f("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430")}):n?(console.log(d),(0,r.jsxs)("div",{style:{padding:"20px",border:"1px solid #ccc",borderRadius:"5px",width:"900px",textAlign:"center",marginLeft:"300px"},className:"forms",children:[(0,r.jsx)("h1",{children:n.form_title}),(0,r.jsx)("img",{src:n.image_url,alt:n.form_title,style:{width:"50%",maxHeight:"300px",objectFit:"cover"}}),(0,r.jsx)("div",{children:(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:n.form_description}})}),(0,r.jsx)("div",{children:Array.isArray(null===n||void 0===n?void 0:n.tags)&&n.tags.map(((e,t)=>(0,r.jsx)("span",{style:{marginRight:"5px",padding:"5px",backgroundColor:"#e0e0e0",borderRadius:"3px",color:"black"},children:e},t)))}),(0,r.jsx)("p",{style:{fontSize:"20px",marginBottom:"30px"},children:n.theme}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:f("\u0412\u043e\u043f\u0440\u043e\u0441\u044b")}),s.map((e=>{const{question_title:t,question_type:n,options:i}=e;let s=[];try{s=JSON.parse(i)}catch(a){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0435 \u043e\u043f\u0446\u0438\u0439:",a)}return Array.isArray(s)&&1===s.length&&Array.isArray(s[0])&&(s=s[0]),(0,r.jsx)("div",{style:{margin:"20px 0",padding:"10px",border:"1px solid #ccc",borderRadius:"5px"},children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:t}),"checkbox"===n?(0,r.jsx)("div",{style:{flexDirection:"column",display:"flex",marginRight:"200px"},children:Array.isArray(s)&&s.length>0?s.map(((e,t)=>(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",value:e,disabled:!0}),e]},t))):(0,r.jsx)("p",{children:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u043e\u043f\u0446\u0438\u0439"})}):(0,r.jsx)("input",{type:"positiveInteger"===n?"number":"text",defaultValue:s[0]||"",readOnly:!0})]})},e.id)}))]}),(0,r.jsx)("div",{children:n.author_id&&n.author_id.toString()!==c&&(1===n.is_public||d.some((e=>e.user_id&&e.user_id.toString()===c)))&&(0,r.jsx)(dn,{to:`/answer/${n.id}`,children:(0,r.jsx)("button",{children:f("\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u0444\u043e\u0440\u043c\u0443")})})}),n.author_id&&n.author_id.toString()===c||u?(0,r.jsx)(dn,{to:`/EditForm/${n.id}`,children:(0,r.jsx)("button",{children:f("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")})}):null,n.author_id&&n.author_id.toString()===c||u?(0,r.jsx)("div",{children:(0,r.jsx)(dn,{to:"/Responses",children:(0,r.jsx)("button",{children:f("\u041e\u0442\u0432\u0435\u0442\u044b \u043d\u0430 \u0444\u043e\u0440\u043c\u0443")})})}):null,(0,r.jsx)("div",{children:(0,r.jsx)("button",{onClick:()=>{p(-1)},children:f("\u041d\u0430\u0437\u0430\u0434")})})]})):(0,r.jsx)("div",{children:f("\u0424\u043e\u0440\u043c\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430")})},pc=()=>{const{id:e}=ut(),[n,i]=(0,t.useState)(),[s,a]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0),c=localStorage.getItem("userId"),[u,d]=(0,t.useState)([]),h=ct(),{t:p}=_();(0,t.useEffect)((()=>{(async()=>{try{const t=await fetch(`http://localhost:5000/api/formDetails/${e}`),n=await t.json();if("string"===typeof n.tags)try{n.tags=JSON.parse(n.tags)}catch(wc){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0435 tags:",wc),n.tags=[]}i(n);const r=await fetch(`http://localhost:5000/api/questions?formId=${e}`),s=await r.json();a(s)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445:",t)}finally{l(!1)}})()}),[e]),(0,t.useEffect)((()=>{c&&(async()=>{try{const t=await fetch(`http://localhost:5000/api/getUserAccess?formId=${e}&userId=${c}`),n=await t.json();console.log("\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435:",n),d(n)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438 \u0444\u043e\u0440\u043c\u044b:",t)}})()}),[e,c]);if(o)return(0,r.jsx)("div",{children:p("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430")});if(!n)return(0,r.jsx)("div",{children:p("\u0424\u043e\u0440\u043c\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430")});n.is_public||n.user_id&&n.user_id.toString();return(0,r.jsxs)("div",{style:{padding:"20px",border:"1px solid #ccc",borderRadius:"5px",width:"900px",textAlign:"center",marginLeft:"300px"},className:"forms",children:[(0,r.jsx)("h1",{children:n.form_title}),(0,r.jsx)("img",{src:n.image_url,alt:n.form_title,style:{width:"50%",maxHeight:"300px",objectFit:"cover"}}),(0,r.jsx)("div",{children:(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:n.form_description}})}),(0,r.jsx)("div",{children:Array.isArray(null===n||void 0===n?void 0:n.tags)&&n.tags.map(((e,t)=>(0,r.jsx)("span",{style:{marginRight:"5px",padding:"5px",backgroundColor:"#e0e0e0",borderRadius:"3px",color:"black"},children:e},t)))}),(0,r.jsx)("p",{style:{fontSize:"20px",marginBottom:"30px"},children:n.theme}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:p("\u0412\u043e\u043f\u0440\u043e\u0441\u044b")}),s.map((e=>{const{question_title:t,question_type:n,options:i}=e;let s=[];try{s=JSON.parse(i)}catch(a){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0435 \u043e\u043f\u0446\u0438\u0439:",a)}return Array.isArray(s)&&1===s.length&&Array.isArray(s[0])&&(s=s[0]),(0,r.jsx)("div",{style:{margin:"20px 0",padding:"10px",border:"1px solid #ccc",borderRadius:"5px"},children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:t}),"checkbox"===n?(0,r.jsx)("div",{style:{flexDirection:"column",display:"flex",marginRight:"200px"},children:Array.isArray(s)&&s.length>0?s.map(((e,t)=>(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",value:e,disabled:!0}),e]},t))):(0,r.jsx)("p",{children:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u043e\u043f\u0446\u0438\u0439"})}):(0,r.jsx)("input",{type:"positiveInteger"===n,defaultValue:s[0]||"",readOnly:!0})]})},e.id)}))]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{onClick:()=>{h(-1)},children:p("\u041d\u0430\u0437\u0430\u0434")})})]})},fc=()=>{const{id:e}=ut(),n=ct(),[i,s]=(0,t.useState)([]),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),[h,p]=(0,t.useState)([]),[f,m]=(0,t.useState)(""),[g,v]=(0,t.useState)(null),[y,b]=(0,t.useState)(!0),[w,x]=(0,t.useState)(""),[C,k]=(0,t.useState)([]),{t:S,i18n:E}=_();(0,t.useEffect)((()=>{(async()=>{try{const t=await fetch(`http://localhost:5000/api/EditForm/${e}`),n=await t.json();if(o(n.form.form_title),c(n.form.form_description),d(n.form.image_url),"string"===typeof n.form.tags){const e=JSON.parse(n.form.tags);p(e),console.log("Parsed selectedTags:",e)}else p(n.form.tags);m(n.form.theme),s(n.questions)}catch(g){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0444\u043e\u0440\u043c\u044b:",g)}})()}),[e]);const A=(e,t,n)=>{console.log(`Updating question ${e}: ${t} = ${n}`),s(i.map((r=>r.id===e?{...r,[t]:n}:r)))},T=e=>{let t;if("string"===typeof e.options)try{t=JSON.parse(e.options)}catch(wc){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430:",wc),t=[]}else t=Array.isArray(e.options)?Array.isArray(e.options[0])&&e.options[0].length>0?e.options[0]:e.options:[];switch(Array.isArray(t)&&1===t.length&&Array.isArray(t[0])&&(t=t[0]),e.question_type){case"singleLine":case"multiLine":case"positiveInteger":return(0,r.jsx)("input",{className:"in",type:"text",placeholder:S("\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u0430"),value:t[0]||"",onChange:t=>A(e.id,"options",[t.target.value])});case"checkbox":return(0,r.jsxs)("div",{children:[Array.isArray(t)&&t.length>0?t.map(((n,i)=>(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"checkbox",disabled:!0}),(0,r.jsx)("input",{style:{marginLeft:"5px",height:"3px"},type:"text",placeholder:S("\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430"),value:n,onChange:n=>((e,n,r)=>{const i=[...t];i[n]=r,A(e,"options",i)})(e.id,i,n.target.value)}),(0,r.jsx)("button",{onClick:()=>((e,n)=>{const r=t.filter(((e,t)=>t!==n));A(e,"options",r)})(e.id,i),children:S("\u0423\u0434\u0430\u043b\u0438\u0442\u044c")})]},i))):(0,r.jsx)("p",{children:S("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0447\u0435\u043a\u0431\u043e\u043a\u0441\u044b")}),(0,r.jsx)("button",{type:"button",onClick:()=>(e=>{const n=[...t,""];A(e,"options",n)})(e.id),children:S("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0447\u0435\u043a\u0431\u043e\u043a\u0441")})]},e.id);default:return null}};return(0,r.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const r={title:a,description:l,image:u||"",is_public:y,tags:h,theme:f,questions:i,selectedUsers:C};try{const t=await fetch(`http://localhost:5000/api/edit-the-form/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(t.ok)x("\u0424\u043e\u0440\u043c\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430!"),n(-1);else{const e=await t.json();console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430:",e),v("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0444\u043e\u0440\u043c\u044b: "+e.message)}}catch(g){v("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445"),console.error(g)}},style:{padding:"20px",border:"1px solid #ccc",borderRadius:"5px",width:"900px",textAlign:"center",marginLeft:"300px"},className:"forms",children:[(0,r.jsx)("h2",{children:S("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0443")}),g&&(0,r.jsx)("div",{style:{color:"red"},children:g}),w&&(0,r.jsx)("div",{style:{color:"green"},children:w}),(0,r.jsx)("div",{children:(0,r.jsx)("input",{className:"in",type:"text",placeholder:S("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u043e\u0440\u043c\u044b"),value:a,onChange:e=>o(e.target.value),required:!0})}),(0,r.jsx)("img",{src:u,alt:a,style:{width:"50%",maxHeight:"300px",objectFit:"cover",marginLeft:"220px",paddingBottom:"20px"}}),(0,r.jsx)(oc,{onUpload:e=>{d(e)}}),(0,r.jsx)("div",{children:(0,r.jsx)(On,{formDescription:l,onDescriptionChange:e=>{c(e)}})}),(0,r.jsx)("div",{children:(0,r.jsx)("label",{children:(0,r.jsx)("input",{className:"in",type:"text",placeholder:S("\u0422\u0435\u043c\u0430"),value:f,onChange:e=>m(e.target.value),required:!0})})}),(0,r.jsx)(lc,{selectedTagsString:h,onChange:e=>{"string"===typeof e||(Array.isArray(e)?p(e):console.error("\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u043c:",e))}}),(0,r.jsx)("h3",{children:S("\u0412\u043e\u043f\u0440\u043e\u0441\u044b")}),i.length>0?i.map(((e,t)=>(0,r.jsxs)("div",{style:{margin:"20px 0",padding:"10px",border:"1px solid #ccc",borderRadius:"5px"},children:[(0,r.jsx)("div",{children:(0,r.jsx)("label",{children:(0,r.jsx)("input",{className:"in",type:"text",placeholder:S("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432\u043f\u0440\u043e\u0441\u0430"),value:e.question_title||` ${t+1}`,onChange:t=>A(e.id,"question_title",t.target.value),required:!0})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:(0,r.jsxs)("select",{value:e.question_type,onChange:t=>A(e.id,"question_type",t.target.value),style:{width:"220px",height:"30px",borderRadius:"5px"},children:[(0,r.jsx)("option",{value:"singleLine",children:S("\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u043e\u0447\u043d\u044b\u0439")}),(0,r.jsx)("option",{value:"multiLine",children:S("\u041c\u043d\u043e\u0433\u043e\u0441\u0442\u0440\u043e\u0447\u043d\u044b\u0439")}),(0,r.jsx)("option",{value:"positiveInteger",children:S("\u041f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e")}),(0,r.jsx)("option",{value:"checkbox",children:S("\u0424\u043b\u0430\u0436\u043e\u043a")})]})}),(0,r.jsx)("div",{children:T(e)})]}),(0,r.jsx)("button",{type:"button",onClick:()=>s(i.filter((t=>t.id!==e.id))),children:S("\u0423\u0434\u0430\u043b\u0438\u0442\u044c")})]},e.id))):(0,r.jsx)("p",{children:S("\u041d\u0435\u0442 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432")}),(0,r.jsx)("button",{type:"button",onClick:()=>{const e={id:String(Date.now()),question_title:"",question_type:"singleLine",options:"[]"};s([...i,e])},disabled:i.length>=20,children:S("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441")}),(0,r.jsx)(cc,{setSelectedUsers:e=>{k(e),e.length>0&&b(!1)}}),(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",checked:y,onChange:()=>{b((e=>(e&&k([]),!e)))}}),S("\u041e\u0431\u0449\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430\u044f \u0444\u043e\u0440\u043c\u0430")]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",children:S("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f")})})]})},mc=()=>{const{t:e,i18n:n}=_(),{id:i}=ut(),[s,a]=(0,t.useState)(null),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!0),d=localStorage.getItem("userId"),[h,p]=(0,t.useState)([]),[f,m]=(0,t.useState)({});(0,t.useEffect)((()=>{(async()=>{try{const e=await fetch(`http://localhost:5000/api/formDetails/${i}`),t=await e.json();if("string"===typeof t.tags)try{t.tags=JSON.parse(t.tags)}catch(wc){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0435 tags:",wc),t.tags=[]}a(t);const n=await fetch(`http://localhost:5000/api/questions?formId=${i}`),r=await n.json();l(r)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445:",e)}finally{u(!1)}})()}),[i]);const g=(e,t)=>{m((n=>({...n,[e]:t})))};if(c)return(0,r.jsx)("div",{children:e("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430")});if(!s)return(0,r.jsx)("div",{children:e("\u0424\u043e\u0440\u043c\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430")});h.includes(d)||s.in_public;return(0,r.jsxs)("div",{style:{padding:"20px",border:"1px solid #ccc",borderRadius:"5px",width:"900px",textAlign:"center",marginLeft:"300px"},className:"forms",children:[(0,r.jsx)("h1",{children:s.form_title}),(0,r.jsx)("img",{src:s.image_url,alt:s.form_title,style:{width:"50%",maxHeight:"300px",objectFit:"cover"}}),(0,r.jsx)("div",{children:(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:s.form_description}})}),(0,r.jsx)("div",{children:Array.isArray(s.tags)&&s.tags.map(((e,t)=>(0,r.jsx)("span",{style:{marginRight:"5px",padding:"5px",backgroundColor:"#e0e0e0",borderRadius:"3px"},children:e},t)))}),(0,r.jsx)("p",{style:{fontSize:"20px",marginBottom:"30px"},children:s.theme}),(0,r.jsx)("h2",{children:e("\u0412\u043e\u043f\u0440\u043e\u0441\u044b")}),o.map((t=>{const{question_title:n,options:i,question_type:s}=t;let a=[];try{"string"===typeof i&&(a=JSON.parse(i))}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0435 \u043e\u043f\u0446\u0438\u0439:",o)}return(0,r.jsxs)("div",{style:{margin:"20px 0",padding:"10px",border:"1px solid #ccc",borderRadius:"5px"},children:[(0,r.jsx)("h3",{children:n}),"singleLine"===s&&(0,r.jsxs)("div",{style:{fontSize:"20px"},children:[(0,r.jsx)("p",{children:a}),(0,r.jsx)("input",{type:"text",value:f[t.id]||"",onChange:e=>g(t.id,e.target.value),placeholder:e("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0442\u0432\u0435\u0442")})]}),"multiLine"===s&&(0,r.jsxs)("div",{style:{fontSize:"20px"},children:[(0,r.jsx)("p",{children:a}),(0,r.jsx)("textarea",{value:f[t.id]||"",onChange:e=>g(t.id,e.target.value),placeholder:e("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0442\u0432\u0435\u0442")})]}),"positiveInteger"===s&&(0,r.jsxs)("div",{style:{fontSize:"20px"},children:[(0,r.jsx)("p",{children:a}),(0,r.jsx)("input",{type:"number",value:f[t.id]||"",onChange:e=>g(t.id,e.target.value),placeholder:e("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0442\u0432\u0435\u0442")})]}),"checkbox"===s&&(0,r.jsx)("div",{style:{flexDirection:"column",display:"flex",marginRight:"200px"},children:Array.isArray(a)&&a.flat().map(((e,n)=>(0,r.jsxs)("label",{style:{display:"block"},children:[(0,r.jsx)("input",{type:"checkbox",value:e,onChange:n=>{const r=n.target.checked?[...f[t.id]||[],e]:(f[t.id]||[]).filter((t=>t!==e));g(t.id,r)}}),e]},n)))})]},t.id)})),(0,r.jsx)(dn,{to:"/comp/forms",children:(0,r.jsx)("button",{onClick:async()=>{const e=Object.entries(f).map((e=>{let[t,n]=e;return{question_id:t,user_id:d,response:Array.isArray(n)?n.join(", "):n}}));try{const t=await fetch("http://localhost:5000/api/answers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445");const n=await t.json();console.log("\u041e\u0442\u0432\u0435\u0442\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b:",n)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",t)}},children:e("\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435")})})]})},gc=e=>{let{formId:n}=e;const[i,s]=(0,t.useState)([]),{t:a}=_();(0,t.useEffect)((()=>{(async()=>{try{const e=await fetch(`http://localhost:5000/api/forms/${n}/responses`),t=await e.json();s(t)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445:",e)}})()}),[n]);const o=i.reduce(((e,t)=>{const n=t.userId;return e[n]||(e[n]={userId:n,userName:t.user_id,responses:[]}),e[n].responses.push(t.response),e}),{});return(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:a("\u041e\u0442\u0432\u0435\u0442\u044b \u043d\u0430 \u0444\u043e\u0440\u043c\u0443")}),(0,r.jsx)("div",{className:"responses-grid",children:Object.values(o).map((e=>(0,r.jsxs)("div",{className:"response-tile",children:[(0,r.jsxs)("h4",{children:["(User ID: ",e.userName,")"]}),(0,r.jsx)("ul",{children:e.responses.map(((e,t)=>(0,r.jsx)("li",{children:e},t)))})]},e.userName)))})]})},vc=()=>{const{i18n:e}=_(),t=t=>{console.log(`Changing language to: ${t}`),e.changeLanguage(t)};return(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{onClick:()=>t("en"),style:{color:"rgb(0, 0, 0)"},children:"En"}),(0,r.jsx)("button",{onClick:()=>t("ru"),style:{color:"rgb(0, 0, 0)",margin:"3px"},children:"Ru"})]})},yc=()=>{const[e,n]=(0,t.useState)([]),i=ct(),{t:s,i18n:a}=_();(0,t.useEffect)((()=>{(async()=>{try{const e=await fetch("http://localhost:5000/api/users"),t=await e.json();n(t)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439:",e)}})()}),[]);return(0,r.jsxs)("div",{className:"users-table-container",children:[(0,r.jsx)("h2",{children:s("Users")}),(0,r.jsxs)("table",{className:"users-table",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"ID"}),(0,r.jsx)("th",{children:s("Name")}),(0,r.jsx)("th",{children:s("Admin status")}),(0,r.jsx)("th",{children:s("Action")})]})}),(0,r.jsx)("tbody",{children:e.map((t=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:t.id}),(0,r.jsx)("td",{children:`${t.first_name} ${t.last_name}`}),(0,r.jsx)("td",{children:t.isAdmin?s("\u0414\u0430"):s("\u041d\u0435\u0442")}),(0,r.jsx)("td",{children:(0,r.jsx)("button",{className:"toggle-admin-button "+(t.isAdmin?"remove":"add"),onClick:()=>(async(t,r)=>{if(41===t)return i("/");try{await fetch(`http://localhost:5000/api/users/${t}/toggleAdmin`,{method:"PUT",body:JSON.stringify({isAdmin:!r}),headers:{"Content-Type":"application/json"}}),n(e.map((e=>e.id===t?{...e,isAdmin:!r}:e)))}catch(s){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0430\u0434\u043c\u0438\u043d\u0430:",s)}})(t.id,t.isAdmin),children:t.isAdmin?s("\u0421\u043d\u044f\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 \u0430\u0434\u043c\u0438\u043d\u0430"):s("\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0430\u0434\u043c\u0438\u043d\u043e\u043c")})})]},t.id)))})]})]})},bc=()=>{const[e,n]=(0,t.useState)(!1),[i,s]=(0,t.useState)(!1),{theme:o}=a(),[l,c]=(0,t.useState)(null);return(0,t.useEffect)((()=>{const e="true"===localStorage.getItem("isAuthenticated"),t="true"===localStorage.getItem("isAdmin"),r=localStorage.getItem("userId");n(e),s(t),c(r),document.documentElement.className=o}),[o]),(0,r.jsxs)(cn,{children:[(0,r.jsx)(k,{}),(0,r.jsx)(vc,{}),(0,r.jsxs)(Tt,{children:[(0,r.jsx)(Et,{path:"/",element:(0,r.jsx)(Cn,{})}),(0,r.jsx)(Et,{path:"/comp/register",element:(0,r.jsx)(wn,{setIsAuthenticated:n})}),(0,r.jsx)(Et,{path:"/comp/login",element:(0,r.jsx)(xn,{setIsAuthenticated:n,handleLogin:e=>{localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userId",e.id),localStorage.setItem("isAdmin",e.isAdmin?"true":"false"),c(e.id),n(!0),s(e.isAdmin)}})}),(0,r.jsx)(Et,{path:"/Ap/:id/*",element:e&&i?(0,r.jsx)($n,{}):null}),(0,r.jsx)(Et,{path:"/Apa/:id/*",element:e||!i?(0,r.jsx)(Rn,{}):(0,r.jsx)(St,{to:"/comp/login"})}),(0,r.jsx)(Et,{path:"/comp/profile/:id",element:e?(0,r.jsx)(Sn,{}):null}),(0,r.jsx)(Et,{path:"/comp/forms",element:(0,r.jsx)(Nn,{})}),(0,r.jsx)(Et,{path:"/create-form",element:(0,r.jsx)(dc,{})}),(0,r.jsx)(Et,{path:"/FormDetails/:id",element:(0,r.jsx)(hc,{})}),(0,r.jsx)(Et,{path:"/FormDetailsAnonim/:id",element:(0,r.jsx)(pc,{})}),(0,r.jsx)(Et,{path:"/EditForm/:id",element:(0,r.jsx)(fc,{})}),(0,r.jsx)(Et,{path:"/answer/:id",element:(0,r.jsx)(mc,{})}),(0,r.jsx)(Et,{path:"/responses",element:(0,r.jsx)(gc,{})}),(0,r.jsx)(Et,{path:"/comp/UserInfEdit",element:(0,r.jsx)(kn,{})}),(0,r.jsx)(Et,{path:"/comp/UsersTable",element:(0,r.jsx)(yc,{})}),(0,r.jsx)(Et,{path:"*",element:(0,r.jsx)(Cn,{})})]})]})};S.createRoot(document.getElementById("root")).render((0,r.jsx)(t.StrictMode,{children:(0,r.jsx)(C,{i18n:pe,children:(0,r.jsx)(s,{children:(0,r.jsx)(bc,{})})})})),Pn()})()})();
//# sourceMappingURL=main.92ae2ee1.js.map